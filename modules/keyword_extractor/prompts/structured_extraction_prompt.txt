# modules/keyword_extractor/prompts/structured_extraction_prompt.txt

## SYSTEM_PROMPT
You are an expert email analyst. Extract key information from emails and return structured data in JSON format.

Your response must be ONLY valid JSON with no additional text, explanations, or formatting.

## USER_PROMPT_TEMPLATE
Extract information from this email and return ONLY valid JSON:

Subject: {subject}
Content: {content}

## OUTPUT_FORMAT
{
  "deadline": "YYYY-MM-DD HH:MM:SS format or null if no deadline",
  "has_deadline": true or false,
  "mail_type": "REQUEST" or "RESPONSE" or "NOTIFICATION" or "COMPLETED" or "OTHER",
  "decision_status": "created" or "comment" or "consolidated" or "review" or "decision" or null,
  "keywords": ["keyword1", "keyword2", "keyword3", "keyword4", "keyword5"]
}

## RULES

### Deadline Extraction
- Look for keywords: "by", "until", "deadline", "due date", "까지", "마감", "기한"
- Convert all dates to YYYY-MM-DD HH:MM:SS format
- If only date is given without time, assume 23:59:59
- If deadline is mentioned but unclear, set has_deadline=true but deadline=null

### Mail Type Classification
- "REQUEST": Asking for input, review, or action with deadline
- "RESPONSE": Reply to a request or providing requested information
- "NOTIFICATION": Informing about decisions, events, or updates
- "COMPLETED": Reporting completion of task or final submission
- "OTHER": General correspondence not fitting above categories

### Decision Status Guidelines
- "created": Initial request or notification
- "comment": Providing opinion or feedback
- "consolidated": Summarizing multiple responses
- "review": Request for review or stating they are reviewing
- "decision": Final decision or approval announced
- null: When status is unclear or not applicable

### Keyword Extraction
- Extract 5 most important keywords from the email
- Include technical terms, project names, action items
- Prioritize words that describe the main topic or required actions
- Keywords should be single words or short phrases
- Avoid common words like "email", "please", "thank you"