{
  "version": "10.0.0",
  "description": "IACSGRAPH Query Templates - Part 6 of 9",
  "part_info": {
    "part_number": 6,
    "total_parts": 9,
    "templates_in_this_part": 20,
    "template_range": "101-120",
    "metadata_file": "metadata.json"
  },
  "templates": [
    {
      "template_id": "agenda_ur_related_responses_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "최근 {agenda}에서 UR과 관련된 아젠다나 기관의 응답이 있었나?",
          "{agenda} UR 관련 응답",
          "UR-related responses in {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 200) as response_excerpt\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND (a.keywords LIKE '%UR%' OR a.subject LIKE '%UR%')",
        "system": "사용자는 UR 개정에 대한 국제적 컨센서스를 파악하려고 합니다.\n1. UR 관련 의제들의 응답을 종합적으로 수집합니다\n2. 각 조직의 찬반 입장과 조건을 분석합니다\n3. 기술적 우려사항과 비용 문제를 구분합니다\n4. 주요 선급들의 입장이 특히 중요합니다\n5. 합의 가능한 개정안 도출에 필요한 정보를 제공합니다",
        "sql_prompt": "최근 {agenda}에서 UR과 관련된 아젠다나 기관의 응답이 있었나?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "recent_eg_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 아젠다나 응답 중에서 EG와 관련된 내용이 있나",
          "최근 EG 관련 내용",
          "recent EG-related content"
        ],
        "keywords": [
          "EG",
          "Expert Group",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT 'agenda' as source_type, \n                    agenda_code, \n                    subject, \n                    keywords, \n                    sent_time\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE (keywords LIKE '%EG%' OR subject LIKE '%Expert Group%')\n                AND {period_condition}\n                \n                UNION ALL\n                \n                SELECT \n                    'chair' as source_type,\n                    agenda_code,\n                    subject,\n                    keywords,\n                    created_at as sent_time\n                FROM agenda_chair\n                WHERE (keywords LIKE '%EG%' OR subject LIKE '%Expert Group%')\n                AND created_at >= DATE('now', '-30 days')\nORDER BY sent_time DESC",
        "system": "사용자는 EG의 기술적 논의를 상세히 추적하려고 합니다.\n1. EG 관련 의제의 본문과 첨부 문서를 추출합니다\n2. 기술적 세부사항과 논의 경과를 분석합니다\n3. 주요 기술적 쟁점과 해결 방안을 파악합니다\n4. EG 권고사항이 향후 규정에 미칠 영향을 예측합니다\n5. 우리의 기술 개발 방향과 일치하는지 검토합니다",
        "sql_prompt": "최근 아젠다나 응답 중에서 EG와 관련된 내용이 있나를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 다음과 같이 정리해주세요:\n1. 검색된 의제 수와 분포\n2. 관련도 높은 상위 의제 요약\n3. 시간순/중요도순 정렬 결과\n4. 검색 키워드별 매칭 현황\n5. 추가 검색 키워드 제안"
    },
    {
      "template_id": "recent_future_work_discussions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "최근 논의된 내용 중 향후 작업 하기로 했던 내용이 있나?",
          "향후 작업 계획",
          "future work commitments"
        ],
        "keywords": [
          "향후",
          "작업",
          "future",
          "work"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.sent_time\nFROM agenda_all a\nWHERE (a.body LIKE '%future work%' OR a.body LIKE '%향후 작업%' OR a.body LIKE '%to be developed%' OR a.body LIKE '%추후 개발%' OR a.body LIKE '%next meeting%' OR a.body LIKE '%다음 회의%') AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 IMO의 미래 작업 방향을 파악하려고 합니다.\n1. 'future work', 'work programme' 등의 키워드로 검색합니다\n2. 새로운 작업 항목과 우선순위를 확인합니다\n3. 중장기 규제 로드맵을 파악합니다\n4. 우리가 준비해야 할 미래 이슈를 식별합니다\n5. 선제적 R&D와 역량 개발 계획을 수립합니다",
        "sql_prompt": "최근 논의된 내용 중 향후 작업 하기로 했던 내용이 있나?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_issue_organization_opinions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 아젠다의 중요 이슈들에 대해서 각각 이슈를 분리하고 각 기관들의 의견 취합해줘",
          "{agenda} 이슈별 기관 의견",
          "organization opinions by issue for {agenda}"
        ],
        "keywords": [
          "이슈",
          "의견",
          "취합"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    a.keywords,\n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 100)\n                        ELSE ''\n                    END ||\n                    CASE \n                        WHEN arc.NK IS NOT NULL THEN ' NK: ' || SUBSTR(arc.NK, 1, 100)\n                        ELSE ''\n                    END ||\n                    CASE \n                        WHEN arc.CCS IS NOT NULL THEN ' CCS: ' || SUBSTR(arc.CCS, 1, 100)\n                        ELSE ''\n                    END as opinions\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND {issue_condition}",
        "system": "사용자는 특정 이슈의 전체 의견 지형을 파악하려고 합니다.\n1. 해당 이슈 관련 모든 응답을 수집합니다\n2. 각 조직의 입장을 카테고리화합니다 (찬성/반대/중립/조건부)\n3. 주요 논점별로 의견 분포를 분석합니다\n4. 합의 가능성과 주요 장애물을 식별합니다\n5. 우리의 최적 포지셔닝을 결정하는 데 활용합니다",
        "sql_prompt": "{agenda}에서 아젠다의 중요 이슈들에 대해서 각각 이슈를 분리하고 각 기관들의 의견 취합해줘를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          },
          "default": "SDTP-III-2025-01"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        },
        {
          "name": "issue",
          "type": "string",
          "description": "issue 검색",
          "required": false,
          "mcp_format": {
            "type": "string"
          },
          "sql_builder": {
            "type": "keywords",
            "field": "a.keywords",
            "operator": "LIKE",
            "placeholder": "{issue_condition}"
          },
          "default": ""
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_main_issues_related_list_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}의 아젠다에서 주요 이슈와 관련된 아젠다 리스트를 제공해줘",
          "{agenda} 이슈 관련 의제 목록",
          "agendas related to {agenda} main issues"
        ],
        "keywords": [
          "주요이슈",
          "관련",
          "리스트"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords, a2.agenda_panel\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND {period_condition}\nORDER BY a2.sent_time DESC",
        "system": "사용자는 주요 이슈의 전체적인 논의 구조를 파악하려고 합니다.\n1. 핵심 키워드를 포함한 모든 관련 의제를 추출합니다\n2. 의제 간 연관성과 선후 관계를 분석합니다\n3. 이슈의 발전 과정과 현재 상태를 파악합니다\n4. 중복 논의나 상충되는 결정을 방지합니다\n5. 통합적 대응 전략 수립에 활용합니다",
        "sql_prompt": "{agenda}의 아젠다에서 주요 이슈와 관련된 아젠다 리스트를 제공해줘를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.a2.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_ur_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 UR과 관련된 내용이 있냐?",
          "{agenda} UR 관련 내용",
          "UR-related content in {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.keywords\nFROM agenda_all a\nWHERE a.agenda_code = 'PLACEHOLDER_AGENDA' AND (a.body LIKE '%UR%' OR a.keywords LIKE '%UR%' OR a.subject LIKE '%Uniform Requirement%')",
        "system": "사용자는 UR 개정의 기술적 세부사항을 검토하려고 합니다.\n1. UR 관련 의제의 본문 내용을 상세히 추출합니다\n2. 개정 제안의 구체적인 조항과 변경사항을 분석합니다\n3. 기술적 근거와 영향 평가를 확인합니다\n4. 산업계에 미치는 비용과 기술적 부담을 평가합니다\n5. 대응 방안과 의견서 작성에 필요한 정보를 제공합니다",
        "sql_prompt": "{agenda}에서 UR과 관련된 내용이 있냐?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 다음과 같이 정리해주세요:\n1. 검색된 의제 수와 분포\n2. 관련도 높은 상위 의제 요약\n3. 시간순/중요도순 정렬 결과\n4. 검색 키워드별 매칭 현황\n5. 추가 검색 키워드 제안"
    },
    {
      "template_id": "agenda_imo_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 IMO관련된 내용이 있나?",
          "{agenda} IMO 관련 내용",
          "IMO-related content in {agenda}"
        ],
        "keywords": [
          "IMO",
          "관련",
          "내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.keywords\nFROM agenda_all a\nWHERE a.agenda_code = 'PLACEHOLDER_AGENDA' AND (a.body LIKE '%IMO%' OR a.keywords LIKE '%IMO%' OR a.subject LIKE '%International Maritime Organization%')",
        "system": "사용자는 IMO 본부의 정책 방향을 상세히 파악하려고 합니다.\n1. IMO 사무국이 발송하거나 주도하는 의제를 추출합니다\n2. 정책 문서와 전략 계획을 중점적으로 분석합니다\n3. IMO의 중장기 비전과 우선순위를 이해합니다\n4. 글로벌 해사 정책의 방향성을 예측합니다\n5. 우리의 전략을 IMO 방향과 일치시키는 데 활용합니다",
        "sql_prompt": "{agenda}에서 IMO관련된 내용이 있나?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 다음과 같이 정리해주세요:\n1. 검색된 의제 수와 분포\n2. 관련도 높은 상위 의제 요약\n3. 시간순/중요도순 정렬 결과\n4. 검색 키워드별 매칭 현황\n5. 추가 검색 키워드 제안"
    },
    {
      "template_id": "agenda_completion_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제는 현재 종료되었는가?",
          "{agenda} 완료 여부",
          "is {agenda} completed?"
        ],
        "keywords": [
          "종료",
          "완료",
          "completed"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.decision_status,\n                    CASE \n                        WHEN ac.deadline <= DATE('now') THEN 'Completed'\n                        WHEN ac.deadline > DATE('now') AND ac.has_deadline = 1 THEN 'Decision Pending'\n                        ELSE 'In Progress'\n                    END as status\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_code = {agenda} AND ac.deadline > DATE('now')",
        "system": "사용자는 deadline 경과(deadline <= DATE('now'))된 의제의 최종 결과를 확인하려고 합니다.\n1. deadline <= DATE('now')인 특정 의제를 조회합니다\n2. 최종 결정사항과 그 근거를 확인합니다\n3. 이행 요구사항과 일정을 파악합니다\n4. 관련 문서와 가이드라인을 확인합니다\n5. 우리 조직의 후속 조치 계획을 수립합니다",
        "sql_prompt": "{agenda} 의제는 현재 종료되었는가?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 상태를 다음과 같이 분석해주세요:\n1. 상태별 의제 분포 현황\n2. 진행 지연 의제 식별\n3. 완료 예정 의제 현황\n4. 병목 구간 분석\n5. 프로세스 개선 제안"
    },
    {
      "template_id": "agenda_important_issues_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda} 아젠다의 중요 이슈는 뭐지?",
          "{agenda} 주요 이슈",
          "important issues of {agenda}"
        ],
        "keywords": [
          "중요",
          "이슈",
          "important"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.keywords, a.body\nFROM agenda_all a\nWHERE (a.agenda_code = 'PLACEHOLDER_AGENDA' OR agenda_base = 'PLACEHOLDER_AGENDA') AND (a.keywords LIKE '%important%' OR a.keywords LIKE '%중요%' OR a.keywords LIKE '%critical%' OR a.keywords LIKE '%핵심%')",
        "system": "사용자는 현재 가장 중요한 이슈를 선별하려고 합니다.\n1. 응답률, 응답 조직 수, 키워드 빈도 등을 종합 평가합니다\n2. 의장이 강조하는 의제에 가중치를 부여합니다\n3. 여러 패널에서 동시에 다뤄지는 이슈를 식별합니다\n4. 산업 영향도와 규제 강도를 고려합니다\n5. 전략적 대응이 필요한 핵심 이슈를 도출합니다",
        "sql_prompt": "{agenda} 아젠다의 중요 이슈는 뭐지?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_previous_discussions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 이전에 논의된 적이 있나?",
          "{agenda} 이전 논의 이력",
          "previous discussions of {agenda}"
        ],
        "keywords": [
          "이전",
          "논의",
          "previous"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.decision_status\nFROM agenda_all a\nWHERE agenda_base = SUBSTR('PLACEHOLDER_AGENDA', 1, LENGTH('PLACEHOLDER_AGENDA')-1) AND a.agenda_code < 'PLACEHOLDER_AGENDA'\nORDER BY a.agenda_code DESC",
        "system": "사용자는 의제의 역사적 맥락을 이해하려고 합니다.\n1. 동일하거나 유사한 주제의 과거 의제를 검색합니다\n2. 시간순으로 정렬하여 논의 발전 과정을 추적합니다\n3. 과거 결정사항과 현재 제안의 연관성을 분석합니다\n4. 반복되는 이슈나 해결되지 않은 문제를 식별합니다\n5. 과거 경험을 현재 대응에 활용합니다",
        "sql_prompt": "{agenda}와 관련해서 이전에 논의된 적이 있나?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_other_panels_discussion_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 다른 패널에서 논의되고 있는 패널이 있나?",
          "{agenda} 타패널 논의",
          "other panels discussing {agenda} topics"
        ],
        "keywords": [
          "다른패널",
          "논의",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_panel, COUNT(DISTINCT a2.agenda_code) as agenda_count\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_panel != a1.agenda_panel\nORDER BY agenda_count DESC",
        "system": "사용자는 패널 간 논의 일관성을 확보하려고 합니다.\n1. 동일 주제를 다루는 다른 패널의 의제를 검색합니다\n2. 패널별 접근 방식과 결정사항을 비교합니다\n3. 상충되는 방향이나 중복 작업을 식별합니다\n4. 패널 간 조율이 필요한 사항을 도출합니다\n5. 통합된 입장으로 일관성을 유지합니다",
        "sql_prompt": "{agenda}와 관련해서 다른 패널에서 논의되고 있는 패널이 있나?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_other_panels_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 다른 패널에서 논의되고 있는 아젠다가 있나?",
          "{agenda} 타패널 의제",
          "other panel agendas related to {agenda}"
        ],
        "keywords": [
          "다른패널",
          "아젠다",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_panel, a2.agenda_code, a2.subject, a2.keywords\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_panel != a1.agenda_panel \n                AND a2.sent_time >= DATE('now', '-30 days')\nORDER BY a2.sent_time DESC",
        "system": "사용자는 관련된 모든 패널의 논의를 종합하려고 합니다.\n1. 키워드와 주제를 기반으로 관련 의제를 광범위하게 검색합니다\n2. 패널별로 그룹화하여 체계적으로 제시합니다\n3. 각 패널의 관점과 우선순위 차이를 이해합니다\n4. 시너지 효과를 낼 수 있는 협력 기회를 찾습니다\n5. 포괄적 대응 전략 수립에 활용합니다",
        "sql_prompt": "{agenda}와 관련해서 다른 패널에서 논의되고 있는 아젠다가 있나?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          },
          "default": "SDTP-III-2025-01"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_kr_response_check_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제에서 KR이 응답을 하였는가?",
          "{agenda} KR 응답 여부",
          "did KR respond to {agenda}?"
        ],
        "keywords": [
          "KR",
          "응답",
          "여부"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.deadline,\n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'Responded' \n                        ELSE 'No Response' \n                    END as kr_status,\n                    arc.KR as kr_response\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_code = {agenda}",
        "system": "사용자는 KR의 특정 의제 응답 상태를 확인하려고 합니다.\n1. agenda_responses_content에서 KR 응답 여부를 확인합니다\n2. 응답이 있다면 내용과 응답일을 표시합니다\n3. 미응답이면 마감일까지 남은 기간을 계산합니다\n4. 응답 필요 여부와 긴급도를 함께 평가합니다\n5. 즉각적인 액션 필요 여부를 판단합니다",
        "sql_prompt": "{agenda} 의제에서 KR이 응답을 하였는가?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.response_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답 현황을 다음과 같이 분석해주세요:\n1. 응답 필요 의제 수와 응답률\n2. 마감일별 긴급도 분류\n3. 주요 미응답 의제 내용 요약\n4. 타 조직 대비 응답 성과\n5. 우선 처리 필요 의제 추천"
    },
    {
      "template_id": "panel_ongoing_responded_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "진행 중인 의제에서 {panel}에서 현재 응답을 한 기관은?",
          "{panel} 진행중 의제 응답 기관",
          "organizations that responded to ongoing {panel} agendas"
        ],
        "keywords": [
          "진행중",
          "응답",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END as responded_orgs\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.deadline > DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 패널별 조직들의 응답 적극성을 평가하려고 합니다.\n1. 패널의 ongoing 의제 중 응답이 있는 것을 추출합니다\n2. 응답한 조직과 응답 시점을 확인합니다\n3. 빠른 응답은 해당 패널에 대한 높은 관심을 의미합니다\n4. 우리의 상대적 응답 속도를 비교합니다\n5. 경쟁 조직의 움직임을 실시간으로 추적합니다",
        "sql_prompt": "진행 중인 의제에서 {panel}에서 현재 응답을 한 기관은?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조회 결과를 다음과 같이 분석해주세요:\n1. 전체 데이터 요약 및 주요 수치\n2. 중요 항목 우선순위 정렬\n3. 패턴 및 트렌드 분석\n4. 이상 징후 또는 특이사항\n5. 후속 조치 권고사항"
    },
    {
      "template_id": "panel_no_response_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 현재 응답을 아직 하지 않은 기관은?",
          "{panel} 미응답 기관",
          "organizations not responding in {panel}"
        ],
        "keywords": [
          "미응답",
          "아직",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.deadline,\n                    'Waiting: ' ||\n                    CASE WHEN arc.KR IS NULL AND (ac.response_org = 'KR' OR ac.response_org = 'ALL') THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NULL AND (ac.response_org = 'NK' OR ac.response_org = 'ALL') THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NULL AND (ac.response_org = 'CCS' OR ac.response_org = 'ALL') THEN 'CCS ' ELSE '' END as no_response_orgs\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_panel = {panel}\n                AND ac.sender_type = 'CHAIR'\n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.deadline ASC",
        "system": "사용자는 패널별 소극적 참여 조직을 식별하려고 합니다.\n1. 패널별 응답 요청 대비 실제 응답을 비교합니다\n2. 응답률이 낮은 조직들을 순위화합니다\n3. 특정 패널에 관심이 없는 조직을 식별합니다\n4. 이들과의 불필요한 경쟁을 피할 수 있습니다\n5. 영향력 있는 조직에 집중하여 효율성을 높입니다",
        "sql_prompt": "{panel}에서 현재 응답을 아직 하지 않은 기관은?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조회 결과를 다음과 같이 분석해주세요:\n1. 전체 데이터 요약 및 주요 수치\n2. 중요 항목 우선순위 정렬\n3. 패턴 및 트렌드 분석\n4. 이상 징후 또는 특이사항\n5. 후속 조치 권고사항"
    },
    {
      "template_id": "agenda_responses_analysis_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda} 지금까지 응답한 의견을 분석해줘",
          "{agenda} 응답 분석",
          "analyze responses to {agenda}"
        ],
        "keywords": [
          "응답",
          "의견",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 500) as response_content,\n                    arc.updated_at\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제에 대한 전체 응답을 체계적으로 분석하려고 합니다.\n1. 모든 응답을 수집하여 주요 논점을 추출합니다\n2. 찬성/반대/중립의 분포를 정량화합니다\n3. 조건부 동의의 구체적 조건을 분석합니다\n4. 핵심 쟁점과 타협 가능 영역을 식별합니다\n5. 최종 합의 도출을 위한 전략을 수립합니다",
        "sql_prompt": "{agenda} 지금까지 응답한 의견을 분석해줘를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "mail_content_agenda_comparison_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "메일 내용이 {agenda}에서 지금까지 응답한 의견과 동일한 부분 상반되는 부분 검토해줘",
          "{agenda} 의견 비교 분석",
          "compare mail content with {agenda} responses"
        ],
        "keywords": [
          "비교",
          "동일",
          "상반"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    a.body as mail_content,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 500) as response_content\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제 발전 과정을 추적하려고 합니다.\n1. 원본 메일 내용과 최종 의제를 비교합니다\n2. 추가, 삭제, 수정된 부분을 식별합니다\n3. 변경의 이유와 영향을 분석합니다\n4. 주요 이해관계자의 영향력을 추론합니다\n5. 향후 유사 의제 제안 시 참고합니다",
        "sql_prompt": "메일 내용이 {agenda}에서 지금까지 응답한 의견과 동일한 부분 상반되는 부분 검토해줘를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "keyword",
          "type": "string",
          "required": false,
          "description": "Keywords from mail content to compare",
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 분석 결과를 다음과 같이 정리해주세요:\n1. 주요 의제별 핵심 내용 요약\n2. 이해관계자별 입장 정리\n3. 쟁점 사항 및 리스크 분석\n4. 예상되는 영향 및 파급효과\n5. 대응 전략 및 권고사항"
    },
    {
      "template_id": "agenda_description_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에 대해서 설명해줘",
          "{agenda} 설명",
          "describe {agenda}"
        ],
        "keywords": [
          "설명",
          "describe",
          "정보"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    body,\n                    a.keywords,\n                    a.decision_status\nFROM agenda_all a\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제에 대한 포괄적인 이해를 원합니다.\n1. 의제의 배경과 제안 이유를 설명합니다\n2. 주요 내용과 기술적 세부사항을 요약합니다\n3. 예상되는 영향과 이해관계를 분석합니다\n4. 관련 규정이나 선례를 참조합니다\n5. 종합적인 브리핑 자료로 활용합니다",
        "sql_prompt": "{agenda}에 대해서 설명해줘를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 다음과 같이 정리해주세요:\n1. 검색된 의제 수와 분포\n2. 관련도 높은 상위 의제 요약\n3. 시간순/중요도순 정렬 결과\n4. 검색 키워드별 매칭 현황\n5. 추가 검색 키워드 제안"
    },
    {
      "template_id": "recent_progress_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 진행 현황은?",
          "최근 활동 현황",
          "recent progress status"
        ],
        "keywords": [
          "최근",
          "진행",
          "현황"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_panel, COUNT(DISTINCT ac.agenda_code) as agenda_count, COUNT(DISTINCT CASE WHEN ac.deadline > DATE('now') THEN ac.agenda_code END) as ongoing_count, COUNT(DISTINCT CASE WHEN ac.deadline <= DATE('now') THEN ac.agenda_code END) as completed_count\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.sent_time BETWEEN {period_start} AND {period_end} AND ac.deadline > DATE('now')\nORDER BY agenda_count DESC",
        "system": "사용자는 최근 진전이 있은 의제를 추적하려고 합니다.\n1. updated_time 기준으로 최근 변경된 의제를 추출합니다\n2. 상태 변경 내역과 업데이트 내용을 확인합니다\n3. 중요한 진전이나 결정사항을 파악합니다\n4. 우리의 대응이 필요한 변경사항을 식별합니다\n5. 실시간 모니터링으로 신속한 대응을 가능하게 합니다",
        "sql_prompt": "최근 진행 현황은?를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 상태를 다음과 같이 분석해주세요:\n1. 상태별 의제 분포 현황\n2. 진행 지연 의제 식별\n3. 완료 예정 의제 현황\n4. 병목 구간 분석\n5. 프로세스 개선 제안"
    },
    {
      "template_id": "kr_opinion_based_reply_draft_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "지난 KR의 의견을 바탕으로 {agenda}에 대한 회신 메일을 작성해줘",
          "KR 의견 기반 {agenda} 회신",
          "draft reply for {agenda} based on KR opinions"
        ],
        "keywords": [
          "KR",
          "의견",
          "회신",
          "작성"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, \n                    a.subject, \n                    COALESCE(arc.KR, arc.NK, arc.CCS) as existing_responses, \n                    a.keywords, \n                    arc.updated_at\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND {period_condition}",
        "system": "사용자는 일관성 있는 응답을 작성하려고 합니다.\n1. 유사한 주제에 대한 KR의 과거 응답을 수집합니다\n2. 핵심 논리와 일관된 입장을 추출합니다\n3. 사용된 근거와 참고 자료를 정리합니다\n4. 상황 변화에 따른 입장 조정 필요성을 검토합니다\n5. 일관성과 유연성의 균형을 유지합니다",
        "sql_prompt": "지난 KR의 의견을 바탕으로 {agenda}에 대한 회신 메일을 작성해줘를 위해 필요한 데이터를 조회하고 정렬합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답 현황을 다음과 같이 분석해주세요:\n1. 응답 필요 의제 수와 응답률\n2. 마감일별 긴급도 분류\n3. 주요 미응답 의제 내용 요약\n4. 타 조직 대비 응답 성과\n5. 우선 처리 필요 의제 추천"
    }
  ]
}