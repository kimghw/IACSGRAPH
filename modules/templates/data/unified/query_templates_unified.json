{
  "version": "10.0.0",
  "description": "IACSGRAPH Query Templates Metadata",
  "last_updated": "2025-01-26",
  "total_templates": 175,
  "metadata": {
    "last_updated": "2025-07-26",
    "mcp_integration": true,
    "parameter_format": "mcp_enhanced",
    "includes_related_tables": true,
    "categories": {
      "agenda_status": 7,
      "time_based_query": 3,
      "organization_response": 14,
      "agenda_statistics": 13,
      "agenda_analysis": 26,
      "keyword_analysis": 15,
      "agenda_search": 29,
      "system_config": 5,
      "data_quality": 3,
      "organization_analysis": 2,
      "meeting_info": 5,
      "project_team": 6,
      "panel_specific": 17,
      "keyword_search": 2,
      "chair_communication": 1,
      "panel_statistics": 2,
      "llm_direct_response": 3,
      "vectordb_search": 15,
      "response_analysis": 1,
      "deadline_analysis": 1,
      "organization_info": 1,
      "mail_content": 1,
      "statistics": 3
    },
    "routing_types": {
      "sql": 156,
      "llm_direct": 3,
      "vectordb": 15
    },
    "total_sql_templates": 174,
    "total_vectordb_templates": 0,
    "total_llm_direct_templates": 0,
    "dynamic_column_fix": {
      "date": "2025-01-26",
      "fixed_count": 16,
      "description": "Fixed dynamic column references to use CASE statements"
    },
    "database_schema": {
      "table_schemas": {
        "agenda_all": {
          "description": "모든 의제 메일을 저장하는 메인 테이블",
          "primary_key": "id",
          "key_columns": [
            {
              "name": "agenda_base_version",
              "type": "TEXT",
              "description": "의제 기본 버전 (예: PL25016a)"
            },
            {
              "name": "sender_organization",
              "type": "TEXT",
              "description": "발신 조직 코드 (KR, NK, CCS 등)"
            },
            {
              "name": "decision_status",
              "type": "TEXT",
              "description": "의제 상태 (created, ongoing, comment, completed)"
            },
            {
              "name": "sent_time",
              "type": "TIMESTAMP",
              "description": "메일 발송 시간"
            },
            {
              "name": "subject",
              "type": "TEXT",
              "description": "메일 제목"
            },
            {
              "name": "keywords",
              "type": "TEXT",
              "description": "키워드 목록"
            },
            {
              "name": "response_org",
              "type": "TEXT",
              "description": "응답 요청 조직 (ALL 또는 특정 조직)"
            }
          ],
          "usage_notes": "일반적인 의제 조회의 기본 테이블"
        },
        "agenda_chair": {
          "description": "의장(Chair)이 발송한 의제 메일",
          "primary_key": "id",
          "key_columns": [
            {
              "name": "agenda_base_version",
              "type": "TEXT",
              "description": "의제 기본 버전"
            },
            {
              "name": "mail_type",
              "type": "TEXT",
              "description": "메일 유형 (request: 응답요청, notification: 알림)"
            },
            {
              "name": "has_deadline",
              "type": "INTEGER",
              "description": "마감일 존재 여부 (0 또는 1)"
            },
            {
              "name": "deadline",
              "type": "TIMESTAMP",
              "description": "응답 마감일"
            },
            {
              "name": "decision_status",
              "type": "TEXT",
              "description": "의제 상태"
            },
            {
              "name": "response_org",
              "type": "TEXT",
              "description": "응답 요청 조직"
            },
            {
              "name": "created_at",
              "type": "TIMESTAMP",
              "description": "생성 시간"
            }
          ],
          "usage_notes": "응답이 필요한 의제 조회 시 사용. mail_type='request' AND has_deadline=1 조건 필수"
        },
        "agenda_pending": {
          "description": "시스템에서 자동 분류하지 못한 보류 메일",
          "primary_key": "id",
          "key_columns": [
            {
              "name": "subject",
              "type": "TEXT",
              "description": "메일 제목"
            },
            {
              "name": "error_reason",
              "type": "TEXT",
              "description": "분류 실패 이유"
            },
            {
              "name": "created_at",
              "type": "TIMESTAMP",
              "description": "수신 시간"
            }
          ],
          "usage_notes": "대기중인 안건이 아님. 수동 처리가 필요한 미분류 메일"
        },
        "agenda_responses_content": {
          "description": "의제에 대한 각 조직의 응답 내용 (비정규화 구조)",
          "primary_key": "agenda_base_version",
          "key_columns": [
            {
              "name": "agenda_base_version",
              "type": "TEXT",
              "description": "의제 기본 버전 (PK)"
            },
            {
              "name": "ABS",
              "type": "TEXT",
              "description": "ABS 조직의 응답 내용"
            },
            {
              "name": "BV",
              "type": "TEXT",
              "description": "BV 조직의 응답 내용"
            },
            {
              "name": "CCS",
              "type": "TEXT",
              "description": "CCS 조직의 응답 내용"
            },
            {
              "name": "CRS",
              "type": "TEXT",
              "description": "CRS 조직의 응답 내용"
            },
            {
              "name": "DNV",
              "type": "TEXT",
              "description": "DNV 조직의 응답 내용"
            },
            {
              "name": "IRS",
              "type": "TEXT",
              "description": "IRS 조직의 응답 내용"
            },
            {
              "name": "KR",
              "type": "TEXT",
              "description": "KR 조직의 응답 내용"
            },
            {
              "name": "NK",
              "type": "TEXT",
              "description": "NK 조직의 응답 내용"
            },
            {
              "name": "PRS",
              "type": "TEXT",
              "description": "PRS 조직의 응답 내용"
            },
            {
              "name": "RINA",
              "type": "TEXT",
              "description": "RINA 조직의 응답 내용"
            },
            {
              "name": "IL",
              "type": "TEXT",
              "description": "IL 조직의 응답 내용"
            },
            {
              "name": "TL",
              "type": "TEXT",
              "description": "TL 조직의 응답 내용"
            },
            {
              "name": "LR",
              "type": "TEXT",
              "description": "LR 조직의 응답 내용"
            }
          ],
          "usage_notes": "각 조직별 응답은 별도 컬럼. 동적 컬럼 참조 불가, CASE 문 사용 필요"
        },
        "agenda_responses_receivedtime": {
          "description": "의제에 대한 각 조직의 응답 수신 시간",
          "primary_key": "agenda_base_version",
          "key_columns": [
            {
              "name": "agenda_base_version",
              "type": "TEXT",
              "description": "의제 기본 버전 (PK)"
            },
            {
              "name": "ABS",
              "type": "TIMESTAMP",
              "description": "ABS 응답 수신 시간"
            },
            {
              "name": "BV",
              "type": "TIMESTAMP",
              "description": "BV 응답 수신 시간"
            },
            {
              "name": "CCS",
              "type": "TIMESTAMP",
              "description": "CCS 응답 수신 시간"
            },
            {
              "name": "CRS",
              "type": "TIMESTAMP",
              "description": "CRS 응답 수신 시간"
            },
            {
              "name": "DNV",
              "type": "TIMESTAMP",
              "description": "DNV 응답 수신 시간"
            },
            {
              "name": "IRS",
              "type": "TIMESTAMP",
              "description": "IRS 응답 수신 시간"
            },
            {
              "name": "KR",
              "type": "TIMESTAMP",
              "description": "KR 응답 수신 시간"
            },
            {
              "name": "NK",
              "type": "TIMESTAMP",
              "description": "NK 응답 수신 시간"
            },
            {
              "name": "PRS",
              "type": "TIMESTAMP",
              "description": "PRS 응답 수신 시간"
            },
            {
              "name": "RINA",
              "type": "TIMESTAMP",
              "description": "RINA 응답 수신 시간"
            },
            {
              "name": "IL",
              "type": "TIMESTAMP",
              "description": "IL 응답 수신 시간"
            },
            {
              "name": "TL",
              "type": "TIMESTAMP",
              "description": "TL 응답 수신 시간"
            },
            {
              "name": "LR",
              "type": "TIMESTAMP",
              "description": "LR 응답 수신 시간"
            }
          ],
          "usage_notes": "응답 시간 분석 시 사용. 구조는 agenda_responses_content와 동일"
        }
      },
      "organization_codes": {
        "KR": "Korean Register (한국선급)",
        "NK": "Nippon Kaiji Kyokai (일본선급)",
        "CCS": "China Classification Society (중국선급)",
        "ABS": "American Bureau of Shipping (미국선급)",
        "DNV": "Det Norske Veritas (노르웨이선급)",
        "BV": "Bureau Veritas (프랑스선급)",
        "LR": "Lloyd's Register (영국선급)",
        "RINA": "Registro Italiano Navale (이탈리아선급)",
        "IRS": "Indian Register of Shipping (인도선급)",
        "PRS": "Polish Register of Shipping (폴란드선급)",
        "CRS": "Croatian Register of Shipping (크로아티아선급)",
        "TL": "Türk Loydu (터키선급)",
        "IL": "International Register (국제선급)"
      },
      "database_info": {
        "type": "SQLite",
        "path": "/home/kimghw/IACSGRAPH/data/iacsgraph.db",
        "description": "IACS(국제선급연합) 의제 관리 데이터베이스"
      },
      "query_guidelines": {
        "response_required": "agenda_chair 테이블에서 mail_type='request' AND has_deadline=1 AND deadline > datetime('now') AND decision_status != 'completed'",
        "overview": "수신된 모든 메일은 agenda_all 테이블에 저장됩니다. 각 패널의 의장은 멤버/기관들에게 메일을 발송합니다. 메일이 발송되면 각 패널의 내용은 agenda_chair에 저장됩니다. agenda_chair의 mail_type은 의장이 응답을 요구하거나 필요시 응답을 요구하거나 또는 안내인지를 식별합니다. 이 테이블에는 메일 제목, 내용 그리고 내용의 키워드들이 있습니다. 그리고 멤버/기관의 응답이 필요한 경우 deadline을 주어 기한내에 회신을 하도록 합니다. 발생된 의제에 대해서 각 멤버/기관은 각 패널의 의장에게 회신을 합니다. 회신 내용은 agenda_responses_content에 agenda_base_version별 각 멤버 또는 기관의 응답 내용이 저장되어 있습니다. agenda_base_version이 의제의 최소 단위입니다. 그리고 agenda_responses_receivedtime은 각 의제에 대해 각 기관/멤버가 응답한 시간이 기록되어 있습니다. agenda_base_version별로 응답이 저장되어 있습니다. 각 기관/멤버들의 특정 의제나 응답 시간을 보려면 agenda_responses_content에서 데이터를 찾으면 되고 의제가 무엇인지를 보려면 agenda_chair를 보면 됩니다. 이 외에는 agenda_all을 보면 자세히 기록되어 있습니다.",
        "organization_response": "agenda_responses_content의 조직별 컬럼은 CASE 문으로 접근",
        "date_filtering": "DATE('now', '-N days') 형식 사용",
        "status_values": "chair의 deadline이 있는 의제는 has_deadline=1, mail_type='request'로 필터링"
      }
    }
  },
  "database_schema": {},
  "query_guidelines": {},
  "templates": [
    {
      "template_id": "all_panels_incomplete_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 모든 패널에서 완료되지 않은 의제 리스트",
          "미완료 상태의 모든 패널 의제들",
          "아직 완료되지 않은 전체 의제 목록"
        ],
        "keywords": [
          "미완료",
          "완료되지않은",
          "의제",
          "모든패널"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    ac.agenda_base_version,\n                    ac.agenda_code,\n                    ac.subject,\n                    ac.sender_organization,\n                    ac.sent_time,\n                    ac.deadline,\n                    ac.has_deadline,\n                    ac.response_org,\n                    ac.mail_type\n                FROM agenda_chair ac \n                WHERE ac.mail_type = 'REQUEST' \n                AND ac.has_deadline = 1 \n                AND ac.deadline > DATE('now') \n                AND {period_condition} \n                ORDER BY ac.sent_time DESC",
        "system": "사용자는 전체 업무 진행 상황을 모니터링하려고 합니다. \n1. agenda_all 테이블에서 deadline > DATE('now') 조건으로 모든 진행중(deadline > DATE('now')) 의제를 추출합니다\n2. created(신규), ongoing(진행중), comment(검토중) 등 다양한 상태를 모두 포함합니다\n3. sent_time DESC 정렬로 최신 의제부터 확인하여 최근 업무 동향을 파악합니다\n4. 선택적 기간 필터링으로 특정 시점의 업무 적체를 분석할 수 있습니다\n5. 이를 통해 업무 우선순위 조정과 리소스 재배치 의사결정을 지원합니다",
        "sql_prompt": "모든 패널에서 현재 진행 중이며 아직 완료되지 않은 의제들을 확인하고 싶습니다. 의장이 응답을 요청한 의제 중에서 마감일이 아직 지나지 않은 것들을 모두 보여주세요. 각 의제의 기본 정보와 함께 마감일과 응답 요청 대상을 포함해서 최신 의제부터 정렬해 주세요. 이를 통해 전체 패널의 업무 진행 상황을 파악하고, 우선적으로 처리해야 할 의제를 식별하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "all_panels_recent_3months_v2",
      "template_version": "1.0.0",
      "template_category": "time_based_query",
      "query_info": {
        "natural_questions": [
          "최근 3개월 동안 의장이 보낸 의제 목록",
          "지난 3개월간 Chair가 요청한 의제들",
          "3개월 이내 의장 발송 의제 리스트"
        ],
        "keywords": [
          "3개월",
          "최근",
          "논의",
          "의제"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    ac.agenda_base_version,\n                    ac.agenda_code,\n                    ac.subject,\n                    ac.sender_organization,\n                    ac.sent_time,\n                    ac.decision_status,\n                    ac.response_org,\n                    ac.deadline,\n                    ac.mail_type,\n                    ac.has_deadline\n                FROM agenda_chair ac \n                WHERE ac.sent_time >= DATE('now', '-90 days') \n                ORDER BY ac.sent_time DESC",
        "system": "사용자는 최근 의제 동향을 파악하여 중기 계획을 수립하려고 합니다.\n1. agenda_all 테이블에서 sender_type = 'CHAIR' 조건으로 의장이 보낸 메일만 필터링합니다\n2. 의장이 보낸 메일은 주로 응답을 요청하는 공식 의제입니다\n3. agenda_base_version은 의제의 기본 버전을 나타내는 중요한 식별자입니다\n4. 필요한 컬럼만 선택하여 가독성을 높입니다\n5. 기본값 90일은 분기별 보고서 작성에 최적화된 기간입니다",
        "sql_prompt": "지난 3개월 동안 의장이 보낸 모든 의제 목록을 확인하고 싶습니다. 각 의제의 현재 상태와 응답 요청 대상, 마감일 정보를 포함해서 가장 최근에 발송된 것부터 순서대로 보여주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "각 의제별로 주요 이슈에 대해서 정리해 주세요."
    },
    {
      "template_id": "org_no_response_ongoing_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "응답 요청(REQUEST) 메일 중 우리가 아직 응답하지 않은 의제",
          "미응답 상태의 REQUEST 타입 진행중 의제",
          "아직 답변하지 않은 응답 요청 메일들"
        ],
        "keywords": [
          "미응답",
          "organization",
          "진행중",
          "조직",
          "KR",
          "한국",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    ac.agenda_base_version,\n                    ac.agenda_code,\n                    ac.subject,\n                    ac.sender_organization,\n                    ac.sent_time,\n                    ac.deadline,\n                    ac.response_org,\n                    ac.mail_type\n                FROM agenda_chair ac\n                LEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\n                WHERE ac.mail_type = 'REQUEST'\n                AND ac.has_deadline = 1\n                AND ac.deadline > DATE('now')\n                AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR \n                     CASE {organization} \n                       WHEN 'ABS' THEN arc.ABS \n                       WHEN 'BV' THEN arc.BV \n                       WHEN 'CCS' THEN arc.CCS \n                       WHEN 'CRS' THEN arc.CRS \n                       WHEN 'DNV' THEN arc.DNV \n                       WHEN 'IRS' THEN arc.IRS \n                       WHEN 'KR' THEN arc.KR \n                       WHEN 'NK' THEN arc.NK \n                       WHEN 'PRS' THEN arc.PRS \n                       WHEN 'RINA' THEN arc.RINA \n                       WHEN 'IL' THEN arc.IL \n                       WHEN 'TL' THEN arc.TL \n                       WHEN 'LR' THEN arc.LR \n                     END IS NULL)\n                AND {period_condition}\n                ORDER BY ac.sent_time DESC",
        "system": "사용자는 응답 누락을 방지하고 적시에 의견을 제시하려고 합니다.\n1. agenda_all과 agenda_responses_content를 LEFT JOIN으로 연결합니다\n2. mail_type = 'REQUEST' 조건으로 응답을 요청하는 메일만 필터링합니다\n3. decision_status IN ('created', 'ongoing', 'comment')로 현재 활성 상태인 의제만 선택합니다\n4. 모든 조직의 응답 여부를 확인하여 아무도 응답하지 않은 의제를 찾습니다\n5. 국제 협력에서 무응답은 소극적 반대로 해석될 수 있어 주의가 필요합니다",
        "sql_prompt": "우리 조직이 아직 응답하지 않은 진행 중인 의제들을 찾아주세요. 의장이 우리에게 응답을 요청했거나 모든 조직에게 요청한 의제 중에서, 마감일이 지나지 않았고 우리가 아직 답변하지 않은 것들을 모두 보여주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제의 주요 이슈를 정리해 주세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "org_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "의장이 우리 조직에게 응답을 요청한 의제 중 마감일이 남은 것",
          "우리가 아직 응답하지 않은 Chair의 요청 사항",
          "마감일이 임박한 미응답 의제들"
        ],
        "keywords": [
          "organization",
          "답변",
          "조직",
          "KR",
          "한국",
          "기관",
          "응답필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_base_version,\n                    ac.agenda_code,\n                    ac.subject,\n                    ac.sender_organization,\n                    ac.sent_time,\n                    ac.deadline,\n                    ac.response_org,\n                    julianday(ac.deadline) - julianday('now') as days_remaining,\n                    CASE \n                        WHEN CASE {organization} WHEN 'ABS' THEN arc.ABS WHEN 'BV' THEN arc.BV WHEN 'CCS' THEN arc.CCS WHEN 'CRS' THEN arc.CRS WHEN 'DNV' THEN arc.DNV WHEN 'IRS' THEN arc.IRS WHEN 'KR' THEN arc.KR WHEN 'NK' THEN arc.NK WHEN 'PRS' THEN arc.PRS WHEN 'RINA' THEN arc.RINA WHEN 'IL' THEN arc.IL WHEN 'TL' THEN arc.TL WHEN 'LR' THEN arc.LR END IS NOT NULL THEN 'Responded'\n                        ELSE 'Not Responded'\n                    END as response_status\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND ac.deadline IS NOT NULL\n                AND ac.deadline >= DATE('now')\n                AND (CASE {organization} WHEN 'ABS' THEN arc.ABS WHEN 'BV' THEN arc.BV WHEN 'CCS' THEN arc.CCS WHEN 'CRS' THEN arc.CRS WHEN 'DNV' THEN arc.DNV WHEN 'IRS' THEN arc.IRS WHEN 'KR' THEN arc.KR WHEN 'NK' THEN arc.NK WHEN 'PRS' THEN arc.PRS WHEN 'RINA' THEN arc.RINA WHEN 'IL' THEN arc.IL WHEN 'TL' THEN arc.TL WHEN 'LR' THEN arc.LR END IS NULL OR CASE {organization} WHEN 'ABS' THEN arc.ABS WHEN 'BV' THEN arc.BV WHEN 'CCS' THEN arc.CCS WHEN 'CRS' THEN arc.CRS WHEN 'DNV' THEN arc.DNV WHEN 'IRS' THEN arc.IRS WHEN 'KR' THEN arc.KR WHEN 'NK' THEN arc.NK WHEN 'PRS' THEN arc.PRS WHEN 'RINA' THEN arc.RINA WHEN 'IL' THEN arc.IL WHEN 'TL' THEN arc.TL WHEN 'LR' THEN arc.LR END = '')\nORDER BY ac.deadline ASC",
        "system": "사용자는 응답 의무가 있는 의제를 체계적으로 관리하려고 합니다.\n1. agenda_chair 테이블에서 의장이 보낸 공식 요청 메일을 조회합니다\n2. response_org = '{organization}' OR response_org = 'ALL' 조건으로 응답 대상을 확인합니다\n3. agenda_responses_content와 LEFT JOIN하여 해당 조직의 응답 여부를 확인합니다\n4. deadline >= DATE('now')로 아직 마감되지 않은 의제만 필터링합니다\n5. days_remaining 계산으로 남은 기간을 표시하여 우선순위 설정을 돕습니다",
        "sql_prompt": "우리 조직이 응답해야 하는 의제 중 마감일이 남은 것들을 확인하고 싶습니다. 각 의제의 마감일까지 남은 일수와 현재 응답 상태를 함께 보여주고, 마감일이 가까운 순서대로 정렬해 주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제의 주요 이슈를 정리해 주세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "pending_agenda_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "분류가 보류 중인 메일의 수는?",
          "자동 분류되지 못한 의제 메일 개수",
          "수동 처리가 필요한 메일 수량"
        ],
        "keywords": [
          "분류보류",
          "보류중",
          "pending",
          "수동처리",
          "미분류",
          "개수"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.decision_status,\n                    COUNT(*) as count\nFROM agenda_chair ac\nWHERE ac.deadline > DATE('now')\nORDER BY count DESC",
        "system": "사용자는 조직별 활동성을 정량적으로 비교 분석하려고 합니다.\n1. decision_status = 'ongoing'으로 진행중인 의제만 필터링합니다\n2. GROUP BY sender_organization으로 조직별 집계를 수행합니다\n3. COUNT(*)로 각 조직의 활성 의제 수를 계산합니다\n4. ORDER BY COUNT(*) DESC로 활동성 순위를 명확히 합니다\n5. 이 데이터는 전략적 파트너십이나 협력 우선순위 결정에 활용됩니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 count DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "org_agenda_issues_summary_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답해야하는 의제에서 의제들의 주요 이슈 및 다른 기관의 의견 정리",
          "지정한 조직이 응답 필요 의제의 이슈와 타기관 의견",
          "지정한 조직이 대응 의제의 쟁점 및 각국 입장"
        ],
        "keywords": [
          "타기관",
          "이슈",
          "organization",
          "정리",
          "조직",
          "KR",
          "의견",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.keywords,\n                    ac.sent_time,\n                    ac.sender_organization as chair_org,\n                    arc.agenda_base_version,\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS: ' || SUBSTR(arc.ABS, 1, 200) ELSE '' END as ABS_opinion,\n                    CASE WHEN arc.BV IS NOT NULL THEN 'BV: ' || SUBSTR(arc.BV, 1, 200) ELSE '' END as BV_opinion,\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS: ' || SUBSTR(arc.CCS, 1, 200) ELSE '' END as CCS_opinion,\n                    CASE WHEN arc.CRS IS NOT NULL THEN 'CRS: ' || SUBSTR(arc.CRS, 1, 200) ELSE '' END as CRS_opinion,\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV: ' || SUBSTR(arc.DNV, 1, 200) ELSE '' END as DNV_opinion,\n                    CASE WHEN arc.IRS IS NOT NULL THEN 'IRS: ' || SUBSTR(arc.IRS, 1, 200) ELSE '' END as IRS_opinion,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 200) ELSE '' END as KR_opinion,\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK: ' || SUBSTR(arc.NK, 1, 200) ELSE '' END as NK_opinion,\n                    CASE WHEN arc.PRS IS NOT NULL THEN 'PRS: ' || SUBSTR(arc.PRS, 1, 200) ELSE '' END as PRS_opinion,\n                    CASE WHEN arc.RINA IS NOT NULL THEN 'RINA: ' || SUBSTR(arc.RINA, 1, 200) ELSE '' END as RINA_opinion,\n                    CASE WHEN arc.IL IS NOT NULL THEN 'IL: ' || SUBSTR(arc.IL, 1, 200) ELSE '' END as IL_opinion,\n                    CASE WHEN arc.TL IS NOT NULL THEN 'TL: ' || SUBSTR(arc.TL, 1, 200) ELSE '' END as TL_opinion,\n                    CASE WHEN arc.LR IS NOT NULL THEN 'LR: ' || SUBSTR(arc.LR, 1, 200) ELSE '' END as LR_opinion\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.mail_type IN ('NEW', 'REISSUE')\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 최근 발행된 의제들에 대한 각 조직의 의견을 종합 분석하려고 합니다.\n1. agenda_chair 테이블에서 최근 신규 발행된 의제들을 조회합니다\n2. agenda_responses_content 테이블에서 각 조직의 응답 내용을 가져옵니다\n3. 각 의제에 대한 모든 조직의 의견을 한 번에 조회합니다\n4. 의견의 찬반 및 상호 관계를 분석할 수 있도록 준비합니다\n5. 특정 조직 관점에서 다른 조직들의 입장을 파악할 수 있습니다",
        "sql_prompt": "우리 조직이 응답해야 하는 의제들에 대해 다른 조직들은 어떤 의견을 제시했는지 확인하고 싶습니다. 각 의제별로 모든 조직의 응답 내용 요약과 키워드를 함께 보여주세요. 1. 우리가 응답하지 않은 의제 식별, 2. 그 의제에 대한 다른 기관들의 의견 조회"
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조회된 의제들과 각 조직의 의견을 분석하여 다음과 같이 정리해주세요:\n1. 각 의제별로 주요 쟁점사항을 요약\n2. 지정된 조직({organization})의 의견을 중심으로 정리\n3. 다른 조직들의 의견을 다음과 같이 분류:\n   - 찬성/지지하는 조직들과 그 근거\n   - 반대/우려를 표명한 조직들과 그 이유\n   - 중립적이거나 조건부 동의한 조직들\n4. 의견 대립이 있는 경우, 핵심 쟁점과 타협 가능성 분석\n5. 전체적인 의견 분포와 향후 진행 방향 예측"
    },
    {
      "template_id": "org_agenda_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답해야하는 의제들의 주요 키워드",
          "지정한 조직이 응답 필요 의제의 핵심어",
          "지정한 조직이 대응 의제 키워드 분석"
        ],
        "keywords": [
          "organization",
          "조직",
          "KR",
          "키워드",
          "주요",
          "핵심어",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.keywords,\n                    COUNT(*) as count\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST'\n                AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND CASE {organization} WHEN 'ABS' THEN arc.ABS WHEN 'BV' THEN arc.BV WHEN 'CCS' THEN arc.CCS WHEN 'CRS' THEN arc.CRS WHEN 'DNV' THEN arc.DNV WHEN 'IRS' THEN arc.IRS WHEN 'KR' THEN arc.KR WHEN 'NK' THEN arc.NK WHEN 'PRS' THEN arc.PRS WHEN 'RINA' THEN arc.RINA WHEN 'IL' THEN arc.IL WHEN 'TL' THEN arc.TL WHEN 'LR' THEN arc.LR END IS NULL\n                AND ac.keywords IS NOT NULL\n                AND {period_condition} AND ac.has_deadline = 1\nORDER BY count DESC",
        "system": "사용자는 특정 조직이 아직 응답하지 않은 의제들의 키워드를 분석하려고 합니다.\n1. agenda_chair 테이블에서 REQUEST 타입의 의제를 찾습니다\n2. response_org가 특정 조직이거나 ALL인 의제를 필터링합니다\n3. agenda_responses_content에서 해당 조직이 응답하지 않은 의제만 선택합니다\n4. 키워드 빈도 분석을 통해 미응답 의제의 주요 토픽을 파악합니다\n5. 이를 통해 해당 조직이 처리해야 할 주요 이슈를 식별합니다",
        "sql_prompt": "우리 조직이 아직 응답하지 않은 의제들의 주요 키워드를 분석해 주세요. 어떤 주제들이 많이 다뤄지고 있는지 키워드별 빈도를 집계해서 보여주세요. 1. 현재 진행 중인 의제 식별, 2. 우리가 응답하지 않은 의제 식별, 우리가 응답하지 않은 agenda_chair의 의제에서 키워드를 조회"
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제와 키워드 정보를 정리해 주세요."
    },
    {
      "template_id": "org_response_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답해야 하는 의제들의 회신 중 중요 키워드",
          "지정한 조직이 응답 의제의 회신 키워드",
          "지정한 조직이 관련 응답들의 핵심어"
        ],
        "keywords": [
          "응답",
          "organization",
          "조직",
          "KR",
          "회신",
          "키워드",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.keywords,\n                    ac.sent_time,\n                    ac.deadline\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST'\n                AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND CASE {organization}\n                    WHEN 'ABS' THEN arc.ABS\n                    WHEN 'BV' THEN arc.BV\n                    WHEN 'CCS' THEN arc.CCS\n                    WHEN 'CRS' THEN arc.CRS\n                    WHEN 'DNV' THEN arc.DNV\n                    WHEN 'IRS' THEN arc.IRS\n                    WHEN 'KR' THEN arc.KR\n                    WHEN 'NK' THEN arc.NK\n                    WHEN 'PRS' THEN arc.PRS\n                    WHEN 'RINA' THEN arc.RINA\n                    WHEN 'IL' THEN arc.IL\n                    WHEN 'TL' THEN arc.TL\n                    WHEN 'LR' THEN arc.LR\n                END IS NULL\n                AND ac.keywords IS NOT NULL\n                AND ac.sent_time BETWEEN {period_start} AND {period_end} AND ac.has_deadline = 1\nORDER BY ac.sent_time DESC",
        "system": "사용자는 특정 조직이 아직 응답하지 않은 의장 요청 의제들의 키워드를 파악하려고 합니다.\n1. agenda_chair 테이블에서 REQUEST 타입의 의제를 찾습니다\n2. response_org가 특정 조직이거나 ALL인 의제를 필터링합니다\n3. agenda_responses_content에서 해당 조직이 응답하지 않은 의제만 선택합니다\n4. 미응답 의제들의 키워드를 추출하여 분석합니다\n5. 이를 통해 해당 조직이 우선적으로 처리해야 할 주제를 파악합니다",
        "sql_prompt": "agenda_chair 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. mail_type='REQUEST'로 응답 요청 메일만 추출, CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 ac.sent_time DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "keyword_search_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 논의된 의제들 중에 {keywords}에 대해서 논의되고 있는 의제",
          "{keywords} 관련 의제 검색",
          "{keywords}에 대한 논의 사항"
        ],
        "keywords": [
          "검색",
          "키워드",
          "논의",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST'\n                AND {keywords_condition}\n                AND {period_condition} AND ac.has_deadline = 1\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의장이 요청한 의제 중 특정 주제와 관련된 의제를 찾으려고 합니다.\n1. agenda_chair 테이블에서 REQUEST 타입의 의제만 필터링합니다\n2. keywords, subject, body 세 필드를 모두 검색하여 재현율을 최대화합니다\n3. LIKE '%keyword%' 패턴으로 부분 매칭을 지원합니다\n4. OR 조건으로 연결하여 어느 필드든 매칭되면 포함시킵니다\n5. sent_time DESC로 정렬하여 최신 요청사항을 우선 확인합니다",
        "sql_prompt": "agenda_chair 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. mail_type='REQUEST'로 응답 요청 메일만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 ac.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "default": "",
          "sql_builder": {
            "type": "keywords",
            "field": "ac.keywords",
            "operator": "LIKE",
            "placeholder": "{keywords_condition}"
          },
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "meeting_notification_mails_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 회의 개최관련 해서 알림을 준 메일",
          "회의 개최 공지 메일",
          "미팅 일정 알림 메일"
        ],
        "keywords": [
          "회의",
          "개최",
          "알림",
          "meeting",
          "notification"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND mail_type = 'NOTIFICATION' \n                AND (ac.subject LIKE '%meeting%' OR ac.subject LIKE '%회의%' OR \n                     ac.keywords LIKE '%meeting%' OR ac.keywords LIKE '%회의%' OR\n                     ac.keywords LIKE '%IMO%' OR ac.keywords LIKE '%MEPC%' OR\n                     ac.keywords LIKE '%MSC%' OR ac.keywords LIKE '%PPR%' OR\n                     ac.keywords LIKE '%SDC%' OR ac.keywords LIKE '%SSE%' OR\n                     ac.keywords LIKE '%CCC%' OR ac.keywords LIKE '%HTW%' OR\n                     ac.keywords LIKE '%III%' OR ac.keywords LIKE '%NCSR%')\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 회의 관련 행정 정보를 체계적으로 관리하려고 합니다.\n1. agenda_all에서 mail_type = 'notification'인 메일을 필터링합니다\n2. subject와 keywords 필드에서 회의 관련 용어를 검색합니다\n3. IMO 주요 위원회 이름(MEPC, MSC, PPR 등)도 포함하여 검색합니다\n4. sent_time DESC로 정렬하여 최신 정보를 우선 확인합니다\n5. 이를 통해 출장 계획과 사전 준비를 효율적으로 진행합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "yearly_agenda_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "올해 모든 패널의 아젠다 갯수",
          "올해 발행된 전체 의제 수",
          "금년도 총 아젠다 개수"
        ],
        "keywords": [
          "올해",
          "아젠다",
          "갯수",
          "전체"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT strftime('%Y', a.sent_time) as year,\n                    COUNT(*) as agenda_count\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY year DESC",
        "system": "사용자는 장기적인 업무량 추이와 트렌드를 분석하려고 합니다.\n1. strftime('%Y', sent_time)으로 연도별 그룹핑을 수행합니다\n2. COUNT(*)로 각 연도의 총 의제 수를 계산합니다\n3. ORDER BY year로 시간순 정렬하여 추이를 명확히 합니다\n4. 연도별 증감을 통해 IMO 활동의 활성화 정도를 파악합니다\n5. 이는 장기 인력 계획과 예산 수립에 활용됩니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 year DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "yearly_created_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "올해 생성된 아젠다가 무엇인가요?",
          "금년도 발행 의제 목록",
          "올해 만들어진 아젠다들"
        ],
        "keywords": [
          "올해",
          "생성",
          "아젠다",
          "목록"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.keywords,\n                    ac.sent_time,\n                    ac.response_org,\n                    ac.deadline\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST'\n                AND strftime('%Y', ac.sent_time) = strftime('%Y', 'now') AND ac.has_deadline = 1\nORDER BY ac.sent_time DESC",
        "system": "사용자는 올해 의장이 요청한 신규 의제들의 목록을 확인하려고 합니다.\n1. agenda_chair 테이블에서 REQUEST 타입의 메일만 필터링합니다\n2. strftime 함수로 올해 발행된 의제만 선택합니다\n3. 각 의제의 제목, 키워드, 응답 대상 등 상세 정보를 제공합니다\n4. 시간순 정렬로 최신 의제부터 확인할 수 있습니다\n5. 이를 통해 올해의 주요 이슈와 논의 동향을 파악합니다",
        "sql_prompt": "mail_type='REQUEST'로 응답 요청 메일만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 ac.sent_time DESC로 정렬해주세요."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "org_mail_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "각 조직별로 보낸 메일 수를 집계해 주세요",
          "기관별 발송 메일 통계",
          "조직별 메일 발송 현황"
        ],
        "keywords": [
          "조직별",
          "메일수",
          "집계",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.sender_organization,\n                    COUNT(*) as mail_count\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.sender_organization IS NOT NULL\n                AND {period_condition}\nORDER BY mail_count DESC",
        "system": "사용자는 조직별 전체 활동량을 정량적으로 비교하려고 합니다.\n1. sender_organization으로 GROUP BY하여 조직별 집계를 수행합니다\n2. COUNT(*)로 각 조직의 총 발송 메일 수를 계산합니다\n3. ORDER BY COUNT(*) DESC로 가장 활발한 조직부터 표시합니다\n4. 전체 기간의 누적 활동량은 조직의 영향력을 간접적으로 나타냅니다\n5. 이를 통해 주요 플레이어를 식별하고 전략적 관계를 구축합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 mail_count DESC로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "recent_5_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근에 생성된 agenda 5개를 보여주세요",
          "가장 최근 의제 5개",
          "최신 아젠다 5건"
        ],
        "keywords": [
          "최근",
          "5개",
          "최신",
          "아젠다"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY a.sent_time DESC",
        "system": "사용자는 최신 의제를 신속히 확인하려고 합니다.\n1. sent_time DESC로 정렬하여 가장 최근 의제부터 추출합니다\n2. LIMIT 5로 최신 5개만 선택합니다\n3. 빠른 현황 파악을 위한 대시보드 용도로 활용됩니다\n4. 매일 확인하여 새로운 이슈를 놓치지 않도록 합니다\n5. 긴급 대응이 필요한 사항을 조기에 발견할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC\n                LIMIT 5로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "recent_notification_mails_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 notification 타입의 메일만 조회해 주세요",
          "알림 타입 메일 목록",
          "notification 메일들"
        ],
        "keywords": [
          "notification",
          "알림",
          "타입",
          "메일"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND mail_type = 'NOTIFICATION'\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 최신 행정 통지사항을 파악하려고 합니다.\n1. mail_type = 'notification'으로 통지 메일만 필터링합니다\n2. sent_time DESC로 정렬하여 최신 통지부터 확인합니다\n3. 회의 일정이나 절차 변경은 즉각적인 대응이 필요합니다\n4. 정기적 확인으로 중요한 행정 변경사항을 놓치지 않습니다\n5. 특히 마감일이나 제출 절차 변경에 주의를 기울여야 합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "panel_agenda_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "최근 패널 별 agenda 수를 집계해주세요",
          "패널별 의제 통계",
          "각 패널의 아젠다 개수"
        ],
        "keywords": [
          "패널별",
          "집계",
          "통계",
          "수"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_panel,\n                    COUNT(*) as agenda_count\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY agenda_count DESC",
        "system": "사용자는 패널별 업무 분포를 파악하여 자원 배분을 최적화하려고 합니다.\n1. subject 필드에서 패널 정보를 추출합니다\n2. GROUP BY panel로 패널별 집계를 수행합니다\n3. COUNT(*) DESC로 가장 활발한 패널을 식별합니다\n4. 패널별 활동도는 해당 분야의 중요도와 긴급성을 반영합니다\n5. 이를 통해 전문 인력 배치와 역량 개발 우선순위를 결정합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 agenda_count DESC로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "imo_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 IMO와 관련된 agenda를 모두 찾아주세요",
          "IMO 관련 의제 검색",
          "국제해사기구 관련 아젠다"
        ],
        "keywords": [
          "IMO",
          "국제해사기구",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%IMO%' OR a.subject LIKE '%IMO%' OR a.body LIKE '%IMO%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 IMO 본부의 정책 방향과 우선순위를 파악하려고 합니다.\n1. sender_organization이나 keywords에서 IMO 관련 정보를 추출합니다\n2. IMO 직접 발송 의제는 정책적 중요도가 매우 높습니다\n3. 이러한 의제는 전체 회원국에 영향을 미치는 경우가 많습니다\n4. 기간 필터로 최근 IMO 정책 동향을 집중 분석합니다\n5. 선제적 대응으로 국제 표준 제정에서 영향력을 확보할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "ur_revision_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 UR 관련해서 재개정 요구사항과 관련된 아젠다를 찾아줘",
          "UR 개정 관련 의제",
          "통일규칙 재개정 요구사항"
        ],
        "keywords": [
          "UR",
          "재개정",
          "개정",
          "요구사항"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%UR%' OR a.subject LIKE '%UR%' OR a.subject LIKE '%Unified Requirement%')\n                AND (a.keywords LIKE '%revision%' OR a.subject LIKE '%revision%' OR body LIKE '%revision%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 선급 공통 규칙의 변경사항을 체계적으로 관리하려고 합니다.\n1. keywords나 subject에서 'UR' 관련 내용을 검색합니다\n2. UR 개정은 모든 선박에 적용되므로 산업 영향이 큽니다\n3. 개정 단계별로 기술 검토와 비용 분석이 필요합니다\n4. 조기 감지로 기술 개발과 대응 방안을 준비할 시간을 확보합니다\n5. 최종 승인 전 의견 제시로 합리적인 규칙 제정에 기여할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "pr_revision_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 PR 관련해서 재개정 요구사항과 관련된 아젠다를 찾아줘",
          "PR 개정 관련 의제",
          "절차 요구사항 재개정"
        ],
        "keywords": [
          "PR",
          "재개정",
          "개정",
          "요구사항"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%PR%' OR a.subject LIKE '%PR%' OR a.subject LIKE '%Procedural Requirement%')\n                AND (a.keywords LIKE '%revision%' OR a.subject LIKE '%revision%' OR body LIKE '%revision%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 업무 절차 변경사항을 사전에 파악하여 대비하려고 합니다.\n1. 'PR' 키워드로 절차 요구사항 관련 의제를 검색합니다\n2. PR 변경은 검사관 교육과 시스템 개선을 요구합니다\n3. 충분한 준비 기간 없이는 서비스 품질 저하가 우려됩니다\n4. 변경 내용의 조기 파악으로 교육 계획과 시스템 개발을 준비합니다\n5. 이행 일정을 고려하여 단계적 적용 계획을 수립할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "eg_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근에 EG 관련해서 논의된 아젠다 찾아줘",
          "EG 관련 의제",
          "Expert Group 논의 사항"
        ],
        "keywords": [
          "EG",
          "Expert Group",
          "전문가그룹"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%EG%' OR a.keywords LIKE '%Expert Group%' OR a.subject LIKE '%Expert Group%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 기술 표준의 초기 형성 과정을 모니터링하려고 합니다.\n1. 'EG' 또는 'Expert Group' 키워드로 관련 의제를 검색합니다\n2. EG 논의는 미래 규정의 기술적 토대가 됩니다\n3. 초기 단계 참여로 기술 표준 형성에 영향력을 행사할 수 있습니다\n4. EG 구성원과 논의 주제를 파악하여 네트워킹 기회를 활용합니다\n5. 기술 개발 방향을 조기에 감지하여 R&D 투자를 최적화합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "monthly_agenda_response_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "올해 월별 agenda 발송 및 그 아젠다에 대한 응답 현황",
          "월별 의제 발송 및 응답 통계",
          "월간 아젠다 응답률"
        ],
        "keywords": [
          "월별",
          "발송",
          "응답",
          "현황",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT strftime('%Y-%m', a.sent_time) as month,\n                    a.agenda_panel,\n                    COUNT(DISTINCT a.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE \n                        WHEN arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.CCS IS NOT NULL \n                        THEN a.agenda_code \n                    END) as responded_agendas\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY month DESC, a.agenda_panel",
        "system": "사용자는 월별 응답 성과를 체계적으로 추적하려고 합니다.\n1. strftime('%Y-%m', sent_time)으로 월별 그룹핑을 수행합니다\n2. 각 응답 상태별로 COUNT를 집계합니다\n3. 응답률 계산으로 월별 성과를 정량화합니다\n4. 계절적 패턴이나 특정 월의 업무 과부하를 식별합니다\n5. 인력 운영과 업무 분배 최적화에 활용합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 month DESC, a.agenda_panel로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "pending_agenda_error_reasons_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "처리되지 않은 pending agenda의 오류 이유들",
          "대기 중인 의제의 에러 원인",
          "pending 상태 오류 분석"
        ],
        "keywords": [
          "pending",
          "오류",
          "이유",
          "에러"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT error_reason, COUNT(*) as count\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND error_reason IS NOT NULL AND ac.deadline > DATE('now')\nORDER BY count DESC",
        "system": "사용자는 시스템 분류 오류를 분석하여 자동화를 개선하려고 합니다.\n1. agenda_pending 테이블의 error_reason을 GROUP BY로 집계합니다\n2. COUNT(*)로 각 오류 유형의 빈도를 계산합니다\n3. 빈도순 정렬로 가장 문제가 되는 오류를 식별합니다\n4. 반복적 오류 패턴에 대한 자동화 규칙을 개발할 수 있습니다\n5. 이를 통해 수동 처리 업무를 줄이고 효율성을 높입니다",
        "sql_prompt": " 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 최신 정보부터 확인할 수 있도록 count DESC로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "vessel_inventory_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "Vessel Asset Inventory 관련 agenda",
          "선박 자산 목록 관련 의제",
          "Vessel Inventory 아젠다"
        ],
        "keywords": [
          "Vessel",
          "Asset",
          "Inventory",
          "선박",
          "자산"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%vessel%' AND a.keywords LIKE '%inventory%')\n                OR (a.subject LIKE '%vessel%' AND a.subject LIKE '%inventory%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 선박 환경 규제 준수를 위한 인벤토리 관련 동향을 파악하려고 합니다.\n1. 'inventory', 'IHM', 'hazardous materials' 등의 키워드로 검색합니다\n2. 선박 재활용과 유해물질 관리는 강화되는 환경 규제의 핵심입니다\n3. 규정 변경은 선주와 조선소에 큰 비용 부담을 야기합니다\n4. 조기 파악으로 compliance 전략을 수립할 시간을 확보합니다\n5. 기술 개발과 서비스 준비에 필요한 리드타임을 확보합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "generic_keyword_search_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련 agenda",
          "{keywords}에 대한 의제",
          "{keywords} 아젠다 검색"
        ],
        "keywords": [
          "검색",
          "관련",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE {keyword_condition}\n                AND a.sent_time >= DATE('now', '-30 days')\nORDER BY a.sent_time DESC",
        "system": "사용자는 포괄적인 텍스트 검색을 수행하려고 합니다.\n1. 모든 텍스트 필드에서 키워드를 검색합니다\n2. LIKE 연산자로 부분 매칭을 지원합니다\n3. 대소문자 구분 없이 검색합니다\n4. 검색 결과는 관련성이나 최신순으로 정렬합니다\n5. 광범위한 정보 수집이 목적일 때 활용합니다",
        "sql_prompt": "DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "keyword",
          "type": "array",
          "required": true,
          "default": "",
          "sql_builder": {
            "type": "keywords",
            "field": "a.keywords",
            "operator": "LIKE",
            "placeholder": "{keyword_condition}"
          },
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "consolidated_status_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 consolidated 상태의 agenda 목록",
          "통합 완료된 의제들",
          "consolidated 상태 아젠다"
        ],
        "keywords": [
          "consolidated",
          "통합",
          "상태"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.decision_status,\n                    COUNT(*) as count,\n                    GROUP_CONCAT(a.agenda_code, ', ') as agenda_codes\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end} \n                AND a.decision_status = 'consolidated'\nORDER BY count DESC",
        "system": "사용자는 전체 의제의 상태별 분포를 종합적으로 파악하려고 합니다.\n1. 모든 상태의 의제를 카테고리별로 집계합니다\n2. 각 상태의 의미와 업무 단계를 명확히 합니다\n3. 상태별 전환 비율을 계산하여 프로세스 효율성을 평가합니다\n4. 병목 상태를 식별하여 개선점을 도출합니다\n5. 대시보드 형태로 시각화하기 좋은 데이터를 제공합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. decision_status = 'completed'로 완료된 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 count DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "multilateral_recent_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "MULTILATERAL의 최근 아젠다 리스트",
          "다자간 협의 의제 목록",
          "MULTILATERAL 아젠다"
        ],
        "keywords": [
          "MULTILATERAL",
          "다자간",
          "협의"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.sender_type = 'MULTILATERAL' AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 다자간 협력이 필요한 의제를 식별하려고 합니다.\n1. response_org = 'ALL'이거나 복수 조직이 지정된 의제를 추출합니다\n2. 다자간 협의는 복잡도가 높고 시간이 오래 걸립니다\n3. 주요 이해관계자를 파악하고 입장을 분석합니다\n4. 연합 형성과 협상 전략이 특히 중요합니다\n5. 국제 협력의 성과는 조직의 영향력을 높입니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "cyber_keyword_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "키워드에 'cyber'가 포함된 agenda",
          "사이버 관련 의제",
          "cyber 키워드 아젠다"
        ],
        "keywords": [
          "cyber",
          "사이버",
          "보안"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%cyber%' OR a.subject LIKE '%cyber%' OR a.body LIKE '%cyber%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 해사 사이버 보안 규제 동향을 종합적으로 파악하려고 합니다.\n1. 사이버 보안 관련 다양한 키워드로 포괄적 검색을 수행합니다\n2. 선박 시스템의 디지털화로 사이버 위험이 증가하고 있습니다\n3. IMO의 사이버 보안 규제는 지속적으로 강화되는 추세입니다\n4. 관련 논의를 조기에 파악하여 보안 체계를 선제적으로 구축합니다\n5. 규제 준수와 실질적 보안 강화를 동시에 달성할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "recent_month_chair_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 한 달간 생성된 chair agenda",
          "최근 의장 의제",
          "한달 내 chair 아젠다"
        ],
        "keywords": [
          "chair",
          "의장",
          "한달",
          "최근"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.created_at >= DATE('now', '-30 days')\nORDER BY ac.created_at DESC",
        "system": "사용자는 의장의 최근 활동을 집중 모니터링하려고 합니다.\n1. agenda_chair에서 최근 30일간의 모든 메일을 추출합니다\n2. mail_type별로 분류하여 의장의 활동 패턴을 분석합니다\n3. 요청사항과 통지사항의 비율로 패널 활동성을 평가합니다\n4. 의장의 우선순위와 관심사를 파악합니다\n5. 향후 패널 활동 방향을 예측하는 데 활용합니다",
        "sql_prompt": "agenda_chair 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.created_at DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "no_response_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "아직 아무도 응답하지 않은 agenda",
          "무응답 의제",
          "답변 없는 아젠다"
        ],
        "keywords": [
          "무응답",
          "미응답",
          "답변없음"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.*\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.sender_organization = 'Chair'\n                AND (\n                    arc.agenda_base_version IS NULL OR (\n                        arc.KR IS NULL AND arc.NK IS NULL AND arc.CCS IS NULL AND \n                        arc.ABS IS NULL AND arc.DNV IS NULL AND arc.BV IS NULL AND \n                        arc.LR IS NULL AND arc.RINA IS NULL AND arc.IRS IS NULL AND \n                        arc.IRS IS NULL AND arc.PRS IS NULL AND arc.CRS IS NULL AND \n                        arc.TL IS NULL AND arc.IL IS NULL\n                    )\n                )\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 무응답 의제의 특성을 분석하려고 합니다.\n1. agenda_responses_content에서 모든 조직 컬럼이 NULL인 의제를 찾습니다\n2. 무응답은 민감한 이슈이거나 합의 불가능한 주제일 수 있습니다\n3. 기술적 난이도나 비용 문제로 응답을 회피할 수도 있습니다\n4. 이러한 의제는 향후 논란이 될 가능성이 높습니다\n5. 선제적 입장 표명으로 논의를 주도할 기회가 될 수 있습니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "recent_weblink_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 webLink가 있는 agenda 목록",
          "웹링크 포함 의제",
          "링크 있는 아젠다"
        ],
        "keywords": [
          "webLink",
          "링크",
          "웹"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE webLink IS NOT NULL AND webLink != '' AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 외부 참고 자료가 있는 의제를 확인하려고 합니다.\n1. has_weblink = 1인 최근 의제를 추출합니다\n2. 링크된 자료의 유형과 중요도를 평가합니다\n3. 외부 자료는 추가적인 맥락 정보를 제공합니다\n4. 링크 유효성과 접근 가능성을 확인합니다\n5. 중요 참고 자료는 로컬에 백업하여 보관합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "recent_attachment_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 첨부 파일이 있는 agenda 목록",
          "첨부파일 포함 의제",
          "파일 첨부된 아젠다"
        ],
        "keywords": [
          "첨부파일",
          "attachment",
          "파일"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.hasAttachments = 1 \n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 첨부 문서가 있는 의제를 우선 검토하려고 합니다.\n1. has_attachment = 1인 최근 의제를 시간순으로 추출합니다\n2. 첨부파일은 상세 기술 사양이나 분석 데이터를 포함합니다\n3. 문서 검토에 필요한 전문가를 사전에 배정합니다\n4. 대용량 첨부는 다운로드 시간을 고려합니다\n5. 기술 문서의 버전 관리에 주의를 기울입니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "digital_transformation_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "Digital Transformation 관련 agenda",
          "디지털 전환 의제",
          "디지털화 관련 아젠다"
        ],
        "keywords": [
          "Digital",
          "Transformation",
          "디지털",
          "전환"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%digital%' OR a.subject LIKE '%digital%')\n                AND (a.keywords LIKE '%transformation%' OR a.subject LIKE '%transformation%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 해사 산업의 디지털 혁신 동향을 포괄적으로 모니터링하려고 합니다.\n1. 'digital', 'autonomous', 'electronic', 'data' 등 광범위한 키워드로 검색합니다\n2. 디지털 전환은 해사 산업의 미래 경쟁력을 좌우하는 핵심 요소입니다\n3. 규제 프레임워크가 기술 발전을 따라가는 과정을 추적합니다\n4. 미래 기술 투자 방향과 역량 개발 로드맵 수립에 활용합니다\n5. 선제적 대응으로 디지털 시대의 경쟁 우위를 확보할 수 있습니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "org_avg_response_time_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "조직별 평균 응답 소요 시간",
          "기관별 평균 답변 시간",
          "조직별 응답 속도"
        ],
        "keywords": [
          "평균",
          "응답시간",
          "조직별",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT 'KR' as organization,\n                    COUNT(*) as total_responses,\n                    AVG(julianday(art.KR) - julianday(a.sent_time)) as avg_response_days\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE arc.KR IS NOT NULL\n                AND art.KR IS NOT NULL\n                AND a.sent_time >= DATE('now', '-30 days')",
        "system": "사용자는 조직별 응답 효율성을 정량적으로 비교하려고 합니다.\n1. agenda_all의 sent_time과 agenda_responses_receivedtime을 조인합니다\n2. JULIANDAY 함수로 정확한 일수 차이를 계산합니다\n3. CASE문으로 각 조직의 응답 시간을 동적으로 추출합니다\n4. AVG로 평균을 계산하고 조직별로 비교합니다\n5. 빠른 응답은 준비도와 적극성을 나타내는 중요한 지표입니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "org_response_time_exclude_creation_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "아젠다 생성을 제외하고 지정한 조직이 평균 응답시간",
          "지정한 조직이의 순수 응답 시간",
          "지정한 조직이 답변만의 평균 시간"
        ],
        "keywords": [
          "organization",
          "응답시간",
          "조직",
          "제외",
          "KR",
          "평균",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT 'KR' as organization,\n                    COUNT(*) as count,\n                    AVG(julianday(art.KR) - julianday(a.sent_time)) as avg_days\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE arc.KR IS NOT NULL\n                AND art.KR IS NOT NULL\n                AND a.decision_status != 'created'\n                AND a.sent_time >= DATE('now', '-30 days')",
        "system": "사용자는 실질적인 검토 시간만을 측정하여 정확한 효율성을 평가하려고 합니다.\n1. 응답일과 발송일이 같은 경우를 제외하는 조건을 추가합니다\n2. 당일 응답은 사전 준비된 경우가 많아 일반적인 프로세스와 다릅니다\n3. 실제 검토 시간만 측정하여 프로세스 개선점을 도출합니다\n4. 조직별 비교를 통해 우리의 의사결정 속도를 객관적으로 평가합니다\n5. 병목 구간 식별과 프로세스 최적화에 활용합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "other_type_senders_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "other 타입의 발신자 목록",
          "기타 유형 발송자",
          "other 타입 sender"
        ],
        "keywords": [
          "other",
          "기타",
          "발신자",
          "타입"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT sender, a.sender_organization\nFROM agenda_all a\nWHERE a.sender_type = 'other'\nORDER BY a.sender_organization",
        "system": "사용자는 비표준 발신자를 식별하여 데이터 품질을 관리하려고 합니다.\n1. sender_type = 'Other' 또는 비표준 조직 코드를 찾습니다\n2. 이러한 예외 사례는 추가 검증이 필요할 수 있습니다\n3. 새로운 참여 조직이나 임시 그룹일 가능성을 검토합니다\n4. 데이터 분류 규칙 개선에 활용합니다\n5. 정기적 모니터링으로 데이터 일관성을 유지합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.sender_organization로 정렬하여 체계적으로 확인할 수 있도록 해주세요."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "recent_updated_chair_10_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 업데이트된 chair agenda 10개",
          "최신 수정 의장 의제 10건",
          "업데이트된 chair 아젠다"
        ],
        "keywords": [
          "업데이트",
          "chair",
          "의장",
          "10개"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nORDER BY ac.created_at DESC",
        "system": "사용자는 의장의 최신 업데이트를 신속히 파악하려고 합니다.\n1. agenda_chair에서 updated_time 기준 최신 10개를 추출합니다\n2. 의장의 업데이트는 정책 방향 전환을 의미할 수 있습니다\n3. 변경 내용과 그 의도를 분석합니다\n4. 우리의 기존 입장과 충돌하는지 검토합니다\n5. 필요시 즉각적인 대응 전략 수정이 필요합니다",
        "sql_prompt": "agenda_chair 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.created_at DESC\n                LIMIT 10로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "chair_no_deadline_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "마감일이 없는 chair agenda",
          "무기한 의장 의제",
          "데드라인 없는 chair 아젠다"
        ],
        "keywords": [
          "마감일없음",
          "chair",
          "의장",
          "무기한"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.sender_type = 'CHAIR'\n                AND (ac.has_deadline = 0 OR ac.deadline IS NULL)\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 정보성 메일과 액션 필요 메일을 구분하려고 합니다.\n1. agenda_chair에서 has_deadline = 0인 메일을 추출합니다\n2. 마감일 없는 메일은 주로 정보 공유 목적입니다\n3. 그러나 중요한 정책 발표일 수도 있으므로 내용 확인이 필요합니다\n4. 정기적으로 확인하여 중요 정보를 놓치지 않습니다\n5. 향후 의제로 발전할 수 있는 신호를 포착합니다",
        "sql_prompt": "agenda_all 테이블에서 응답 마감일이 설정된 의제를 관리하여 기한 내 처리를 보장하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 응답 기한이 임박한 의제 파악과 관리를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "active_time_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "가장 활발한 시간대의 agenda 발송 통계",
          "시간대별 의제 발송 현황",
          "피크 타임 아젠다 통계"
        ],
        "keywords": [
          "시간대",
          "활발",
          "통계",
          "발송"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT strftime('%H', a.sent_time) as hour,\n                    COUNT(*) as mail_count\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY hour",
        "system": "사용자는 의제 처리 시간을 분석하여 프로세스를 이해하려고 합니다.\n1. created에서 completed까지의 기간을 계산합니다\n2. 의제 유형별, 패널별 평균 처리 시간을 분석합니다\n3. 장기간 pending되는 의제는 복잡하거나 논란이 있을 가능성이 높습니다\n4. 프로세스 병목 구간을 식별하여 개선점을 도출합니다\n5. 현실적인 일정 계획과 리소스 배분에 활용합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 hour로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "unknown_type_senders_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "UNKNOWN 타입의 발신자 정보",
          "미확인 발송자 목록",
          "UNKNOWN sender 정보"
        ],
        "keywords": [
          "UNKNOWN",
          "미확인",
          "발신자",
          "정보"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a.sender, sender_address, COUNT(*) as mail_count\nFROM agenda_all a\nWHERE a.sender_type = 'UNKNOWN'\nORDER BY mail_count DESC",
        "system": "사용자는 미분류 발신자를 처리하여 데이터 완전성을 확보하려고 합니다.\n1. sender_type = 'Unknown'인 레코드를 추출합니다\n2. 패턴 분석으로 분류 실패 원인을 파악합니다\n3. 수동 분류 후 자동화 규칙에 반영합니다\n4. 지속적인 개선으로 미분류율을 감소시킵니다\n5. 데이터 품질 향상은 분석 정확도 향상으로 이어집니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 mail_count DESC로 정렬해주세요."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "completed_pending_process_time_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "처리 완료된 pending agenda의 처리 시간",
          "완료된 대기 의제 처리 소요시간",
          "pending 처리 완료 시간"
        ],
        "keywords": [
          "완료",
          "pending",
          "처리시간",
          "소요시간"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.sent_time,\n                    ac.decision_status,\n                    julianday('now') - julianday(ac.sent_time) as days_pending\nFROM agenda_chair ac\nWHERE ac.deadline > DATE('now')\nORDER BY days_pending DESC",
        "system": "사용자는 의제 처리 지연 요인을 분석하여 프로세스를 개선하려고 합니다.\n1. created_time과 completed_time의 차이를 계산합니다\n2. 평균 이상으로 오래 걸린 케이스를 식별합니다\n3. 지연 의제의 특성을 분석하여 패턴을 찾습니다\n4. 복잡성, 이해 상충, 기술적 난이도 등의 요인을 추론합니다\n5. 프로세스 개선과 리스크 관리에 활용합니다",
        "sql_prompt": "decision_status = 'completed'로 완료된 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 days_pending DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "msc_110_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "MSC 110 관련 agenda 찾기",
          "MSC 110 세션 의제",
          "해사안전위원회 110차 아젠다"
        ],
        "keywords": [
          "MSC",
          "110",
          "해사안전위원회"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE (a.keywords LIKE '%MSC 110%' OR a.subject LIKE '%MSC 110%' OR a.body LIKE '%MSC 110%') AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 특정 회의 세션을 집중적으로 준비하려고 합니다.\n1. subject나 keywords에서 'MSC 110' 관련 내용을 검색합니다\n2. 해당 세션의 모든 의제를 포괄적으로 추출합니다\n3. 회의별 의제 분석은 효과적인 참가 전략 수립에 필수적입니다\n4. 주요 의제와 예상 쟁점을 사전에 파악합니다\n5. 우리의 입장과 대응 논리를 미리 준비할 수 있습니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "flexible_time_range_activities_v2",
      "template_version": "1.0.0",
      "template_category": "time_based_query",
      "query_info": {
        "natural_questions": [
          "최근 24시간 이내에 수신한 메일이 있나요?",
          "어제 받은 메일 보여줘",
          "어제 온 메일",
          "오늘 받은 메일",
          "이번주 받은 메일",
          "최근 24시간 이내에 발송한 agenda가 있나요?",
          "어제 보낸 의제",
          "오늘 발송한 아젠다",
          "최근 24시간 이내에 응답한 기관이 있나요?",
          "어제 응답한 조직들",
          "오늘 답변한 기관",
          "어제부터 받은 메일",
          "24시간 내 수신 메일",
          "어제부터 오늘까지 보낸 의제",
          "24시간 내 발송 아젠다",
          "어제부터 답변한 조직",
          "24시간 내 응답 기관"
        ],
        "keywords": [
          "24시간",
          "어제",
          "오늘",
          "받은",
          "보낸",
          "응답",
          "메일",
          "의제",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline > DATE('now')\n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 맞춤형 기간의 데이터를 유연하게 추출하려고 합니다.\n1. 사용자 정의 start_date와 end_date 파라미터를 받습니다\n2. BETWEEN 조건으로 해당 기간의 모든 레코드를 추출합니다\n3. 프로젝트별, 회계연도별 등 다양한 기준의 분석이 가능합니다\n4. 특정 이벤트 전후 비교 분석에도 활용됩니다\n5. 보고서 작성 시 필요한 정확한 기간 데이터를 제공합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "activity_type",
          "type": "string",
          "required": true,
          "default": "received",
          "options": [
            "received",
            "sent",
            "responded"
          ],
          "sql_builder": {
            "type": "custom",
            "placeholder": "{table_name}, {activity_condition}, {time_field}"
          }
        },
        {
          "name": "time_range",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 1
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.dynamic",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "expected_response": {
        "description": "지정된 시간 범위와 활동 유형에 따른 메일/의제 목록",
        "sample_size": 10
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "시간 기준으로 조회된 결과를 분석하여 주요 트렌드와 패턴을 파악하고, 시간대별 주요 이슈를 요약해주세요."
    },
    {
      "template_id": "flexible_ongoing_deadline_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "진행중인 의제 보여줘",
          "최근 모든 패널에서 진행되고 있는 의제 목록",
          "현재 진행중인 모든 패널의 의제들",
          "모든 패널의 ongoing 의제 리스트",
          "진행 상태인 아젠다",
          "ongoing 상태 의제",
          "오늘 응답해야 하는 agenda",
          "오늘 마감인 의제",
          "금일 답변 필요 아젠다",
          "마감일이 삼일 이내인 agenda",
          "3일 내 마감 의제",
          "긴급 마감 아젠다",
          "마감일이 일주일 이내인 agenda",
          "7일 내 마감 의제",
          "일주일 안에 끝나는 아젠다",
          "마감일 임박한 의제",
          "곧 마감되는 아젠다",
          "마감 예정 의제",
          "응답 기한이 얼마 안남은 아젠다"
        ],
        "keywords": [
          "진행중",
          "의제",
          "ongoing",
          "마감",
          "응답",
          "오늘",
          "삼일",
          "3일",
          "일주일",
          "7일",
          "긴급",
          "임박"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.deadline > DATE('now')\nORDER BY CASE WHEN ac.has_deadline = 1 THEN ac.deadline ELSE DATE('9999-12-31') END ASC,\n                    ac.sent_time DESC",
        "system": "사용자는 마감일 기준을 유연하게 조정하여 우선순위를 관리하려고 합니다.\n1. deadline > DATE('now')과 has_deadline = 1 조건을 적용합니다\n2. 사용자 정의 days_threshold 파라미터로 긴급도를 조정합니다\n3. 업무 부하에 따라 긴급 기준을 탄력적으로 운영합니다\n4. 주간/월간 계획 수립 시 기준을 조정하여 활용합니다\n5. 리소스 가용성에 따른 동적 우선순위 관리가 가능합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 CASE WHEN has_deadline = 1 THEN deadline ELSE DATE('9999-12-31') END ASC,\n                    sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "filter_type",
          "type": "string",
          "required": false,
          "default": "all",
          "options": [
            "all",
            "with_deadline",
            "no_deadline"
          ],
          "sql_builder": {
            "type": "custom",
            "placeholder": "{deadline_filter}, {no_deadline_filter}"
          }
        },
        {
          "name": "deadline_range",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.deadline",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "expected_response": {
        "description": "진행중인 의제 목록을 마감일 우선순위로 정렬하여 제공",
        "sample_size": 20
      },
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "_config_v2_5",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "_system_configuration"
        ],
        "keywords": []
      },
      "config": {
        "similarity_threshold": 0.5,
        "description": "Minimum similarity score required for template matching"
      },
      "related_tables": [],
      "related_db": "iacsgraph.db"
    },
    {
      "template_id": "monthly_response_rate_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "각 월별 응답률 통계",
          "월별 응답률 현황",
          "매월 응답률 분석"
        ],
        "keywords": [
          "월별",
          "응답률",
          "통계",
          "monthly",
          "response rate"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT strftime('%Y-%m', ac.sent_time) as month,\n                    COUNT(DISTINCT ac.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE \n                        WHEN arc.agenda_base_version IS NOT NULL AND (\n                            arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.CCS IS NOT NULL OR\n                            arc.ABS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.BV IS NOT NULL\n                        ) THEN ac.agenda_code \n                    END) as responded_agendas,\n                    ROUND(CAST(COUNT(DISTINCT CASE \n                        WHEN arc.agenda_base_version IS NOT NULL AND (\n                            arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.CCS IS NOT NULL OR\n                            arc.ABS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.BV IS NOT NULL\n                        ) THEN ac.agenda_code \n                    END) AS FLOAT) / COUNT(DISTINCT ac.agenda_code) * 100, 2) as response_rate\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.sender_organization = 'Chair'\n                AND {period_condition}\nORDER BY month DESC",
        "system": "사용자는 월별 응답 성과를 정량적으로 추적하려고 합니다.\n1. 월별로 응답 요청 수와 실제 응답 수를 집계합니다\n2. 응답률 = (응답 수 / 요청 수) * 100으로 계산합니다\n3. 추세 분석으로 성과 개선 여부를 확인합니다\n4. 낮은 응답률의 원인을 분석하여 개선 방안을 도출합니다\n5. KPI 관리와 성과 평가에 활용합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 month DESC로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "sender_address_mismatch_v2",
      "template_version": "1.0.0",
      "template_category": "data_quality",
      "query_info": {
        "natural_questions": [
          "sender와 sender_address가 다른 경우",
          "발신자 정보 불일치 건",
          "sender 주소 불일치 데이터"
        ],
        "keywords": [
          "sender",
          "sender_address",
          "다른",
          "불일치",
          "mismatch"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.sender, sender_address, a.subject, a.sent_time\nFROM agenda_all a\nWHERE a.sender != sender_address AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 발신자 정보의 일관성을 검증하여 데이터 품질을 보장하려고 합니다.\n1. sender_organization과 sender_email의 도메인을 비교합니다\n2. 불일치하는 경우를 찾아 잠재적 오류나 예외 상황을 식별합니다\n3. 이는 데이터 신뢰성과 보안 관점에서 중요한 검증입니다\n4. 정기적인 검사로 데이터 무결성을 유지합니다\n5. 비정상적 패턴은 추가 조사가 필요할 수 있습니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "데이터 품질 이슈를 식별하고 원인을 분석하여, 데이터 정합성 개선을 위한 구체적인 방안을 제시하세요."
    },
    {
      "template_id": "agenda_version_mismatch_v2",
      "template_version": "1.0.0",
      "template_category": "data_quality",
      "query_info": {
        "natural_questions": [
          "agenda_base와 agenda_version이 다른 경우",
          "의제 번호 버전 불일치",
          "agenda 코드 불일치 건"
        ],
        "keywords": [
          "agenda_base",
          "agenda_version",
          "다른",
          "불일치"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, agenda_base, agenda_version, a.subject, a.sent_time\nFROM agenda_all a\nWHERE a.agenda_code != (agenda_base || agenda_version) AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 버전 정보의 일관성을 검증하여 데이터 무결성을 보장하려고 합니다.\n1. agenda_base와 agenda_base_version의 관계를 검증합니다\n2. 패턴 불일치나 비정상적 버전 번호를 탐지합니다\n3. 버전 관리는 의제 추적의 핵심이므로 정확성이 중요합니다\n4. 오류 패턴을 분석하여 시스템 로직을 개선합니다\n5. 정기적 검증으로 데이터 품질을 유지합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "데이터 품질 이슈를 식별하고 원인을 분석하여, 데이터 정합성 개선을 위한 구체적인 방안을 제시하세요."
    },
    {
      "template_id": "recent_updated_responses_v2",
      "template_version": "1.0.0",
      "template_category": "time_based_query",
      "query_info": {
        "natural_questions": [
          "최근 3일간 업데이트된 응답 내용",
          "최근 수정된 응답들",
          "3일 이내 업데이트된 응답"
        ],
        "keywords": [
          "업데이트",
          "응답",
          "3일",
          "최근",
          "수정"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    arc.updated_at,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END ||\n                    CASE WHEN arc.BV IS NOT NULL THEN 'BV ' ELSE '' END as responded_orgs\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE arc.updated_at >= DATE('now', '-3 days')\nORDER BY arc.updated_at DESC",
        "system": "사용자는 응답 수정 사항을 추적하여 입장 변화를 감지하려고 합니다.\n1. updated_time 기준으로 최근 수정된 응답을 추출합니다\n2. 초기 응답과 수정 응답을 비교할 수 있도록 정보를 제공합니다\n3. 입장 변화는 협상 동향의 중요한 신호입니다\n4. 주요 조직의 입장 변화는 즉각적인 전략 재검토가 필요합니다\n5. 변경 사유와 패턴을 분석하여 향후 예측에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 arc.updated_at DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "시간 기준으로 조회된 결과를 분석하여 주요 트렌드와 패턴을 파악하고, 시간대별 주요 이슈를 요약해주세요."
    },
    {
      "template_id": "pending_by_error_reason_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "error_reason별 pending 건수",
          "오류 사유별 보류 건수",
          "pending 상태 오류 통계"
        ],
        "keywords": [
          "error_reason",
          "pending",
          "건수",
          "오류",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT error_reason, COUNT(*) as count\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline > DATE('now')\nORDER BY count DESC",
        "system": "사용자는 시스템 오류 패턴을 분석하여 개선점을 찾으려고 합니다.\n1. error_reason별로 GROUP BY하여 빈도를 계산합니다\n2. 가장 빈번한 오류부터 우선 해결합니다\n3. 오류 패턴을 분석하여 근본 원인을 파악합니다\n4. 자동화 규칙을 개선하여 오류율을 감소시킵니다\n5. 지속적인 모니터링으로 시스템 품질을 향상시킵니다",
        "sql_prompt": " 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 최신 정보부터 확인할 수 있도록 count DESC로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "latest_status_by_agenda_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "agenda_code별 최신 상태",
          "각 의제의 현재 상태",
          "의제별 최신 상태 정보"
        ],
        "keywords": [
          "agenda_code",
          "최신",
          "상태",
          "현재"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.decision_status, ac.deadline, ac.sent_time, CASE WHEN ac.deadline < DATE('now') THEN '마감 지남' ELSE '진행중' END as deadline_status\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.sent_time BETWEEN {period_start} AND {period_end} AND ac.deadline > DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의제별 최신 상태를 정확히 파악하려고 합니다.\n1. agenda_base_version으로 GROUP BY하여 의제별로 집계합니다\n2. MAX(updated_time)으로 가장 최근 레코드를 선택합니다\n3. 상태 이력이 아닌 현재 상태에 집중합니다\n4. 대시보드나 현황판에 표시할 정확한 데이터를 제공합니다\n5. 의사결정을 위한 현재 시점의 정확한 정보를 보장합니다",
        "sql_prompt": "DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "weekday_agenda_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "요일별 agenda 발송 통계",
          "요일별 의제 발송 현황",
          "주중 의제 발송 패턴"
        ],
        "keywords": [
          "요일",
          "발송",
          "통계",
          "weekday"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE strftime('%w', a.sent_time)\n                        WHEN '0' THEN '일요일'\n                        WHEN '1' THEN '월요일'\n                        WHEN '2' THEN '화요일'\n                        WHEN '3' THEN '수요일'\n                        WHEN '4' THEN '목요일'\n                        WHEN '5' THEN '금요일'\n                        WHEN '6' THEN '토요일'\n                    END as weekday,\n                    COUNT(*) as agenda_count\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY strftime('%w', a.sent_time)",
        "system": "사용자는 요일별 업무 패턴을 분석하여 효율적인 일정을 계획하려고 합니다.\n1. strftime('%w', sent_time)으로 요일을 추출합니다\n2. GROUP BY로 요일별 의제 수를 집계합니다\n3. 요일별 패턴은 국가별 업무 문화와 시차를 반영합니다\n4. 피크 시간대를 파악하여 모니터링 강화 시점을 결정합니다\n5. 업무 분배와 인력 운영을 최적화할 수 있습니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 strftime('%w', sent_time)로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "agendas_with_response_org_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "response_org가 지정된 agenda",
          "응답 기관이 지정된 의제",
          "특정 기관 응답 필요 의제"
        ],
        "keywords": [
          "response_org",
          "지정",
          "응답기관"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.response_org, ac.deadline, ac.sent_time\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.response_org IS NOT NULL AND ac.response_org != '' AND ac.response_org != 'ALL' AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 응답 요청 패턴을 분석하려고 합니다.\n1. response_org IS NOT NULL인 의제를 추출합니다\n2. 지정된 조직별 빈도를 분석합니다\n3. 특정 조직이 자주 지정되는 이유를 파악합니다\n4. ALL 대상과 특정 조직 대상의 차이를 이해합니다\n5. 우리 조직이 지정되는 빈도와 특성을 분석합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "quarterly_agenda_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "각 분기별 agenda 발송 현황",
          "분기별 의제 통계",
          "분기별 의제 발송 추이"
        ],
        "keywords": [
          "분기",
          "발송",
          "현황",
          "quarterly"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT strftime('%Y', a.sent_time) || '-Q' || ((CAST(strftime('%m', a.sent_time) AS INTEGER) - 1) / 3 + 1) as quarter,\n                    COUNT(*) as agenda_count,\n                    COUNT(DISTINCT agenda_panel) as active_panels\nFROM agenda_all a\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY quarter DESC",
        "system": "사용자는 분기별 종합 성과를 정량화하여 경영 보고를 준비하려고 합니다.\n1. strftime('%Y-Q', sent_time)으로 분기별 그룹핑을 수행합니다\n2. 의제 수, 응답률, 주요 이슈 등 다각도 분석을 수행합니다\n3. 분기별 비교로 성장률과 트렌드를 명확히 제시합니다\n4. 핵심 성과 지표(KPI)를 시각적으로 표현할 수 있습니다\n5. 전략적 의사결정을 위한 인사이트를 도출합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 quarter DESC로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "통계 데이터를 분석하여 주요 지표와 추세를 시각적으로 설명하고, 통계적 의미와 시사점을 도출해주세요."
    },
    {
      "template_id": "latest_response_organization_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "가장 늦게 응답한 조직과 agenda",
          "최근 응답이 늦었던 기관",
          "응답 지연 기관과 의제"
        ],
        "keywords": [
          "늦게",
          "응답",
          "조직",
          "지연"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    CASE\n                        WHEN arc.KR IS NOT NULL THEN 'KR'\n                        WHEN arc.NK IS NOT NULL THEN 'NK'\n                        WHEN arc.CCS IS NOT NULL THEN 'CCS'\n                        WHEN arc.ABS IS NOT NULL THEN 'ABS'\n                        WHEN arc.DNV IS NOT NULL THEN 'DNV'\n                        WHEN arc.BV IS NOT NULL THEN 'BV'\n                        WHEN arc.LR IS NOT NULL THEN 'LR'\n                        WHEN arc.RINA IS NOT NULL THEN 'RINA'\n                        ELSE 'None'\n                    END as last_responder,\n                    arc.updated_at\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY arc.updated_at DESC",
        "system": "사용자는 실시간 응답 동향을 모니터링하려고 합니다.\n1. 응답 수신 시간 기준으로 최신순 정렬합니다\n2. 각 조직의 최근 응답 활동을 추적합니다\n3. 갑작스런 활동 증가는 특정 이슈에 대한 관심을 나타냅니다\n4. 실시간 모니터링으로 즉각적인 대응이 가능합니다\n5. 주요 경쟁자의 움직임을 놓치지 않고 추적합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 arc.updated_at DESC\n                LIMIT 1로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "urgent_created_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "마감일 대비 가장 촉박하게 생성된 agenda",
          "긴급 생성된 의제",
          "촉박한 마감일 의제"
        ],
        "keywords": [
          "마감일",
          "촉박",
          "긴급",
          "생성"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.decision_status = 'created'\n                AND ac.deadline < DATE('now', '+7 days')\n                AND ac.deadline >= DATE('now')\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 긴급 처리가 요구되는 특수 의제를 식별하려고 합니다.\n1. created_time과 deadline의 차이가 7일 이내인 의제를 추출합니다\n2. 이러한 의제는 긴급 상황이나 특별 요청일 가능성이 높습니다\n3. 일반적인 프로세스와 다른 신속 대응이 필요합니다\n4. 리소스를 집중 투입하여 기한 내 처리를 보장합니다\n5. 긴급 의제 패턴 분석으로 향후 대비 체계를 구축합니다",
        "sql_prompt": "agenda_all 테이블에서 응답 마감일이 설정된 의제를 관리하여 기한 내 처리를 보장하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 응답 기한이 임박한 의제 파악과 관리를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "iacs_member_count_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "IACS 멤버의 수는?",
          "IACS 회원 기관 수",
          "IACS 구성원 수"
        ],
        "keywords": [
          "IACS",
          "멤버",
          "수",
          "member",
          "count"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT COUNT(DISTINCT organization_code) as member_count\nFROM agenda_all a",
        "system": "사용자는 IACS 조직 구성을 확인하려고 합니다.\n1. IACS 회원 정보를 조회합니다\n2. 현재 정회원 선급 수를 집계합니다\n3. IACS는 주요 선급들의 협의체로 국제 표준을 주도합니다\n4. 회원사 현황 파악은 협력 전략 수립의 기초입니다\n5. 각 회원사의 영향력과 전문 분야를 함께 고려해야 합니다",
        "sql_prompt": " 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다. 사용자는 'IACS 멤버의 수는?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "iacs_member_list_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "IACS 멤버 구성은 어떻게 되나?",
          "IACS 회원 기관 목록",
          "IACS 구성원 리스트"
        ],
        "keywords": [
          "IACS",
          "멤버",
          "구성",
          "member",
          "list"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT organization_code, organization_name\nFROM agenda_all a\nORDER BY organization_code",
        "system": "사용자는 IACS 회원사들의 상세 정보를 파악하려고 합니다.\n1. 모든 IACS 회원 선급의 정보를 추출합니다\n2. 국가, 약어, 주요 활동 분야를 포함합니다\n3. 각 선급의 특성과 강점을 이해하는 것이 중요합니다\n4. 협력이나 경쟁 관계를 파악하는 데 활용됩니다\n5. 국제 네트워킹과 전략적 제휴에 필요한 기초 정보입니다",
        "sql_prompt": " 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. organization_code로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "iacs_panel_structure_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "IACS의 내부의 패널 구성은 어떻게 되나?",
          "IACS 패널 구조",
          "IACS 내부 조직 구성"
        ],
        "keywords": [
          "IACS",
          "패널",
          "구성",
          "panel",
          "structure"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT panel_code, panel_name, panel_type\nFROM agenda_all a",
        "system": "사용자는 IACS의 조직 구조와 업무 분장을 이해하려고 합니다.\n1. 모든 활성 패널과 그 역할을 조회합니다\n2. 각 패널의 주요 업무 범위와 책임을 명시합니다\n3. 패널 간 관계와 협력 구조를 이해합니다\n4. 우리가 참여해야 할 핵심 패널을 식별합니다\n5. 효과적인 참여 전략 수립의 기초 정보가 됩니다",
        "sql_prompt": " 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다. 사용자는 'IACS의 내부의 패널 구성은 어떻게 되나?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "kr_participating_panels_v2",
      "template_version": "1.0.0",
      "template_category": "organization_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 참여하는 패널은",
          "한국선급이 활동하는 패널",
          "KR 소속 패널 목록"
        ],
        "keywords": [
          "KR",
          "참여",
          "패널",
          "한국선급"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_panel, \n                    COUNT(*) as agenda_count\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE (a.response_org = 'KR' OR a.response_org = 'ALL' OR a.sender_organization = 'KR')\n                AND {period_condition}\nORDER BY agenda_count DESC",
        "system": "사용자는 자조직의 패널 참여 현황을 종합적으로 파악하려고 합니다.\n1. KR이 멤버로 참여하는 모든 패널을 추출합니다\n2. 각 패널에서의 역할(의장, 간사, 일반 멤버 등)을 확인합니다\n3. 참여 활발도와 기여도를 평가합니다\n4. 미참여 중요 패널을 식별하여 참여 검토합니다\n5. 전략적 중요도에 따라 참여 수준을 조정합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 agenda_count DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "kr_chair_panels_v2",
      "template_version": "1.0.0",
      "template_category": "organization_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 의장으로 있는 패널은?",
          "한국선급이 의장인 패널",
          "KR이 주도하는 패널"
        ],
        "keywords": [
          "KR",
          "의장",
          "chair",
          "한국선급"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_panel, \n                    COUNT(*) as chair_count\nFROM agenda_chair ac\nWHERE ac.sender_organization = 'KR'\n                AND ac.sender_organization = 'Chair'\n                AND {period_condition}\nORDER BY chair_count DESC",
        "system": "사용자는 자조직이 리더십을 가진 패널을 관리하려고 합니다.\n1. KR이 의장직을 수행하는 패널을 추출합니다\n2. 의장직은 의제 설정과 논의 방향에 큰 영향력을 행사합니다\n3. 책임감 있는 운영으로 국제적 신뢰를 구축합니다\n4. 전략적 의제 추진의 최적 플랫폼으로 활용합니다\n5. 의장국으로서의 성과는 조직의 위상을 높입니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 chair_count DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "recent_meetings_list_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 진행된 회의 리스트",
          "최근 회의 목록",
          "recent meeting list"
        ],
        "keywords": [
          "회의",
          "meeting",
          "최근",
          "리스트"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT ac.agenda_panel, ac.subject, ac.sent_time\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.subject LIKE '%meeting%' OR ac.subject LIKE '%회의%' OR mail_type = 'meeting') AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 회의 일정과 준비사항을 체계적으로 관리하려고 합니다.\n1. 회의 관련 통지 메일에서 일정 정보를 추출합니다\n2. 과거 회의와 향후 회의를 구분하여 표시합니다\n3. 각 회의의 주요 의제와 참가 대상을 확인합니다\n4. 출장 계획과 사전 준비에 필요한 정보를 제공합니다\n5. 회의별 중요도를 평가하여 참가 우선순위를 결정합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "회의 관련 정보를 정리하여 회의 준비사항과 주요 안건을 요약하고, 참석자 및 일정 정보를 명확히 제시하세요."
    },
    {
      "template_id": "recent_meeting_issues_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 진행된 회의의 주요 이슈 및 결정사항은?",
          "최근 회의 주요 안건과 결정사항",
          "recent meeting decisions"
        ],
        "keywords": [
          "회의",
          "이슈",
          "결정사항",
          "meeting",
          "decision"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_panel, ac.subject, ac.keywords, ac.body\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.subject LIKE '%meeting%' OR ac.subject LIKE '%회의%' OR mail_type = 'meeting') AND (ac.body LIKE '%decision%' OR ac.body LIKE '%결정%' OR ac.body LIKE '%agreed%') AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 최근 회의의 주요 성과와 과제를 파악하려고 합니다.\n1. 회의 관련 의제와 결과 문서를 수집합니다\n2. 주요 결정사항과 합의 내용을 추출합니다\n3. 미해결 이슈와 향후 작업 계획을 확인합니다\n4. 우리 조직에 미치는 영향을 평가합니다\n5. 후속 조치와 대응 전략을 수립하는 데 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "회의 관련 정보를 정리하여 회의 준비사항과 주요 안건을 요약하고, 참석자 및 일정 정보를 명확히 제시하세요."
    },
    {
      "template_id": "ongoing_pt_list_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT 리스트",
          "진행중인 프로젝트팀 목록",
          "active PT list"
        ],
        "keywords": [
          "PT",
          "진행중",
          "프로젝트팀",
          "project team"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT agenda_base as pt_code, COUNT(*) as activity_count, MAX(ac.sent_time) as last_activity\nFROM agenda_chair ac\nWHERE ac.deadline > DATE('now')\nORDER BY last_activity DESC",
        "system": "사용자는 활성 프로젝트 팀을 파악하여 전략적 참여를 검토하려고 합니다.\n1. 현재 deadline 미경과(deadline > DATE('now'))인 PT 정보를 추출합니다\n2. PT는 특정 기술이나 규정을 심도있게 다루는 전문가 그룹입니다\n3. 주요 PT 참여는 규정 형성 과정에 영향력을 행사할 기회입니다\n4. 참여 조직 분석으로 협력 네트워크를 파악합니다\n5. 우리의 전문성과 이해관계에 맞는 PT를 선별하여 참여합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 last_activity DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "pt_participating_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여기관",
          "프로젝트팀 참여 기관들",
          "PT participating organizations"
        ],
        "keywords": [
          "PT",
          "참여기관",
          "참여",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT org_name, COUNT(*) as total_responses\n                FROM (\n                    SELECT 'KR' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.KR IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'NK' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.NK IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'CCS' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.CCS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'ABS' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.ABS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'BV' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.BV IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'DNV' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.DNV IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'IRS' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.IRS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'PRS' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.PRS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'RINA' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.RINA IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'IL' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.IL IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'TL' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.TL IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'LR' as org_name\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.LR IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                )\n                GROUP BY org_name\n                ORDER BY total_responses DESC",
        "system": "사용자는 PT 참여 패턴을 분석하여 협력 기회를 발굴하려고 합니다.\n1. PT별 참여 조직 목록을 추출합니다\n2. 공통 관심사를 가진 조직들을 식별합니다\n3. 협력 패턴 분석으로 잠재적 파트너를 발견합니다\n4. 전략적 제휴나 공동 제안의 기회를 모색합니다\n5. 네트워크 효과를 활용하여 영향력을 확대할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 total_responses DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "pt_participants_info_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여자 정보 알려줘",
          "프로젝트팀 참여자 명단",
          "PT participant information"
        ],
        "keywords": [
          "PT",
          "참여자",
          "정보",
          "participant"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END ||\n                    CASE WHEN arc.BV IS NOT NULL THEN 'BV ' ELSE '' END ||\n                    CASE WHEN arc.IRS IS NOT NULL THEN 'IRS ' ELSE '' END ||\n                    CASE WHEN arc.PRS IS NOT NULL THEN 'PRS ' ELSE '' END ||\n                    CASE WHEN arc.RINA IS NOT NULL THEN 'RINA ' ELSE '' END ||\n                    CASE WHEN arc.IL IS NOT NULL THEN 'IL ' ELSE '' END ||\n                    CASE WHEN arc.TL IS NOT NULL THEN 'TL ' ELSE '' END ||\n                    CASE WHEN arc.LR IS NOT NULL THEN 'LR ' ELSE '' END as participants\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nWHERE a.keywords LIKE '%PT%'\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY a.sent_time DESC",
        "system": "사용자는 PT 구성원의 전문성과 네트워크를 파악하려고 합니다.\n1. PT별 리더, 핵심 멤버, 일반 참여자를 구분합니다\n2. 각 참여자의 소속과 전문 분야를 확인합니다\n3. 핵심 인물과의 네트워킹 기회를 모색합니다\n4. 전문성 매칭으로 효과적인 협력 방안을 도출합니다\n5. 인적 네트워크는 기술 협력의 기반이 됩니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "pt_important_content_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 중요 내용은",
          "프로젝트팀 주요 내용",
          "PT important contents"
        ],
        "keywords": [
          "PT",
          "중요",
          "내용",
          "important"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_base as pt_code, ac.subject, ac.keywords, ac.body\nFROM agenda_chair ac\nWHERE ac.deadline > DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 PT의 실질적 논의 내용과 결과를 파악하려고 합니다.\n1. PT 회의록과 결과 문서에서 핵심 내용을 추출합니다\n2. 기술적 결정사항과 그 근거를 분석합니다\n3. 미해결 이슈와 향후 작업 계획을 확인합니다\n4. 우리의 입장과 이해관계를 고려한 대응 전략을 수립합니다\n5. PT 결과는 향후 규정의 기술적 토대가 됩니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "completed_pt_list_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT 리스트 알려줘",
          "완료된 프로젝트팀 목록",
          "completed PT list"
        ],
        "keywords": [
          "PT",
          "완료",
          "completed",
          "프로젝트팀"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT agenda_base as pt_code, COUNT(*) as total_activities, MAX(ac.sent_time) as updated_at\nFROM agenda_chair ac\nWHERE ac.deadline <= DATE('now')\nORDER BY updated_at DESC",
        "system": "사용자는 deadline 경과(deadline <= DATE('now'))된 PT의 성과와 영향을 분석하려고 합니다.\n1. deadline 경과(deadline <= DATE('now')) 상태의 PT와 그 최종 산출물을 조회합니다\n2. PT 결과가 규정이나 가이드라인에 어떻게 반영되었는지 추적합니다\n3. 성공/실패 요인을 분석하여 향후 PT 참여 전략에 반영합니다\n4. deadline 경과(deadline <= DATE('now'))된 PT의 후속 작업이나 관련 신규 PT를 모니터링합니다\n5. 과거 경험을 통해 미래 PT 활동을 최적화합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. deadline이 현재 날짜 이전인(deadline이 지난(완료된)) 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 updated_at DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "completed_pt_content_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 주요 내용 알려줘",
          "완료된 프로젝트팀 결과",
          "completed PT results"
        ],
        "keywords": [
          "PT",
          "완료",
          "주요내용",
          "결과"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_base as pt_code, ac.subject, ac.keywords, ac.body\nFROM agenda_chair ac\nWHERE ac.deadline <= DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 PT 최종 결과의 실질적 영향을 평가하려고 합니다.\n1. PT 최종 보고서의 주요 권고사항을 추출합니다\n2. 각 권고사항의 이행 요구사항과 일정을 확인합니다\n3. 우리 조직에 미치는 기술적, 운영적 영향을 분석합니다\n4. 필요한 준비 작업과 투자 계획을 수립합니다\n5. 규정 변경에 선제적으로 대응하여 경쟁 우위를 확보합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. deadline이 현재 날짜 이전인(deadline이 지난(완료된)) 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "keyword_analysis_3months_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "3개월 내 주요 키워드 분석해줘",
          "최근 3개월 키워드 트렌드",
          "3-month keyword analysis"
        ],
        "keywords": [
          "3개월",
          "키워드",
          "분석",
          "analysis"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency\nFROM agenda_all a\nWHERE a.sent_time >= DATE('now', '-90 days') \n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 최근 핵심 이슈와 트렌드를 파악하려고 합니다.\n1. 3개월간의 모든 의제에서 키워드를 추출합니다\n2. 빈도 분석으로 상위 키워드를 식별합니다\n3. 급상승 키워드는 새로운 이슈의 신호입니다\n4. 키워드 간 연관성을 분석하여 이슈 클러스터를 파악합니다\n5. 선제적 대응이 필요한 emerging issue를 발견합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "keyword_analysis_lastyear_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "작년 주요 키워드 분석해줘",
          "지난해 키워드 트렌드",
          "last year keyword analysis"
        ],
        "keywords": [
          "작년",
          "키워드",
          "분석",
          "지난해"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency\nFROM agenda_all a\nWHERE strftime('%Y', a.sent_time) = strftime('%Y', 'now', '-1 year')\n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 연간 이슈 트렌드를 종합 분석하려고 합니다.\n1. 전년도 전체 기간의 키워드를 월별로 집계합니다\n2. 시간에 따른 키워드 빈도 변화를 추적합니다\n3. 계절성이나 회의 주기와의 연관성을 분석합니다\n4. 주요 이슈의 생명주기를 이해합니다\n5. 차년도 이슈 예측과 대응 계획 수립에 활용합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "keyword_analysis_2025_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "2025년 주요 키워드 분석해줘",
          "2025년 키워드 트렌드",
          "2025 keyword analysis"
        ],
        "keywords": [
          "2025",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency\nFROM agenda_all a\nWHERE strftime('%Y', a.sent_time) = '2025'\n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 현재 연도의 새로운 트렌드를 파악하려고 합니다.\n1. 2025년 의제들의 키워드를 추출하여 분석합니다\n2. 전년 대비 새롭게 등장한 키워드를 식별합니다\n3. 빈도가 급증한 키워드는 올해의 핵심 이슈입니다\n4. 정책 변화나 기술 혁신의 신호를 포착합니다\n5. 연간 전략 수정과 리소스 재배치에 반영합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "panel_completed_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel} 에서 발행된 의제 중 완료된 의제의 결과",
          "{panel} 패널 완료 의제 결과",
          "{panel} completed agenda results"
        ],
        "keywords": [
          "패널",
          "완료",
          "의제",
          "결과"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.decision_status, ac.keywords, ac.body\nFROM agenda_chair ac\nWHERE ac.deadline <= DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 패널의 과거 결정을 분석하여 미래 방향을 예측하려고 합니다.\n1. 특정 패널의 completed 상태 의제를 모두 추출합니다\n2. 결정 내용과 그 근거를 분석합니다\n3. 패널의 정책 방향성과 우선순위를 파악합니다\n4. 과거 결정은 미래 결정의 precedent가 됩니다\n5. 일관성 있는 대응 전략 수립에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. deadline이 현재 날짜 이전인(deadline이 지난(완료된)) 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP, GPG, HM)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "panel_recent_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 에서 논의 되었던 의제 목록",
          "{panel} 패널 최근 의제",
          "recent {panel} agendas"
        ],
        "keywords": [
          "최근",
          "패널",
          "논의",
          "의제"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender_organization, a.decision_status, a.sent_time\nFROM agenda_all a\nWHERE a.agenda_panel = {panel} \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY a.sent_time DESC",
        "system": "사용자는 패널의 현재 관심사와 우선순위를 파악하려고 합니다.\n1. 특정 패널의 최근 의제를 시간순으로 추출합니다\n2. 의제 주제와 키워드를 분석하여 트렌드를 파악합니다\n3. 새롭게 부상하는 이슈를 조기에 감지합니다\n4. 패널의 작업 계획과 우리의 준비 상황을 대조합니다\n5. 선제적 대응으로 논의를 주도할 기회를 찾습니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC \n                LIMIT 10로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP, GPG, HM)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "org_panel_responses_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {organization}에서 {panel} 에서 응답한 내역",
          "{organization}의 {panel} 패널 응답 기록",
          "{organization} responses in {panel}"
        ],
        "keywords": [
          "응답",
          "패널",
          "내역"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    a.agenda_panel,\n                    CASE {organization}\n                WHEN 'ABS' THEN arc.ABS\n                WHEN 'BV' THEN arc.BV\n                WHEN 'CCS' THEN arc.CCS\n                WHEN 'CRS' THEN arc.CRS\n                WHEN 'DNV' THEN arc.DNV\n                WHEN 'IRS' THEN arc.IRS\n                WHEN 'KR' THEN arc.KR\n                WHEN 'NK' THEN arc.NK\n                WHEN 'PRS' THEN arc.PRS\n                WHEN 'RINA' THEN arc.RINA\n                WHEN 'IL' THEN arc.IL\n                WHEN 'TL' THEN arc.TL\n                WHEN 'LR' THEN arc.LR\n            END as response_content\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE CASE {organization}\n                WHEN 'ABS' THEN arc.ABS\n                WHEN 'BV' THEN arc.BV\n                WHEN 'CCS' THEN arc.CCS\n                WHEN 'CRS' THEN arc.CRS\n                WHEN 'DNV' THEN arc.DNV\n                WHEN 'IRS' THEN arc.IRS\n                WHEN 'KR' THEN arc.KR\n                WHEN 'NK' THEN arc.NK\n                WHEN 'PRS' THEN arc.PRS\n                WHEN 'RINA' THEN arc.RINA\n                WHEN 'IL' THEN arc.IL\n                WHEN 'TL' THEN arc.TL\n                WHEN 'LR' THEN arc.LR\n            END IS NOT NULL\n                AND a.agenda_panel = {panel}\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY a.sent_time DESC",
        "system": "사용자는 조직의 패널별 활동 패턴을 분석하려고 합니다.\n1. 조직별, 패널별 응답 빈도를 크로스 집계합니다\n2. 높은 응답률은 해당 패널에 대한 전문성을 나타냅니다\n3. 패널별 활동 편차로 조직의 전략적 우선순위를 파악합니다\n4. 우리와 유사한 관심사를 가진 조직을 식별합니다\n5. 패널별 협력이나 경쟁 전략을 차별화합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP, GPG, HM)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "keyword_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_search",
      "query_info": {
        "natural_questions": [
          "최근 논의된 의제들 중에 {keyword} 에 대해서 논의되고 있는 의제",
          "{keyword} 관련 최근 의제",
          "agendas discussing {keyword}"
        ],
        "keywords": [
          "논의",
          "관련",
          "의제"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.agenda_panel, ac.keywords, ac.sent_time\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST'\n                AND {keyword_condition}\n                AND ac.sent_time >= DATE('now', '-30 days') AND ac.has_deadline = 1\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의장이 요청한 의제 중 특정 주제의 발전 과정을 시계열로 분석하려고 합니다.\n1. agenda_chair 테이블에서 REQUEST 타입의 의제만 필터링합니다\n2. 키워드를 포함한 모든 요청 의제를 시간순으로 정렬합니다\n3. 초기 제안부터 최종 결정까지의 과정을 추적합니다\n4. 논의의 전환점과 주요 이정표를 식별합니다\n5. 미래 유사 이슈 대응을 위한 교훈을 도출합니다",
        "sql_prompt": "agenda_chair 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. mail_type='REQUEST'로 응답 요청 메일만 추출, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 ac.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "keyword",
          "type": "string",
          "required": true,
          "description": "Search keyword",
          "mcp_format": "extracted_keywords",
          "sql_builder": {
            "type": "keywords",
            "field": "ac.keywords",
            "operator": "LIKE",
            "placeholder": "{keyword_condition}"
          },
          "default": ""
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "org_urgent_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{organization}이 긴급하게 응답을 해야 하는 의제",
          "{organization} 긴급 응답 필요 의제",
          "{organization} urgent response required"
        ],
        "keywords": [
          "긴급",
          "응답",
          "urgent"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.*\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline < DATE('now', '+7 days')\n                AND ac.deadline > DATE('now')\n                AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR (arc.ABS IS NULL AND arc.BV IS NULL AND arc.CCS IS NULL AND \n                           arc.CRS IS NULL AND arc.DNV IS NULL AND arc.IRS IS NULL AND \n                           arc.KR IS NULL AND arc.NK IS NULL AND arc.PRS IS NULL AND \n                           arc.RINA IS NULL AND arc.IL IS NULL AND arc.TL IS NULL AND arc.LR IS NULL))\n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.deadline ASC",
        "system": "사용자는 긴급 대응이 필요한 의제를 체계적으로 관리하려고 합니다.\n1. response_org에 조직이 포함되고 마감일이 7일 이내인 의제를 추출합니다\n2. 아직 응답하지 않은 것만 필터링합니다\n3. 마감일 순으로 정렬하여 우선순위를 명확히 합니다\n4. 의제의 영향도를 함께 고려하여 리소스를 배분합니다\n5. 일일 체크리스트로 활용하여 누락을 방지합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "panel_org_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel} 에서 {organization}이 응답해야 하는 의제",
          "{panel} 패널 {organization} 응답 필요",
          "{organization} response required in {panel}"
        ],
        "keywords": [
          "패널",
          "응답",
          "필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.*\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_panel = {panel}\n                AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR (arc.ABS IS NULL AND arc.BV IS NULL AND arc.CCS IS NULL AND \n                           arc.CRS IS NULL AND arc.DNV IS NULL AND arc.IRS IS NULL AND \n                           arc.KR IS NULL AND arc.NK IS NULL AND arc.PRS IS NULL AND \n                           arc.RINA IS NULL AND arc.IL IS NULL AND arc.TL IS NULL AND arc.LR IS NULL))\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 패널별로 차별화된 대응 전략을 수립하려고 합니다.\n1. 특정 패널의 의제 중 조직이 응답 대상인 것을 추출합니다\n2. 패널의 특성에 맞는 대응 방식을 적용합니다\n3. 패널별 전문가를 배정하여 품질을 보장합니다\n4. 패널의 작업 방식과 문화를 고려한 응답을 준비합니다\n5. 일관성 있는 패널별 포지셔닝을 유지합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "panel_chair_recent_mails_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 의장이 최근 보낸 메일 목록",
          "{panel} 의장 최근 메일",
          "{panel} chair recent emails"
        ],
        "keywords": [
          "의장",
          "메일",
          "chair"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sender, ac.sent_time\nFROM agenda_chair ac\nWHERE ac.agenda_panel = {panel} \n                AND ac.sender_organization = 'Chair' \n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 패널 의장의 리더십과 방향성을 이해하려고 합니다.\n1. 특정 패널 의장이 발송한 최근 메일을 추출합니다\n2. 의장 메일은 패널의 우선순위와 일정을 반영합니다\n3. 의장의 관심사를 파악하여 전략적으로 대응합니다\n4. 중요 의제에 대한 의장의 입장을 미리 파악합니다\n5. 의장과의 관계 구축은 패널 활동의 효과를 높입니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC \n                LIMIT 10로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "panel_chair_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 의장이 보낸 메일 중 응답이 필요한 의제 목록",
          "{panel} 의장 응답 요청 메일",
          "{panel} chair response required mails"
        ],
        "keywords": [
          "의장",
          "응답",
          "필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.response_org, ac.deadline, ac.sent_time\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_panel = {panel} \n                AND ac.sender_type = 'CHAIR' \n                AND ac.response_org IS NOT NULL \n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 패널 의장의 요청사항을 우선 처리하려고 합니다.\n1. 패널 의장이 발송한 mail_type = 'request' 메일을 추출합니다\n2. 의장의 직접 요청은 패널 운영상 중요한 사항입니다\n3. 신속하고 충실한 응답으로 신뢰를 구축합니다\n4. 의장 요청 대응률은 패널 내 영향력과 직결됩니다\n5. 높은 품질의 응답으로 전문성을 인정받을 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 의장이 발송한 응답 요청 메일을 추적하여 각 기관의 응답 상태를 관리하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 각 기관의 응답 상태와 마감일 관리를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "panel_chair_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel} 의장이 보낸 메일의 키워드들 알려줘",
          "{panel} 의장 메일 주요 키워드",
          "{panel} chair mail keywords"
        ],
        "keywords": [
          "의장",
          "키워드",
          "메일"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.keywords, COUNT(*) as frequency\nFROM agenda_chair ac\nWHERE ac.agenda_panel = {panel} \n                AND ac.sender LIKE '%CHAIR%' \n                AND ac.keywords IS NOT NULL \n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY frequency DESC",
        "system": "사용자는 패널 의장의 아젠다와 우선순위를 파악하려고 합니다.\n1. 패널 의장 메일에서 키워드를 추출하여 빈도 분석합니다\n2. 의장이 강조하는 키워드는 패널의 방향을 나타냅니다\n3. 키워드 변화를 추적하여 정책 전환을 감지합니다\n4. 우리 제안에 의장의 관심 키워드를 반영합니다\n5. 전략적 커뮤니케이션으로 의장의 지지를 확보합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 10로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "meeting_notification_mails_recent_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 회의 개최관련 해서 알림을 준 메일",
          "최근 회의 공지 메일",
          "recent meeting notification emails"
        ],
        "keywords": [
          "회의",
          "개최",
          "알림",
          "meeting",
          "notification"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.agenda_panel, ac.subject, ac.sender, ac.sent_time\nFROM agenda_chair ac\nWHERE (ac.subject LIKE '%meeting%' OR ac.subject LIKE '%회의%') AND (ac.subject LIKE '%notice%' OR ac.subject LIKE '%notification%' OR ac.subject LIKE '%알림%' OR ac.subject LIKE '%공지%' OR ac.subject LIKE '%개최%') AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 회의 관련 행정 통지를 체계적으로 관리하려고 합니다.\n1. mail_type = 'notification'이고 회의 관련 키워드를 포함한 메일을 추출합니다\n2. 최신순으로 정렬하여 최근 변경사항을 우선 확인합니다\n3. 일정 변경은 출장 계획에 즉각 반영이 필요합니다\n4. 등록 마감일을 놓치지 않도록 주의합니다\n5. 중요 회의는 캘린더에 등록하여 관리합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "회의 관련 정보를 정리하여 회의 준비사항과 주요 안건을 요약하고, 참석자 및 일정 정보를 명확히 제시하세요."
    },
    {
      "template_id": "chair_recent_mail_content_v2",
      "template_version": "1.0.0",
      "template_category": "chair_communication",
      "query_info": {
        "natural_questions": [
          "최근 의장이 보낸 메일 내용 줘",
          "의장 최근 메일 내용",
          "chair recent mail content"
        ],
        "keywords": [
          "의장",
          "메일",
          "내용",
          "chair"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_panel, ac.agenda_code, ac.subject, ac.body, ac.sender, ac.sent_time\nFROM agenda_chair ac\nWHERE ac.sender_organization = 'Chair' \n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의장의 커뮤니케이션 스타일과 메시지를 분석하려고 합니다.\n1. 최근 의장 메일의 subject와 body를 모두 추출합니다\n2. 의장의 어조와 강조점을 분석합니다\n3. 긴급성, 중요도, 협조 요청 등의 뉘앙스를 파악합니다\n4. 의장의 리더십 스타일을 이해합니다\n5. 효과적인 커뮤니케이션 전략 수립에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC \n                LIMIT 10로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "panel_org_response_rate_v2",
      "template_version": "1.0.0",
      "template_category": "panel_statistics",
      "query_info": {
        "natural_questions": [
          "최근 발행한 의제 중 {panel} 패널에서 {organization} 응답율",
          "{panel} 패널 {organization} 응답률",
          "{organization} response rate in {panel}"
        ],
        "keywords": [
          "응답율",
          "응답률",
          "패널",
          "response rate"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT {organization} as organization,\n                    COUNT(DISTINCT ac.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE WHEN (arc.ABS IS NOT NULL OR arc.BV IS NOT NULL OR arc.CCS IS NOT NULL OR \n                                  arc.CRS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.IRS IS NOT NULL OR \n                                  arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.PRS IS NOT NULL OR \n                                  arc.RINA IS NOT NULL OR arc.IL IS NOT NULL OR arc.TL IS NOT NULL OR arc.LR IS NOT NULL) THEN ac.agenda_code END) as responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN (arc.ABS IS NOT NULL OR arc.BV IS NOT NULL OR arc.CCS IS NOT NULL OR \n                                  arc.CRS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.IRS IS NOT NULL OR \n                                  arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.PRS IS NOT NULL OR \n                                  arc.RINA IS NOT NULL OR arc.IL IS NOT NULL OR arc.TL IS NOT NULL OR arc.LR IS NOT NULL) THEN ac.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT ac.agenda_code) * 100, 2) as response_rate\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.agenda_panel = {panel}\n                AND ac.sender_organization = 'Chair'\n                AND {period_condition}",
        "system": "사용자는 패널별 참여 성과를 정량적으로 평가하려고 합니다.\n1. 패널별 전체 응답 요청 수와 실제 응답 수를 집계합니다\n2. 응답률 = (응답 수 / 요청 수) × 100으로 계산합니다\n3. 패널별 응답률 차이는 전문성과 관심도를 반영합니다\n4. 낮은 응답률 패널은 참여 강화가 필요합니다\n5. 전략적 중요 패널의 응답률을 우선 개선합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "panel_org_response_rate_yearly_v2",
      "template_version": "1.0.0",
      "template_category": "panel_statistics",
      "query_info": {
        "natural_questions": [
          "올해 발행한 의제 중 {panel} 패널에서 {organization} 응답율",
          "올해 {panel} 패널 {organization} 응답률",
          "this year {organization} response rate in {panel}"
        ],
        "keywords": [
          "올해",
          "응답율",
          "패널",
          "yearly"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT strftime('%Y', ac.sent_time) as year,\n                    COUNT(DISTINCT ac.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE WHEN (arc.ABS IS NOT NULL OR arc.BV IS NOT NULL OR arc.CCS IS NOT NULL OR \n                                  arc.CRS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.IRS IS NOT NULL OR \n                                  arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.PRS IS NOT NULL OR \n                                  arc.RINA IS NOT NULL OR arc.IL IS NOT NULL OR arc.TL IS NOT NULL OR arc.LR IS NOT NULL) THEN ac.agenda_code END) as responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN (arc.ABS IS NOT NULL OR arc.BV IS NOT NULL OR arc.CCS IS NOT NULL OR \n                                  arc.CRS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.IRS IS NOT NULL OR \n                                  arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.PRS IS NOT NULL OR \n                                  arc.RINA IS NOT NULL OR arc.IL IS NOT NULL OR arc.TL IS NOT NULL OR arc.LR IS NOT NULL) THEN ac.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT ac.agenda_code) * 100, 2) as response_rate\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.agenda_panel = {panel}\n                AND ac.sender_organization = 'Chair'\n                AND {period_condition}\nORDER BY year DESC",
        "system": "사용자는 패널 참여도의 시계열 변화를 추적하려고 합니다.\n1. 연도별로 패널 응답률을 계산하여 추이를 분석합니다\n2. 상승/하락 트렌드를 파악하여 원인을 분석합니다\n3. 조직 개편이나 전략 변화의 영향을 평가합니다\n4. 개선된 패널의 성공 요인을 다른 패널에 적용합니다\n5. 장기적 참여 전략의 효과를 검증합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 year DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "panel_recent_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 패널에서 논의되었던 의제의 주요 키워드 출력 해줘",
          "{panel} 패널 최근 주요 키워드",
          "{panel} panel recent keywords"
        ],
        "keywords": [
          "패널",
          "키워드",
          "최근",
          "주요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency\nFROM agenda_all a\nWHERE a.agenda_panel = {panel} \n                AND a.keywords IS NOT NULL \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY frequency DESC",
        "system": "사용자는 패널의 현재 관심사와 논의 방향을 파악하려고 합니다.\n1. 특정 패널의 최근 의제에서 키워드를 추출합니다\n2. 빈도와 증가율을 분석하여 핫 이슈를 식별합니다\n3. 패널별 특화된 기술 용어나 정책 키워드를 추적합니다\n4. 새로운 키워드의 등장은 패널의 새로운 관심사를 의미합니다\n5. 선제적 연구와 준비로 논의를 주도할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 10로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "org_no_response_with_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "최근 마감되지 않거나 {organization}이 응답하지 않은 의제 중에서 의장에 첨부파일을 송부한 의제",
          "{organization} 미응답 의제 중 첨부파일 있는 것",
          "no response from {organization} with attachments"
        ],
        "keywords": [
          "미응답",
          "첨부파일",
          "의장",
          "attachment"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.*\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR (arc.ABS IS NULL AND arc.BV IS NULL AND arc.CCS IS NULL AND \n                           arc.CRS IS NULL AND arc.DNV IS NULL AND arc.IRS IS NULL AND \n                           arc.KR IS NULL AND arc.NK IS NULL AND arc.PRS IS NULL AND \n                           arc.RINA IS NULL AND arc.IL IS NULL AND arc.TL IS NULL AND arc.LR IS NULL))\n                AND ac.hasAttachments = 1\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 기술 문서가 포함된 미응답 의제를 우선 처리하려고 합니다.\n1. 미응답 의제 중 has_attachment = 1인 것을 필터링합니다\n2. 첨부파일은 상세 기술 사양이나 데이터를 포함할 가능성이 높습니다\n3. 기술적 검토에 더 많은 시간이 필요할 수 있습니다\n4. 전문가 배정과 충분한 검토 시간을 확보합니다\n5. 첨부 문서의 품질이 응답의 품질을 좌우합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "specific_agenda_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제가 현재 진행 중인가?",
          "{agenda} 의제 현재 상태는?",
          "is {agenda} ongoing?"
        ],
        "keywords": [
          "의제",
          "진행중",
          "상태",
          "status"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.decision_status,\n                    ac.deadline,\n                    ac.sent_time,\n                    ac.sender_organization\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_code = {agenda} AND ac.deadline > DATE('now')",
        "system": "사용자는 특정 의제의 전체 이력과 현황을 파악하려고 합니다.\n1. agenda_code 또는 agenda_base_version으로 특정 의제를 조회합니다\n2. 생성부터 현재까지의 모든 상태 변화를 추적합니다\n3. 관련 응답, 첨부파일, 업데이트 내역을 모두 포함합니다\n4. 의제의 전체 생명주기를 한눈에 파악할 수 있습니다\n5. 현재 필요한 액션과 향후 일정을 확인합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code (e.g., PL25016, UR14523a)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "org_response_required_with_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{organization}이 응답해야하는 의제 중 의장이 보낸 메일이 첨부가 있는지 확인",
          "{organization} 응답 필요 의제 중 의장 첨부파일",
          "chair mails with attachments requiring {organization} response"
        ],
        "keywords": [
          "응답",
          "의장",
          "첨부",
          "attachment"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.*\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.response_org = {organization} OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR (arc.ABS IS NULL AND arc.BV IS NULL AND arc.CCS IS NULL AND \n                           arc.CRS IS NULL AND arc.DNV IS NULL AND arc.IRS IS NULL AND \n                           arc.KR IS NULL AND arc.NK IS NULL AND arc.PRS IS NULL AND \n                           arc.RINA IS NULL AND arc.IL IS NULL AND arc.TL IS NULL AND arc.LR IS NULL))\n                AND ac.hasAttachments = 1\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 문서 검토가 필요한 응답 요청을 체계적으로 관리하려고 합니다.\n1. 응답 필요 의제 중 첨부파일이 있는 것을 추출합니다\n2. 첨부파일 유형과 크기를 함께 확인합니다\n3. 기술 문서, 데이터, 도면 등 유형별 전문가를 배정합니다\n4. 문서 검토 시간을 고려한 일정 계획을 수립합니다\n5. 첨부 문서 기반의 구체적인 응답을 준비합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "agenda_has_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에 첨부파일이 있어?",
          "{agenda}에서 첨부 파일이 있나?",
          "does {agenda} have attachments?"
        ],
        "keywords": [
          "첨부파일",
          "attachment",
          "첨부"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.agenda_code = {agenda}\n                AND hasAttachments = 1",
        "system": "사용자는 특정 의제의 첨부파일 존재 여부를 확인하려고 합니다.\n1. 해당 의제의 has_attachment 필드를 확인합니다\n2. 첨부파일이 있다면 파일명, 크기, 유형을 표시합니다\n3. 기술 문서인지 참고 자료인지 구분합니다\n4. 필요한 전문가와 검토 시간을 예측합니다\n5. 첨부파일 분석이 응답의 핵심이 될 수 있습니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "agenda_organization_opinion_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 {organization}의 의견은?",
          "{agenda}에서 {organization} 의견은 뭐지?",
          "what is {organization}'s opinion on {agenda}?"
        ],
        "keywords": [
          "의견",
          "opinion",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    CASE {organization}\n            WHEN 'ABS' THEN arc.ABS\n            WHEN 'BV' THEN arc.BV\n            WHEN 'CCS' THEN arc.CCS\n            WHEN 'CRS' THEN arc.CRS\n            WHEN 'DNV' THEN arc.DNV\n            WHEN 'IRS' THEN arc.IRS\n            WHEN 'KR' THEN arc.KR\n            WHEN 'NK' THEN arc.NK\n            WHEN 'PRS' THEN arc.PRS\n            WHEN 'RINA' THEN arc.RINA\n            WHEN 'IL' THEN arc.IL\n            WHEN 'TL' THEN arc.TL\n            WHEN 'LR' THEN arc.LR\n        END as opinion\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND (arc.ABS IS NOT NULL OR arc.BV IS NOT NULL OR arc.CCS IS NOT NULL OR \n                                  arc.CRS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.IRS IS NOT NULL OR \n                                  arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.PRS IS NOT NULL OR \n                                  arc.RINA IS NOT NULL OR arc.IL IS NOT NULL OR arc.TL IS NOT NULL OR arc.LR IS NOT NULL)",
        "system": "사용자는 특정 조직의 입장을 심층 분석하려고 합니다.\n1. agenda_responses_content에서 해당 조직의 응답을 추출합니다\n2. 응답 내용에서 핵심 입장과 논리를 파악합니다\n3. 찬성/반대의 근거와 조건을 분석합니다\n4. 해당 조직의 일관된 정책 방향과 비교합니다\n5. 우리의 대응 논리 개발에 참고합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}과 관련된 다른 의제들 검토해 줄래?",
          "{agenda} 연관 의제",
          "related agendas to {agenda}"
        ],
        "keywords": [
          "관련",
          "연관",
          "related"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords, a2.sent_time\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND {period_condition}\nORDER BY a2.sent_time DESC",
        "system": "사용자는 의제 간 연관성을 파악하여 종합적으로 대응하려고 합니다.\n1. 동일한 agenda_base나 유사한 키워드를 가진 의제를 검색합니다\n2. 시간적 선후 관계와 인과 관계를 분석합니다\n3. 관련 의제들의 결정이 현 의제에 미치는 영향을 평가합니다\n4. 일관성 있는 입장을 유지하면서 대응합니다\n5. 패키지 딜이나 연계 협상의 기회를 모색합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a2.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.a2.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_org_opinion_agreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 {organization} 의견에 동의한 기관과 근거는?",
          "{agenda}에서 {organization} 의견 동의 기관",
          "organizations agreeing with {organization} on {agenda}"
        ],
        "keywords": [
          "동의",
          "agree",
          "찬성"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc2.KR IS NOT NULL THEN 'KR' \n                        WHEN arc2.NK IS NOT NULL THEN 'NK' \n                        WHEN arc2.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'Other' \n                    END as organization,\n                    COUNT(*) as count\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a1.agenda_code = {agenda}\n                AND CASE {organization}\n                WHEN 'ABS' THEN arc1.ABS\n                WHEN 'BV' THEN arc1.BV\n                WHEN 'CCS' THEN arc1.CCS\n                WHEN 'CRS' THEN arc1.CRS\n                WHEN 'DNV' THEN arc1.DNV\n                WHEN 'IRS' THEN arc1.IRS\n                WHEN 'KR' THEN arc1.KR\n                WHEN 'LR' THEN arc1.LR\n                WHEN 'NK' THEN arc1.NK\n                WHEN 'PRS' THEN arc1.PRS\n                ELSE NULL\n            END IS NOT NULL\n                AND a2.agenda_code != {agenda}",
        "system": "사용자는 의견 일치 패턴을 분석하여 연합을 구성하려고 합니다.\n1. 각 조직의 응답에서 입장을 추출하여 비교합니다\n2. 유사한 키워드나 논리를 사용하는 조직을 그룹화합니다\n3. 일치도가 높은 조직 간 연합 가능성을 평가합니다\n4. 핵심 동맹과 주변 지지 세력을 구분합니다\n5. 효과적인 로비와 설득 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_org_opinion_disagreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 {organization} 의견에 동의하지 않은 기관과 근거는?",
          "{agenda}에서 {organization} 의견 반대 기관",
          "organizations disagreeing with {organization} on {agenda}"
        ],
        "keywords": [
          "동의하지않",
          "disagree",
          "반대"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc2.KR IS NOT NULL THEN 'KR' \n                        WHEN arc2.NK IS NOT NULL THEN 'NK' \n                        WHEN arc2.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'Other' \n                    END as organization,\n                    COUNT(*) as count\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a1.agenda_code = {agenda}\n                AND CASE {organization}\n                WHEN 'ABS' THEN arc1.ABS\n                WHEN 'BV' THEN arc1.BV\n                WHEN 'CCS' THEN arc1.CCS\n                WHEN 'CRS' THEN arc1.CRS\n                WHEN 'DNV' THEN arc1.DNV\n                WHEN 'IRS' THEN arc1.IRS\n                WHEN 'KR' THEN arc1.KR\n                WHEN 'LR' THEN arc1.LR\n                WHEN 'NK' THEN arc1.NK\n                WHEN 'PRS' THEN arc1.PRS\n                ELSE NULL\n            END IS NOT NULL\n                AND a2.agenda_code != {agenda}\n                AND CASE {organization}\n                WHEN 'ABS' THEN arc1.ABS\n                WHEN 'BV' THEN arc1.BV\n                WHEN 'CCS' THEN arc1.CCS\n                WHEN 'CRS' THEN arc1.CRS\n                WHEN 'DNV' THEN arc1.DNV\n                WHEN 'IRS' THEN arc1.IRS\n                WHEN 'KR' THEN arc1.KR\n                WHEN 'LR' THEN arc1.LR\n                WHEN 'NK' THEN arc1.NK\n                WHEN 'PRS' THEN arc1.PRS\n                ELSE NULL\n            END != CASE {organization}\n                WHEN 'ABS' THEN arc2.ABS\n                WHEN 'BV' THEN arc2.BV\n                WHEN 'CCS' THEN arc2.CCS\n                WHEN 'CRS' THEN arc2.CRS\n                WHEN 'DNV' THEN arc2.DNV\n                WHEN 'IRS' THEN arc2.IRS\n                WHEN 'KR' THEN arc2.KR\n                WHEN 'LR' THEN arc2.LR\n                WHEN 'NK' THEN arc2.NK\n                WHEN 'PRS' THEN arc2.PRS\n                ELSE NULL\n            END",
        "system": "사용자는 의견 대립을 분석하여 해결 방안을 모색하려고 합니다.\n1. 상반된 입장을 가진 조직들을 식별합니다\n2. 대립의 핵심 쟁점과 각자의 이해관계를 분석합니다\n3. 타협 가능한 영역과 양보 불가한 영역을 구분합니다\n4. 창의적인 해결책이나 대안을 모색합니다\n5. 중재자 역할로 영향력을 확대할 기회가 될 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "description": "Organization code (e.g., KR, NK, CCS, ABS)",
          "mcp_format": "extracted_organization"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_multiple_org_opinions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 여러 기관의 의견은?",
          "{agenda} 복수 기관 의견",
          "multiple organizations' opinions on {agenda}"
        ],
        "keywords": [
          "의견",
          "여러",
          "multiple"
        ]
      },
      "target_scope": {
        "scope_type": "more",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK: ' || SUBSTR(arc.NK, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS: ' || SUBSTR(arc.CCS, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS: ' || SUBSTR(arc.ABS, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV: ' || SUBSTR(arc.DNV, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.BV IS NOT NULL THEN 'BV: ' || SUBSTR(arc.BV, 1, 100) ELSE '' END as all_opinions\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 다자간 입장을 종합적으로 비교 분석하려고 합니다.\n1. 지정된 조직들의 응답을 병렬로 추출합니다\n2. 각 조직의 핵심 입장을 요약하여 비교표를 작성합니다\n3. 공통점과 차이점을 명확히 구분합니다\n4. 의견 스펙트럼에서 우리의 포지션을 결정합니다\n5. 다자간 협상에서의 균형점을 찾는 데 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "organizations",
          "type": "array",
          "required": true,
          "description": "List of organization codes",
          "sql_builder": {
            "type": "in",
            "field": "a.sender_organization",
            "placeholder": "{organizations}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}",
            "Fixed placeholder: {organizations}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_fastest_responder_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 회신을 가장 빠른 기관의 의견은?",
          "{agenda} 최초 응답 기관",
          "fastest responder to {agenda}"
        ],
        "keywords": [
          "가장빠른",
          "최초",
          "fastest"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    CASE\n                        WHEN art.KR <= COALESCE(art.NK, 999999) AND art.KR <= COALESCE(art.CCS, 999999) \n                             AND art.KR IS NOT NULL THEN 'KR'\n                        WHEN art.NK <= COALESCE(art.KR, 999999) AND art.NK <= COALESCE(art.CCS, 999999) \n                             AND art.NK IS NOT NULL THEN 'NK'\n                        WHEN art.CCS <= COALESCE(art.KR, 999999) AND art.CCS <= COALESCE(art.NK, 999999) \n                             AND art.CCS IS NOT NULL THEN 'CCS'\n                        ELSE 'None'\n                    END as fastest_responder,\n                    CASE\n                        WHEN art.KR <= COALESCE(art.NK, 999999) AND art.KR <= COALESCE(art.CCS, 999999) \n                             AND art.KR IS NOT NULL THEN julianday(art.KR) - julianday(a.sent_time)\n                        WHEN art.NK <= COALESCE(art.KR, 999999) AND art.NK <= COALESCE(art.CCS, 999999) \n                             AND art.NK IS NOT NULL THEN julianday(art.NK) - julianday(a.sent_time)\n                        WHEN art.CCS <= COALESCE(art.KR, 999999) AND art.CCS <= COALESCE(art.NK, 999999) \n                             AND art.CCS IS NOT NULL THEN julianday(art.CCS) - julianday(a.sent_time)\n                        ELSE NULL\n                    END as response_days\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 선제적 응답자를 식별하여 그들의 전략을 이해하려고 합니다.\n1. 의제별로 최초 응답 시간과 조직을 확인합니다\n2. 빠른 응답은 사전 준비나 높은 관심을 의미합니다\n3. 최초 응답자의 입장이 논의 방향을 설정할 가능성이 높습니다\n4. 주요 이슈에 대한 각 조직의 준비도를 평가합니다\n5. 우리도 중요 이슈에는 신속한 응답 체계를 구축해야 합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 키워드는?",
          "{agenda} 주요 키워드",
          "keywords for {agenda}"
        ],
        "keywords": [
          "키워드",
          "keyword"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    a.keywords\nFROM agenda_all a\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제의 핵심 주제와 범위를 키워드로 이해하려고 합니다.\n1. 해당 의제의 keywords 필드를 추출합니다\n2. 각 키워드의 의미와 상호 관계를 분석합니다\n3. 기술적 키워드와 정책적 키워드를 구분합니다\n4. 키워드를 통해 필요한 전문성을 파악합니다\n5. 관련 전문가 배정과 참고 자료 준비에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "agenda_response_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 응답들의 주요 키워드는",
          "{agenda} 응답 키워드",
          "response keywords for {agenda}"
        ],
        "keywords": [
          "응답",
          "키워드",
          "response"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    a.keywords,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 200) as response_excerpt\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 응답 키워드를 통해 각국의 관심사를 파악하려고 합니다.\n1. 모든 응답에서 키워드를 추출하여 빈도 분석합니다\n2. 공통적으로 언급되는 핵심 이슈를 식별합니다\n3. 특정 조직만 강조하는 독특한 관점을 발견합니다\n4. 키워드 분석으로 숨겨진 아젠다를 추론합니다\n5. 우리 응답에서 놓치지 말아야 할 포인트를 확인합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "agenda_keywords_related_panel_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}의 주요 키워드와 연관된 {panel}에서의 아젠다가 있는가?",
          "{agenda} 키워드 관련 {panel} 의제",
          "panel agendas related to {agenda} keywords"
        ],
        "keywords": [
          "키워드",
          "연관",
          "패널"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND a2.sent_time >= DATE('now', '-30 days')\nORDER BY a2.sent_time DESC",
        "system": "사용자는 크로스 패널 일관성을 확보하려고 합니다.\n1. 의제의 키워드를 추출하여 다른 패널에서 검색합니다\n2. 동일 이슈에 대한 패널별 접근 방식을 비교합니다\n3. 상충되는 결정이나 중복 작업을 방지합니다\n4. 패널 간 조율이 필요한 사항을 식별합니다\n5. 통합적 대응 전략으로 영향력을 극대화합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a2.sent_time DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          },
          "default": "SDTP-III-2025-01"
        },
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_kr_opinion_agreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 KR의 의견에 동의한 이슈와 기관은",
          "{agenda} KR 동의 기관",
          "organizations agreeing with KR on {agenda}"
        ],
        "keywords": [
          "KR",
          "동의",
          "이슈"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    'KR Opinion: ' || SUBSTR(arc.KR, 1, 200) as kr_opinion,\n                    CASE WHEN arc.NK LIKE '%agree%' OR arc.NK LIKE '%support%' THEN 'NK agrees' ELSE '' END ||\n                    CASE WHEN arc.CCS LIKE '%agree%' OR arc.CCS LIKE '%support%' THEN ' CCS agrees' ELSE '' END ||\n                    CASE WHEN arc.ABS LIKE '%agree%' OR arc.ABS LIKE '%support%' THEN ' ABS agrees' ELSE '' END as agreements\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND arc.KR IS NOT NULL",
        "system": "사용자는 KR과 입장이 같은 잠재적 동맹을 찾으려고 합니다.\n1. KR이 응답한 의제에서 다른 조직들의 응답을 비교합니다\n2. 유사한 키워드나 논리를 사용하는 조직을 식별합니다\n3. 일치도가 높은 조직은 협력 파트너가 될 가능성이 높습니다\n4. 공동 제안이나 연합 형성에 활용합니다\n5. 국제 협상에서 지지 세력을 미리 확보할 수 있습니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_kr_opinion_disagreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 KR의 의견에 반대한 기관과 이슈는 무엇인가?",
          "{agenda} KR 반대 기관",
          "organizations opposing KR on {agenda}"
        ],
        "keywords": [
          "KR",
          "반대",
          "이슈"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    'KR Opinion: ' || SUBSTR(arc.KR, 1, 200) as kr_opinion,\n                    CASE WHEN arc.NK LIKE '%disagree%' OR arc.NK LIKE '%oppose%' THEN 'NK disagrees' ELSE '' END ||\n                    CASE WHEN arc.CCS LIKE '%disagree%' OR arc.CCS LIKE '%oppose%' THEN ' CCS disagrees' ELSE '' END ||\n                    CASE WHEN arc.ABS LIKE '%disagree%' OR arc.ABS LIKE '%oppose%' THEN ' ABS disagrees' ELSE '' END as disagreements\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND arc.KR IS NOT NULL",
        "system": "사용자는 KR과 대립하는 조직들의 입장을 분석하려고 합니다.\n1. KR과 반대 입장을 표명한 조직들을 식별합니다\n2. 대립의 근본 원인과 각자의 이해관계를 분석합니다\n3. 설득 가능한 부분과 양보 불가한 부분을 구분합니다\n4. 상대방 논리의 약점을 파악하여 반박 논리를 준비합니다\n5. 필요시 제3의 대안을 제시하여 교착 상태를 해결합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_ur_related_responses_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "최근 {agenda}에서 UR과 관련된 아젠다나 기관의 응답이 있었나?",
          "{agenda} UR 관련 응답",
          "UR-related responses in {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 200) as response_excerpt\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND (a.keywords LIKE '%UR%' OR a.subject LIKE '%UR%')",
        "system": "사용자는 UR 개정에 대한 국제적 컨센서스를 파악하려고 합니다.\n1. UR 관련 의제들의 응답을 종합적으로 수집합니다\n2. 각 조직의 찬반 입장과 조건을 분석합니다\n3. 기술적 우려사항과 비용 문제를 구분합니다\n4. 주요 선급들의 입장이 특히 중요합니다\n5. 합의 가능한 개정안 도출에 필요한 정보를 제공합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "recent_eg_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 아젠다나 응답 중에서 EG와 관련된 내용이 있나",
          "최근 EG 관련 내용",
          "recent EG-related content"
        ],
        "keywords": [
          "EG",
          "Expert Group",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT 'agenda' as source_type, \n                    agenda_code, \n                    subject, \n                    keywords, \n                    sent_time\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE (keywords LIKE '%EG%' OR subject LIKE '%Expert Group%')\n                AND {period_condition}\n                \n                UNION ALL\n                \n                SELECT \n                    'chair' as source_type,\n                    agenda_code,\n                    subject,\n                    keywords,\n                    created_at as sent_time\n                FROM agenda_chair\n                WHERE (keywords LIKE '%EG%' OR subject LIKE '%Expert Group%')\n                AND created_at >= DATE('now', '-30 days')\nORDER BY sent_time DESC",
        "system": "사용자는 EG의 기술적 논의를 상세히 추적하려고 합니다.\n1. EG 관련 의제의 본문과 첨부 문서를 추출합니다\n2. 기술적 세부사항과 논의 경과를 분석합니다\n3. 주요 기술적 쟁점과 해결 방안을 파악합니다\n4. EG 권고사항이 향후 규정에 미칠 영향을 예측합니다\n5. 우리의 기술 개발 방향과 일치하는지 검토합니다",
        "sql_prompt": "agenda_chair 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "recent_future_work_discussions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "최근 논의된 내용 중 향후 작업 하기로 했던 내용이 있나?",
          "향후 작업 계획",
          "future work commitments"
        ],
        "keywords": [
          "향후",
          "작업",
          "future",
          "work"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.sent_time\nFROM agenda_all a\nWHERE (a.body LIKE '%future work%' OR a.body LIKE '%향후 작업%' OR a.body LIKE '%to be developed%' OR a.body LIKE '%추후 개발%' OR a.body LIKE '%next meeting%' OR a.body LIKE '%다음 회의%') AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 IMO의 미래 작업 방향을 파악하려고 합니다.\n1. 'future work', 'work programme' 등의 키워드로 검색합니다\n2. 새로운 작업 항목과 우선순위를 확인합니다\n3. 중장기 규제 로드맵을 파악합니다\n4. 우리가 준비해야 할 미래 이슈를 식별합니다\n5. 선제적 R&D와 역량 개발 계획을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_issue_organization_opinions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 아젠다의 중요 이슈들에 대해서 각각 이슈를 분리하고 각 기관들의 의견 취합해줘",
          "{agenda} 이슈별 기관 의견",
          "organization opinions by issue for {agenda}"
        ],
        "keywords": [
          "이슈",
          "의견",
          "취합"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    a.keywords,\n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 100)\n                        ELSE ''\n                    END ||\n                    CASE \n                        WHEN arc.NK IS NOT NULL THEN ' NK: ' || SUBSTR(arc.NK, 1, 100)\n                        ELSE ''\n                    END ||\n                    CASE \n                        WHEN arc.CCS IS NOT NULL THEN ' CCS: ' || SUBSTR(arc.CCS, 1, 100)\n                        ELSE ''\n                    END as opinions\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND {issue_condition}",
        "system": "사용자는 특정 이슈의 전체 의견 지형을 파악하려고 합니다.\n1. 해당 이슈 관련 모든 응답을 수집합니다\n2. 각 조직의 입장을 카테고리화합니다 (찬성/반대/중립/조건부)\n3. 주요 논점별로 의견 분포를 분석합니다\n4. 합의 가능성과 주요 장애물을 식별합니다\n5. 우리의 최적 포지셔닝을 결정하는 데 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          },
          "default": "SDTP-III-2025-01"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        },
        {
          "name": "issue",
          "type": "string",
          "description": "issue 검색",
          "required": false,
          "mcp_format": {
            "type": "string"
          },
          "sql_builder": {
            "type": "keywords",
            "field": "a.keywords",
            "operator": "LIKE",
            "placeholder": "{issue_condition}"
          },
          "default": ""
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_main_issues_related_list_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}의 아젠다에서 주요 이슈와 관련된 아젠다 리스트를 제공해줘",
          "{agenda} 이슈 관련 의제 목록",
          "agendas related to {agenda} main issues"
        ],
        "keywords": [
          "주요이슈",
          "관련",
          "리스트"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords, a2.agenda_panel\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND {period_condition}\nORDER BY a2.sent_time DESC",
        "system": "사용자는 주요 이슈의 전체적인 논의 구조를 파악하려고 합니다.\n1. 핵심 키워드를 포함한 모든 관련 의제를 추출합니다\n2. 의제 간 연관성과 선후 관계를 분석합니다\n3. 이슈의 발전 과정과 현재 상태를 파악합니다\n4. 중복 논의나 상충되는 결정을 방지합니다\n5. 통합적 대응 전략 수립에 활용합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a2.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.a2.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_ur_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 UR과 관련된 내용이 있냐?",
          "{agenda} UR 관련 내용",
          "UR-related content in {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.keywords\nFROM agenda_all a\nWHERE a.agenda_code = 'PLACEHOLDER_AGENDA' AND (a.body LIKE '%UR%' OR a.keywords LIKE '%UR%' OR a.subject LIKE '%Uniform Requirement%')",
        "system": "사용자는 UR 개정의 기술적 세부사항을 검토하려고 합니다.\n1. UR 관련 의제의 본문 내용을 상세히 추출합니다\n2. 개정 제안의 구체적인 조항과 변경사항을 분석합니다\n3. 기술적 근거와 영향 평가를 확인합니다\n4. 산업계에 미치는 비용과 기술적 부담을 평가합니다\n5. 대응 방안과 의견서 작성에 필요한 정보를 제공합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "agenda_imo_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 IMO관련된 내용이 있나?",
          "{agenda} IMO 관련 내용",
          "IMO-related content in {agenda}"
        ],
        "keywords": [
          "IMO",
          "관련",
          "내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.keywords\nFROM agenda_all a\nWHERE a.agenda_code = 'PLACEHOLDER_AGENDA' AND (a.body LIKE '%IMO%' OR a.keywords LIKE '%IMO%' OR a.subject LIKE '%International Maritime Organization%')",
        "system": "사용자는 IMO 본부의 정책 방향을 상세히 파악하려고 합니다.\n1. IMO 사무국이 발송하거나 주도하는 의제를 추출합니다\n2. 정책 문서와 전략 계획을 중점적으로 분석합니다\n3. IMO의 중장기 비전과 우선순위를 이해합니다\n4. 글로벌 해사 정책의 방향성을 예측합니다\n5. 우리의 전략을 IMO 방향과 일치시키는 데 활용합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "agenda_completion_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제는 현재 종료되었는가?",
          "{agenda} 완료 여부",
          "is {agenda} completed?"
        ],
        "keywords": [
          "종료",
          "완료",
          "completed"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.decision_status,\n                    CASE \n                        WHEN ac.deadline <= DATE('now') THEN 'Completed'\n                        WHEN ac.deadline > DATE('now') AND ac.has_deadline = 1 THEN 'Decision Pending'\n                        ELSE 'In Progress'\n                    END as status\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_code = {agenda} AND ac.deadline > DATE('now')",
        "system": "사용자는 deadline 경과(deadline <= DATE('now'))된 의제의 최종 결과를 확인하려고 합니다.\n1. deadline <= DATE('now')인 특정 의제를 조회합니다\n2. 최종 결정사항과 그 근거를 확인합니다\n3. 이행 요구사항과 일정을 파악합니다\n4. 관련 문서와 가이드라인을 확인합니다\n5. 우리 조직의 후속 조치 계획을 수립합니다",
        "sql_prompt": "deadline이 현재 날짜 이전인(deadline이 지난(완료된)) 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "agenda_important_issues_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda} 아젠다의 중요 이슈는 뭐지?",
          "{agenda} 주요 이슈",
          "important issues of {agenda}"
        ],
        "keywords": [
          "중요",
          "이슈",
          "important"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.keywords, a.body\nFROM agenda_all a\nWHERE (a.agenda_code = 'PLACEHOLDER_AGENDA' OR agenda_base = 'PLACEHOLDER_AGENDA') AND (a.keywords LIKE '%important%' OR a.keywords LIKE '%중요%' OR a.keywords LIKE '%critical%' OR a.keywords LIKE '%핵심%')",
        "system": "사용자는 현재 가장 중요한 이슈를 선별하려고 합니다.\n1. 응답률, 응답 조직 수, 키워드 빈도 등을 종합 평가합니다\n2. 의장이 강조하는 의제에 가중치를 부여합니다\n3. 여러 패널에서 동시에 다뤄지는 이슈를 식별합니다\n4. 산업 영향도와 규제 강도를 고려합니다\n5. 전략적 대응이 필요한 핵심 이슈를 도출합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_previous_discussions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 이전에 논의된 적이 있나?",
          "{agenda} 이전 논의 이력",
          "previous discussions of {agenda}"
        ],
        "keywords": [
          "이전",
          "논의",
          "previous"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.decision_status\nFROM agenda_all a\nWHERE agenda_base = SUBSTR('PLACEHOLDER_AGENDA', 1, LENGTH('PLACEHOLDER_AGENDA')-1) AND a.agenda_code < 'PLACEHOLDER_AGENDA'\nORDER BY a.agenda_code DESC",
        "system": "사용자는 의제의 역사적 맥락을 이해하려고 합니다.\n1. 동일하거나 유사한 주제의 과거 의제를 검색합니다\n2. 시간순으로 정렬하여 논의 발전 과정을 추적합니다\n3. 과거 결정사항과 현재 제안의 연관성을 분석합니다\n4. 반복되는 이슈나 해결되지 않은 문제를 식별합니다\n5. 과거 경험을 현재 대응에 활용합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.agenda_code DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_other_panels_discussion_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 다른 패널에서 논의되고 있는 패널이 있나?",
          "{agenda} 타패널 논의",
          "other panels discussing {agenda} topics"
        ],
        "keywords": [
          "다른패널",
          "논의",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_panel, COUNT(DISTINCT a2.agenda_code) as agenda_count\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_panel != a1.agenda_panel\nORDER BY agenda_count DESC",
        "system": "사용자는 패널 간 논의 일관성을 확보하려고 합니다.\n1. 동일 주제를 다루는 다른 패널의 의제를 검색합니다\n2. 패널별 접근 방식과 결정사항을 비교합니다\n3. 상충되는 방향이나 중복 작업을 식별합니다\n4. 패널 간 조율이 필요한 사항을 도출합니다\n5. 통합된 입장으로 일관성을 유지합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 agenda_count DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_other_panels_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 다른 패널에서 논의되고 있는 아젠다가 있나?",
          "{agenda} 타패널 의제",
          "other panel agendas related to {agenda}"
        ],
        "keywords": [
          "다른패널",
          "아젠다",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_panel, a2.agenda_code, a2.subject, a2.keywords\nFROM agenda_all a\nWHERE a1.agenda_code = {agenda} \n                AND a2.agenda_panel != a1.agenda_panel \n                AND a2.sent_time >= DATE('now', '-30 days')\nORDER BY a2.sent_time DESC",
        "system": "사용자는 관련된 모든 패널의 논의를 종합하려고 합니다.\n1. 키워드와 주제를 기반으로 관련 의제를 광범위하게 검색합니다\n2. 패널별로 그룹화하여 체계적으로 제시합니다\n3. 각 패널의 관점과 우선순위 차이를 이해합니다\n4. 시너지 효과를 낼 수 있는 협력 기회를 찾습니다\n5. 포괄적 대응 전략 수립에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a2.sent_time DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          },
          "default": "SDTP-III-2025-01"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_kr_response_check_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제에서 KR이 응답을 하였는가?",
          "{agenda} KR 응답 여부",
          "did KR respond to {agenda}?"
        ],
        "keywords": [
          "KR",
          "응답",
          "여부"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.deadline,\n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'Responded' \n                        ELSE 'No Response' \n                    END as kr_status,\n                    arc.KR as kr_response\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_code = {agenda}",
        "system": "사용자는 KR의 특정 의제 응답 상태를 확인하려고 합니다.\n1. agenda_responses_content에서 KR 응답 여부를 확인합니다\n2. 응답이 있다면 내용과 응답일을 표시합니다\n3. 미응답이면 마감일까지 남은 기간을 계산합니다\n4. 응답 필요 여부와 긴급도를 함께 평가합니다\n5. 즉각적인 액션 필요 여부를 판단합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.response_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "panel_ongoing_responded_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "진행 중인 의제에서 {panel}에서 현재 응답을 한 기관은?",
          "{panel} 진행중 의제 응답 기관",
          "organizations that responded to ongoing {panel} agendas"
        ],
        "keywords": [
          "진행중",
          "응답",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END as responded_orgs\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.deadline > DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 패널별 조직들의 응답 적극성을 평가하려고 합니다.\n1. 패널의 ongoing 의제 중 응답이 있는 것을 추출합니다\n2. 응답한 조직과 응답 시점을 확인합니다\n3. 빠른 응답은 해당 패널에 대한 높은 관심을 의미합니다\n4. 우리의 상대적 응답 속도를 비교합니다\n5. 경쟁 조직의 움직임을 실시간으로 추적합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "panel_no_response_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 현재 응답을 아직 하지 않은 기관은?",
          "{panel} 미응답 기관",
          "organizations not responding in {panel}"
        ],
        "keywords": [
          "미응답",
          "아직",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.deadline,\n                    'Waiting: ' ||\n                    CASE WHEN arc.KR IS NULL AND (ac.response_org = 'KR' OR ac.response_org = 'ALL') THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NULL AND (ac.response_org = 'NK' OR ac.response_org = 'ALL') THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NULL AND (ac.response_org = 'CCS' OR ac.response_org = 'ALL') THEN 'CCS ' ELSE '' END as no_response_orgs\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_panel = {panel}\n                AND ac.sender_type = 'CHAIR'\n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.deadline ASC",
        "system": "사용자는 패널별 소극적 참여 조직을 식별하려고 합니다.\n1. 패널별 응답 요청 대비 실제 응답을 비교합니다\n2. 응답률이 낮은 조직들을 순위화합니다\n3. 특정 패널에 관심이 없는 조직을 식별합니다\n4. 이들과의 불필요한 경쟁을 피할 수 있습니다\n5. 영향력 있는 조직에 집중하여 효율성을 높입니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "agenda_responses_analysis_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda} 지금까지 응답한 의견을 분석해줘",
          "{agenda} 응답 분석",
          "analyze responses to {agenda}"
        ],
        "keywords": [
          "응답",
          "의견",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 500) as response_content,\n                    arc.updated_at\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제에 대한 전체 응답을 체계적으로 분석하려고 합니다.\n1. 모든 응답을 수집하여 주요 논점을 추출합니다\n2. 찬성/반대/중립의 분포를 정량화합니다\n3. 조건부 동의의 구체적 조건을 분석합니다\n4. 핵심 쟁점과 타협 가능 영역을 식별합니다\n5. 최종 합의 도출을 위한 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "mail_content_agenda_comparison_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "메일 내용이 {agenda}에서 지금까지 응답한 의견과 동일한 부분 상반되는 부분 검토해줘",
          "{agenda} 의견 비교 분석",
          "compare mail content with {agenda} responses"
        ],
        "keywords": [
          "비교",
          "동일",
          "상반"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    a.body as mail_content,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 500) as response_content\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제 발전 과정을 추적하려고 합니다.\n1. 원본 메일 내용과 최종 의제를 비교합니다\n2. 추가, 삭제, 수정된 부분을 식별합니다\n3. 변경의 이유와 영향을 분석합니다\n4. 주요 이해관계자의 영향력을 추론합니다\n5. 향후 유사 의제 제안 시 참고합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "keyword",
          "type": "string",
          "required": false,
          "description": "Keywords from mail content to compare",
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_description_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에 대해서 설명해줘",
          "{agenda} 설명",
          "describe {agenda}"
        ],
        "keywords": [
          "설명",
          "describe",
          "정보"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    body,\n                    a.keywords,\n                    a.decision_status\nFROM agenda_all a\nWHERE a.agenda_code = {agenda}",
        "system": "사용자는 의제에 대한 포괄적인 이해를 원합니다.\n1. 의제의 배경과 제안 이유를 설명합니다\n2. 주요 내용과 기술적 세부사항을 요약합니다\n3. 예상되는 영향과 이해관계를 분석합니다\n4. 관련 규정이나 선례를 참조합니다\n5. 종합적인 브리핑 자료로 활용합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 관련성과 중요도에 따라 분류하고, 핵심 내용을 요약하여 제시하세요."
    },
    {
      "template_id": "recent_progress_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 진행 현황은?",
          "최근 활동 현황",
          "recent progress status"
        ],
        "keywords": [
          "최근",
          "진행",
          "현황"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_panel, COUNT(DISTINCT ac.agenda_code) as agenda_count, COUNT(DISTINCT CASE WHEN ac.deadline > DATE('now') THEN ac.agenda_code END) as ongoing_count, COUNT(DISTINCT CASE WHEN ac.deadline <= DATE('now') THEN ac.agenda_code END) as completed_count\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.sent_time BETWEEN {period_start} AND {period_end} AND ac.deadline > DATE('now')\nORDER BY agenda_count DESC",
        "system": "사용자는 최근 진전이 있은 의제를 추적하려고 합니다.\n1. updated_time 기준으로 최근 변경된 의제를 추출합니다\n2. 상태 변경 내역과 업데이트 내용을 확인합니다\n3. 중요한 진전이나 결정사항을 파악합니다\n4. 우리의 대응이 필요한 변경사항을 식별합니다\n5. 실시간 모니터링으로 신속한 대응을 가능하게 합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 agenda_count DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "kr_opinion_based_reply_draft_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "지난 KR의 의견을 바탕으로 {agenda}에 대한 회신 메일을 작성해줘",
          "KR 의견 기반 {agenda} 회신",
          "draft reply for {agenda} based on KR opinions"
        ],
        "keywords": [
          "KR",
          "의견",
          "회신",
          "작성"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, \n                    a.subject, \n                    COALESCE(arc.KR, arc.NK, arc.CCS) as existing_responses, \n                    a.keywords, \n                    arc.updated_at\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_code = {agenda}\n                AND {period_condition}",
        "system": "사용자는 일관성 있는 응답을 작성하려고 합니다.\n1. 유사한 주제에 대한 KR의 과거 응답을 수집합니다\n2. 핵심 논리와 일관된 입장을 추출합니다\n3. 사용된 근거와 참고 자료를 정리합니다\n4. 상황 변화에 따른 입장 조정 필요성을 검토합니다\n5. 일관성과 유연성의 균형을 유지합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "upcoming_meetings_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "향후 예정된 회의 알려줘",
          "예정된 회의 일정",
          "upcoming meetings"
        ],
        "keywords": [
          "향후",
          "예정",
          "회의",
          "upcoming"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_panel, ac.subject, ac.body, ac.sent_time\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.subject LIKE '%meeting%' OR ac.subject LIKE '%회의%') AND (ac.body LIKE '%scheduled%' OR ac.body LIKE '%planned%' OR ac.body LIKE '%예정%' OR ac.body LIKE '%개최%') AND ac.deadline > DATE('now')\nORDER BY ac.deadline ASC",
        "system": "사용자는 향후 회의를 체계적으로 준비하려고 합니다.\n1. 미래 날짜의 회의 정보를 모두 추출합니다\n2. 회의별 주요 의제와 예상 논점을 정리합니다\n3. 참가 필요성과 우선순위를 평가합니다\n4. 사전 준비 자료와 입장 정리 일정을 계획합니다\n5. 출장 및 인력 배치 계획을 수립합니다",
        "sql_prompt": "DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "회의 관련 정보를 정리하여 회의 준비사항과 주요 안건을 요약하고, 참석자 및 일정 정보를 명확히 제시하세요."
    },
    {
      "template_id": "eg_work_in_panel_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 진행된 EG 작업 알려줘",
          "{panel} EG 작업 현황",
          "EG work in {panel}"
        ],
        "keywords": [
          "EG",
          "작업",
          "Expert Group"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.keywords, a.sent_time, a.decision_status\nFROM agenda_all a\nWHERE a.agenda_panel = {panel} \n                AND (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 패널별 EG 활동을 체계적으로 파악하려고 합니다.\n1. 패널 내 활성 EG와 그 작업 범위를 조회합니다\n2. 각 EG의 목적과 예상 결과물을 확인합니다\n3. 현재 진행 단계와 일정을 파악합니다\n4. 우리의 참여 필요성을 평가합니다\n5. EG 결과가 미칠 영향을 사전에 예측합니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "eg_main_progress_in_panel_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 진행된 EG의 주요 진행 사항에 대해서 설명해줘",
          "{panel} EG 주요 진행사항",
          "main EG progress in {panel}"
        ],
        "keywords": [
          "EG",
          "진행사항",
          "Expert Group",
          "progress"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    a.decision_status,\n                    COUNT(CASE WHEN arc.KR IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.NK IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.CCS IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.ABS IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.DNV IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.BV IS NOT NULL THEN 1 END) as response_count\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.agenda_panel = {panel}\n                AND (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                AND {period_condition}\nORDER BY response_count DESC, a.sent_time DESC",
        "system": "사용자는 EG의 주요 성과를 신속히 파악하려고 합니다.\n1. EG 회의 결과와 주요 결정사항을 추출합니다\n2. 기술적 합의와 미해결 이슈를 구분합니다\n3. 향후 작업 계획과 일정을 확인합니다\n4. 우리에게 미치는 영향을 평가합니다\n5. 필요한 후속 조치를 계획합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 response_count DESC, a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{panel}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "eg_participating_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 {eg_organization}에 참여한 기관은?",
          "{panel} {eg_organization} 참여 기관",
          "organizations in {eg_organization} at {panel}"
        ],
        "keywords": [
          "참여",
          "기관",
          "EG"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT org_name,\n                    COUNT(*) as participation_count\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                    AND arc.KR IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'NK' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                    AND arc.NK IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'CCS' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                    AND arc.CCS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                )\nORDER BY participation_count DESC",
        "system": "사용자는 EG 참여를 통한 영향력 구조를 파악하려고 합니다.\n1. EG별 참여 조직과 역할을 조회합니다\n2. 주도적 역할을 하는 조직을 식별합니다\n3. 기술 전문성과 영향력을 평가합니다\n4. 협력 또는 경쟁 관계를 분석합니다\n5. 전략적 EG 참여 계획을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 participation_count DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "eg_organization",
          "type": "string",
          "required": true,
          "description": "EG organization name"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {eg_organization}"
          ]
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "agenda_meeting_attendance_by_date_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 날짜별 회의에 참석할 수 있는 기관과 참석할 수 없는 기관을 정리해줘",
          "{agenda} 날짜별 참석 가능 기관",
          "meeting attendance by date for {agenda}"
        ],
        "keywords": [
          "날짜별",
          "참석",
          "회의"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.sent_time as meeting_date,\n                    ac.agenda_code,\n                    ac.subject,\n                    (CASE WHEN arc.KR IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.NK IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.CCS IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.ABS IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.DNV IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.BV IS NOT NULL THEN 1 ELSE 0 END) as attendance_count\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.mail_type = 'NOTIFICATION'\n                AND ac.subject LIKE '%meeting%'\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 특정 회의의 참석 현황을 파악하려고 합니다.\n1. 해당 날짜의 회의 참석 기록을 조회합니다\n2. 조직별, 직급별 참석자를 분류합니다\n3. 주요 의사결정권자의 참석 여부를 확인합니다\n4. 참석 패턴으로 조직의 관심도를 평가합니다\n5. 네트워킹 기회와 로비 대상을 식별합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_meeting_attendance_by_org_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 기관별 회의 참석 가능여부 정리해줘",
          "{agenda} 기관별 참석 현황",
          "meeting attendance by organization for {agenda}"
        ],
        "keywords": [
          "기관별",
          "참석",
          "가능여부"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT org_name,\n                    COUNT(*) as meetings_attended\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.mail_type = 'NOTIFICATION' AND ac.subject LIKE '%meeting%'\n                    AND arc.KR IS NOT NULL AND {period_condition}\n                    \n                    UNION ALL\n                    \n                    SELECT 'NK' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\n                    WHERE ac.mail_type = 'NOTIFICATION' AND ac.subject LIKE '%meeting%'\n                    AND arc.NK IS NOT NULL AND {period_condition}\n                    \n                    UNION ALL\n                    \n                    SELECT 'CCS' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\n                    WHERE ac.mail_type = 'NOTIFICATION' AND ac.subject LIKE '%meeting%'\n                    AND arc.CCS IS NOT NULL AND {period_condition}\n                )\nORDER BY meetings_attended DESC",
        "system": "사용자는 조직의 회의 참여 패턴을 분석하려고 합니다.\n1. 조직별 회의 참석 이력을 시계열로 조회합니다\n2. 자주 참석하는 회의 유형을 식별합니다\n3. 불참한 중요 회의를 파악합니다\n4. 참석 패턴으로 전략적 우선순위를 추론합니다\n5. 향후 만날 가능성이 높은 회의를 예측합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 meetings_attended DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_org_request_to_others_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 다른 기관에 답변을 요구한 기관이 있는가?",
          "{agenda} 답변 요구 기관",
          "organizations requesting responses in {agenda}"
        ],
        "keywords": [
          "답변",
          "요구",
          "request"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    arc.KR as org_request,\n                    CASE \n                        WHEN arc.KR LIKE '%request%' OR arc.KR LIKE '%ask%' \n                        THEN 'Has Request' \n                        ELSE 'No Request' \n                    END as request_status\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND arc.KR IS NOT NULL\n                AND (arc.KR LIKE '%request%' OR arc.KR LIKE '%ask%')\n                AND ac.sent_time >= DATE('now', '-30 days')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 조직 간 요청 패턴을 분석하려고 합니다.\n1. 특정 조직이 발송한 요청 메일을 추출합니다\n2. 요청 대상 조직과 요청 내용을 분석합니다\n3. 빈번한 요청은 해당 분야의 필요를 나타냅니다\n4. 협력 제공으로 관계를 강화할 기회를 찾습니다\n5. 전략적 파트너십 구축에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "default": "SDTP-III-2025-01"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "agenda_clarification_requests_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 다른 기관에 답변 또는 명확화를 요구하는 내용이 있나?",
          "{agenda} 명확화 요구 사항",
          "clarification requests in {agenda}"
        ],
        "keywords": [
          "명확화",
          "clarification",
          "답변요구"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    CASE WHEN arc.KR LIKE '%clarif%' THEN 'KR requests clarification' ELSE '' END ||\n                    CASE WHEN arc.NK LIKE '%clarif%' THEN ' NK requests clarification' ELSE '' END ||\n                    CASE WHEN arc.CCS LIKE '%clarif%' THEN ' CCS requests clarification' ELSE '' END as clarification_requests\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (arc.KR LIKE '%clarif%' OR arc.NK LIKE '%clarif%' OR arc.CCS LIKE '%clarif%')\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의제의 불명확한 부분을 파악하려고 합니다.\n1. clarification 요청이 포함된 의제를 검색합니다\n2. 불명확했던 부분과 질문 내용을 분석합니다\n3. 반복되는 불명확성 패턴을 식별합니다\n4. 우리 제안 시 명확성 확보 방안을 도출합니다\n5. 효과적인 커뮤니케이션 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "의제 내용을 심층 분석하여 주요 쟁점과 각 조직의 입장을 정리하고, 우리 조직의 대응 전략을 제안하세요."
    },
    {
      "template_id": "panel_keywords_3months_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "3개월 내 주요 키워드 분석해줘",
          "최근 3개월 주요 키워드",
          "3-month keyword analysis"
        ],
        "keywords": [
          "3개월",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count\nFROM agenda_all a\nWHERE a.sent_time >= DATE('now', '-90 days') \n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 패널의 최근 관심사를 키워드로 파악하려고 합니다.\n1. 패널의 3개월 의제에서 키워드를 추출합니다\n2. 빈도와 증가율을 분석하여 트렌드를 파악합니다\n3. 새롭게 등장한 키워드에 특히 주목합니다\n4. 패널의 단기 우선순위를 이해합니다\n5. 즉각적인 대응이 필요한 이슈를 식별합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "panel_keywords_lastyear_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "작년 주요 키워드 분석해줘",
          "작년도 키워드 현황",
          "last year keyword analysis"
        ],
        "keywords": [
          "작년",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count,\n                    COUNT(DISTINCT a.agenda_code) as agenda_count\nFROM agenda_all a\nWHERE strftime('%Y', a.sent_time) = strftime('%Y', 'now', '-1 year')\n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 패널의 연간 이슈 트렌드를 분석하려고 합니다.\n1. 전년도 패널 의제의 키워드를 월별로 집계합니다\n2. 시간에 따른 키워드 변화를 추적합니다\n3. 지속적 이슈와 일시적 이슈를 구분합니다\n4. 패널의 중장기 방향성을 파악합니다\n5. 올해 예상되는 주요 이슈를 예측합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "panel_keywords_2025_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "2025년 주요 키워드 분석해줘",
          "2025년도 키워드 현황",
          "2025 keyword analysis"
        ],
        "keywords": [
          "2025년",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count,\n                    COUNT(DISTINCT a.agenda_code) as agenda_count\nFROM agenda_all a\nWHERE strftime('%Y', a.sent_time) = '2025'\n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 패널의 올해 새로운 트렌드를 파악하려고 합니다.\n1. 2025년 패널 의제의 키워드를 추출합니다\n2. 전년 대비 새로운 키워드를 식별합니다\n3. 급증하는 키워드의 배경을 분석합니다\n4. 올해의 패널 우선순위 변화를 이해합니다\n5. 신속한 대응 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "panel_keywords_by_year_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "{year}년 주요 키워드 분석해줘",
          "{year}년도 키워드 현황",
          "{year} keyword analysis"
        ],
        "keywords": [
          "키워드",
          "분석",
          "연도별"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count,\n                    GROUP_CONCAT(DISTINCT a.agenda_panel) as panels\nFROM agenda_all a\nWHERE strftime('%Y', a.sent_time) = strftime('%Y', 'now')\n                AND a.keywords IS NOT NULL \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY frequency DESC",
        "system": "사용자는 패널의 장기 트렌드를 분석하려고 합니다.\n1. 여러 년도의 키워드를 연도별로 집계합니다\n2. 키워드의 생명주기를 추적합니다\n3. 지속적으로 중요한 핵심 키워드를 식별합니다\n4. 쇠퇴하는 이슈와 부상하는 이슈를 구분합니다\n5. 장기 전략 수립에 필요한 인사이트를 제공합니다",
        "sql_prompt": "agenda_all 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC \n                LIMIT 20로 정렬해주세요. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "year",
          "type": "string",
          "required": true,
          "description": "Year (e.g., 2024, 2025)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "tech_trend_analysis_llm_v2",
      "template_version": "1.0.0",
      "template_category": "llm_direct_response",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 현재 기술개발 동향 분석해줘",
          "{agenda} 기술개발 동향",
          "technology trend for {agenda}"
        ],
        "keywords": [
          "기술개발",
          "동향",
          "분석"
        ]
      },
      "routing_info": {
        "route_to": "llm_direct",
        "reason": "기술 동향 분석은 LLM의 지식을 활용한 직접 응답이 적합합니다"
      },
      "target_scope": {
        "scope_type": "analysis",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version",
        "system": "【목적】 Llm Direct Response 관련 데이터 조회 및 분석",
        "sql_prompt": " 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다. 사용자는 '{agenda}와 관련해서 현재 기술개발 동향 분석해줘'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "keyword_tech_trend_llm_v2",
      "template_version": "1.0.0",
      "template_category": "llm_direct_response",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련해서 기술개발 동향 분석해줘",
          "{keywords} 기술 동향",
          "technology trend for {keywords}"
        ],
        "keywords": [
          "기술개발",
          "동향",
          "keyword"
        ]
      },
      "routing_info": {
        "route_to": "llm_direct",
        "reason": "기술 동향 분석은 LLM의 지식을 활용한 직접 응답이 적합합니다"
      },
      "target_scope": {
        "scope_type": "analysis",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version",
        "system": "【목적】 Llm Direct Response 관련 데이터 조회 및 분석 【조건】 키워드 기반 의제 필터링 【효과】 특정 주제에 대한 집중적 모니터링 가능 【입력】 사용자가 키워드 검색 가능",
        "sql_prompt": " 테이블을 기반으로 의제 처리 현황에 대한 통계를 분석하여 업무 분포와 진행 상황을 파악하고자 합니다. 이를 통해 패널별/기관별 업무 분포와 처리 현황를 지원하고자 합니다. 사용자는 '{keywords} 관련해서 기술개발 동향 분석해줘'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to analyze",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "tech_background_llm_v2",
      "template_version": "1.0.0",
      "template_category": "llm_direct_response",
      "query_info": {
        "natural_questions": [
          "{keyword}에 대한 기술 배경이 뭐지?",
          "{keyword} 기술 배경",
          "technical background of {keyword}"
        ],
        "keywords": [
          "기술",
          "배경",
          "background"
        ]
      },
      "routing_info": {
        "route_to": "llm_direct",
        "reason": "기술 배경 설명은 LLM의 지식을 활용한 직접 응답이 적합합니다"
      },
      "target_scope": {
        "scope_type": "explanation",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version",
        "system": "【목적】 Llm Direct Response 관련 데이터 조회 및 분석 【조건】 키워드 기반 의제 필터링 【효과】 특정 주제에 대한 집중적 모니터링 가능",
        "sql_prompt": " 사용자는 '{keyword}에 대한 기술 배경이 뭐지?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "keyword",
          "type": "string",
          "required": true,
          "description": "Keyword to explain",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "agenda_ur_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 UR에 관련된 내용이 뭐지?",
          "{agenda} UR 관련 내용",
          "UR content related to {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "내용"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "UR 관련 keyword 추출",
        "reason": "UR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '{agenda}와 관련해서 UR에 관련된 내용이 뭐지?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "keywords_ur_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련해서 UR에 관련된 내용이 뭐가 있지?",
          "{keywords} UR 관련 내용",
          "UR content related to {keywords}"
        ],
        "keywords": [
          "UR",
          "관련",
          "keywords"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "UR 관련 keyword 추출",
        "reason": "UR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 키워드 기반 의제 필터링 【효과】 특정 주제에 대한 집중적 모니터링 가능 【입력】 사용자가 키워드 검색 가능",
        "sql_prompt": " 사용자는 '{keywords} 관련해서 UR에 관련된 내용이 뭐가 있지?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to search",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "agenda_pr_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 PR에 관련된 내용이 뭐지?",
          "{agenda} PR 관련 내용",
          "PR content related to {agenda}"
        ],
        "keywords": [
          "PR",
          "관련",
          "내용"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PR 관련 keyword 추출",
        "reason": "PR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '{agenda}와 관련해서 PR에 관련된 내용이 뭐지?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "keywords_pr_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련해서 PR에 관련된 내용이 뭐가 있지?",
          "{keywords} PR 관련 내용",
          "PR content related to {keywords}"
        ],
        "keywords": [
          "PR",
          "관련",
          "keywords"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PR 관련 keyword 추출",
        "reason": "PR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 키워드 기반 의제 필터링 【효과】 특정 주제에 대한 집중적 모니터링 가능 【입력】 사용자가 키워드 검색 가능",
        "sql_prompt": " 사용자는 '{keywords} 관련해서 PR에 관련된 내용이 뭐가 있지?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to search",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "agenda_similar_panel_discussion_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 다른 패널에서 유사한 논의가 진행된적 있는지?",
          "{agenda} 타패널 유사 논의",
          "similar discussions in other panels for {agenda}"
        ],
        "keywords": [
          "유사",
          "논의",
          "다른패널"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "reason": "의미적 유사성 검색은 VectorDB가 적합합니다"
      },
      "target_scope": {
        "scope_type": "similarity_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 타 기관의 응답 및 입장 포함 【효과】 국제 동향 파악으로 전략적 포지셔닝 가능 【주의】 타국 입장 미파악 시 고립된 의견 제시 위험",
        "sql_prompt": " 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다. 사용자는 '{agenda}에서 다른 패널에서 유사한 논의가 진행된적 있는지?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "autonomous_ship_agenda_search_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "자율운항선박에 대해서 논의되고 있는 {agenda} 검색해줘",
          "자율운항선박 관련 {agenda}",
          "autonomous ship related {agenda}"
        ],
        "keywords": [
          "자율운항선박",
          "autonomous",
          "MASS"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "자율운항선박 관련 keyword 추출",
        "reason": "주제별 의미적 검색은 VectorDB가 적합합니다"
      },
      "target_scope": {
        "scope_type": "topic_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '자율운항선박에 대해서 논의되고 있는 {agenda} 검색해줘'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": false,
          "description": "Specific agenda pattern"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "remote_ship_agenda_search_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "원격운항선박에 대해서 논의되고 있는 {agenda} 검색해줘",
          "원격운항선박 관련 {agenda}",
          "remote ship related {agenda}"
        ],
        "keywords": [
          "원격운항선박",
          "remote",
          "원격제어"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "원격운항선박 관련 keyword 추출",
        "reason": "주제별 의미적 검색은 VectorDB가 적합합니다"
      },
      "target_scope": {
        "scope_type": "topic_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '원격운항선박에 대해서 논의되고 있는 {agenda} 검색해줘'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": false,
          "description": "Specific agenda pattern"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "ongoing_pt_list_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT 리스트",
          "진행중 PT 목록",
          "ongoing PT list"
        ],
        "keywords": [
          "PT",
          "진행중",
          "Project Team"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 정보는 VectorDB의 문서에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline > DATE('now')",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '현재 진행 중인 PT 리스트'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "ongoing_pt_participants_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여기관",
          "진행중 PT 참여 기관",
          "participating organizations in ongoing PT"
        ],
        "keywords": [
          "PT",
          "참여기관",
          "진행중"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 참여기관 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline > DATE('now')",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다. 사용자는 '현재 진행 중인 PT의 참여기관'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "ongoing_pt_members_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여자 정보 알려줘",
          "진행중 PT 참여자",
          "PT member information"
        ],
        "keywords": [
          "PT",
          "참여자",
          "member"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 참여자 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline > DATE('now')",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '현재 진행 중인 PT의 참여자 정보 알려줘'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "ongoing_pt_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 중요 내용은",
          "진행중 PT 주요 내용",
          "important content of ongoing PT"
        ],
        "keywords": [
          "PT",
          "중요내용",
          "주요"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 내용은 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline > DATE('now')",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석",
        "sql_prompt": " 사용자는 '현재 진행 중인 PT의 중요 내용은'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "completed_pt_list_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT 리스트 알려줘",
          "완료된 PT 목록",
          "recently completed PT list"
        ],
        "keywords": [
          "PT",
          "완료",
          "최근"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.keywords LIKE '%PT%' AND a.decision_status = 'completed' AND {period_condition}",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 사용자 지정 기간 내 데이터로 제한 【효과】 시간적 맥락을 고려한 트렌드 분석 가능 【입력】 사용자가 기간 설정 가능",
        "sql_prompt": " 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. decision_status = 'completed'로 완료된 의제만 추출 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "completed_pt_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 주요 내용 알려줘",
          "완료 PT 주요 내용",
          "main content of completed PT"
        ],
        "keywords": [
          "PT",
          "완료",
          "주요내용"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 내용은 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.keywords LIKE '%PT%' AND a.decision_status = 'completed' AND {period_condition}",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 사용자 지정 기간 내 데이터로 제한 【효과】 시간적 맥락을 고려한 트렌드 분석 가능 【입력】 사용자가 기간 설정 가능",
        "sql_prompt": " 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. decision_status = 'completed'로 완료된 의제만 추출 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "completed_pt_participants_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 참여 기관 알려줘",
          "완료 PT 참여 기관",
          "participating organizations in completed PT"
        ],
        "keywords": [
          "PT",
          "완료",
          "참여기관"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 참여기관 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.keywords LIKE '%PT%' AND a.decision_status = 'completed' AND {period_condition}",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 사용자 지정 기간 내 데이터로 제한 【효과】 시간적 맥락을 고려한 트렌드 분석 가능 【입력】 사용자가 기간 설정 가능",
        "sql_prompt": " 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. decision_status = 'completed'로 완료된 의제만 추출 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "completed_pt_members_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 참여자 정보 알려줘",
          "완료 PT 참여자",
          "member information of completed PT"
        ],
        "keywords": [
          "PT",
          "완료",
          "참여자"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 참여자 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a\nWHERE a.keywords LIKE '%PT%' AND a.decision_status = 'completed' AND {period_condition}",
        "system": "【목적】 Vectordb Search 관련 데이터 조회 및 분석 【조건】 사용자 지정 기간 내 데이터로 제한 【효과】 시간적 맥락을 고려한 트렌드 분석 가능 【입력】 사용자가 기간 설정 가능",
        "sql_prompt": " 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. decision_status = 'completed'로 완료된 의제만 추출 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "sender_address_mismatch_detail_v2",
      "template_version": "1.0.0",
      "template_category": "data_quality",
      "query_info": {
        "natural_questions": [
          "sender와 sender_address가 다른 경우",
          "발신자 주소 불일치",
          "sender address mismatch cases"
        ],
        "keywords": [
          "sender",
          "address",
          "다른"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.sender, sender_address, a.subject, a.sent_time\nFROM agenda_all a\nWHERE a.sender != sender_address\nORDER BY a.sent_time DESC",
        "system": "사용자는 발신자 정보 불일치를 상세 분석하여 적절한 조치를 취하려고 합니다.\n1. sender_organization과 email 도메인의 매핑 규칙을 적용합니다\n2. 불일치하는 모든 케이스를 상세 정보와 함께 추출합니다\n3. 임시 계정, 대리 발송 등 정상적 예외를 구분합니다\n4. 실제 오류는 수정하고 예외는 규칙에 반영합니다\n5. 보안과 데이터 품질 양면에서 중요한 검증입니다",
        "sql_prompt": "각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "데이터 품질 이슈를 식별하고 원인을 분석하여, 데이터 정합성 개선을 위한 구체적인 방안을 제시하세요."
    },
    {
      "template_id": "latest_responder_org_v2",
      "template_version": "1.0.0",
      "template_category": "response_analysis",
      "query_info": {
        "natural_questions": [
          "가장 늦게 응답한 조직과 agenda",
          "최지각 응답 기관",
          "latest responder organization"
        ],
        "keywords": [
          "늦게",
          "응답",
          "조직"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.subject,\n                    CASE\n                        WHEN art.KR IS NOT NULL THEN 'KR'\n                        WHEN art.NK IS NOT NULL THEN 'NK'\n                        WHEN art.CCS IS NOT NULL THEN 'CCS'\n                        WHEN art.ABS IS NOT NULL THEN 'ABS'\n                        ELSE 'None'\n                    END as last_responder,\n                    art.updated_at\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                AND art.updated_at IS NOT NULL\nORDER BY art.updated_at DESC",
        "system": "사용자는 실시간 조직 활동을 모니터링하려고 합니다.\n1. 가장 최근 응답 시간을 기준으로 조직을 추출합니다\n2. 최근 24시간 내 응답을 특히 주목합니다\n3. 갑작스런 활동 증가는 특별한 이슈를 시사합니다\n4. 주요 경쟁자의 움직임을 놓치지 않습니다\n5. 즉각적인 대응 필요성을 판단합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 art.updated_at DESC\n                LIMIT 1로 정렬해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "각 조직의 응답 내용을 비교 분석하여 주요 의견 차이와 합의점을 도출하고, 우리 조직의 포지셔닝 전략을 제안하세요."
    },
    {
      "template_id": "urgent_deadline_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "deadline_analysis",
      "query_info": {
        "natural_questions": [
          "마감일 대비 가장 촉박하게 생성된 agenda",
          "촉박한 마감일 의제",
          "urgent deadline agendas"
        ],
        "keywords": [
          "마감일",
          "촉박",
          "urgent"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.deadline BETWEEN DATE('now') AND DATE('now', '+3 days')\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 즉각적인 대응이 필요한 긴급 사항을 파악하려고 합니다.\n1. has_deadline = 1이고 deadline이 3일 이내인 의제를 추출합니다\n2. deadline - now 계산으로 정확한 잔여 시간을 표시합니다\n3. 긴급도에 따라 색상 코드나 아이콘으로 시각화합니다\n4. 놓친 긴급 의제는 신뢰도 하락과 기회 상실로 이어집니다\n5. 일일 점검 루틴에 포함하여 리스크를 최소화해야 합니다",
        "sql_prompt": "agenda_all 테이블에서 응답 마감일이 설정된 의제를 관리하여 기한 내 처리를 보장하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 응답 기한이 임박한 의제 파악과 관리를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "마감일 기준으로 의제들을 분석하여 시급성에 따라 우선순위를 매기고, 일정 관리 계획을 수립하세요."
    },
    {
      "template_id": "iacs_member_composition_v2",
      "template_version": "1.0.0",
      "template_category": "organization_info",
      "query_info": {
        "natural_questions": [
          "IACS 멤버 구성은 어떻게 되나?",
          "IACS 회원 목록",
          "IACS member composition"
        ],
        "keywords": [
          "IACS",
          "멤버",
          "구성"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT organization_code, organization_name\nFROM agenda_all a\nORDER BY organization_code",
        "system": "사용자는 IACS 내 세력 구조를 이해하려고 합니다.\n1. 모든 IACS 회원과 그들의 정보를 조회합니다\n2. 각 선급의 규모와 전문 분야를 분석합니다\n3. 패널별 주도권과 영향력을 평가합니다\n4. 전략적 동맹과 경쟁 구도를 파악합니다\n5. 효과적인 IACS 내 활동 전략을 수립합니다",
        "sql_prompt": "organization_code로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 사용자는 'IACS 멤버 구성은 어떻게 되나?'에 대한 답을 얻고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "sdtp_completed_agenda_results_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "SDTP에서 발행된 의제 중 완료된 의제의 결과",
          "SDTP 완료 의제 결과",
          "SDTP completed agenda results"
        ],
        "keywords": [
          "SDTP",
          "완료",
          "결과"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, \n                    ac.subject, \n                    ac.decision_status, \n                    ac.sent_time as updated_at, \n                    '' as result_summary\nFROM agenda_chair ac\nWHERE ac.deadline <= DATE('now')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 탈탄소화 규제의 최종 결정사항과 영향을 분석하려고 합니다.\n1. SDTP 패널의 completed 상태 의제를 추출합니다\n2. 최종 결정사항과 이행 요구사항을 중점적으로 분석합니다\n3. 탈탄소화는 막대한 투자와 기술 전환을 요구합니다\n4. 규제 시행 시기와 요구 수준을 명확히 파악합니다\n5. 단계별 대응 계획과 투자 로드맵 수립에 활용합니다",
        "sql_prompt": "deadline이 현재 날짜 이전인(deadline이 지난(완료된)) 의제만 추출 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "recent_sdtp_agenda_list_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 SDTP에서 논의되었던 의제 목록",
          "최근 SDTP 의제 목록",
          "recent SDTP agenda list"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "의제목록"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.decision_status\nFROM agenda_all a\nWHERE a.agenda_panel = 'SDTP' \n                AND {period_condition}\nORDER BY a.sent_time DESC",
        "system": "사용자는 탈탄소화 기술과 정책의 최신 동향을 모니터링하려고 합니다.\n1. SDTP 관련 최근 의제를 시간순으로 추출합니다\n2. 주요 탈탄소화 기술별로 논의 동향을 파악합니다\n3. 새로운 기술이나 접근법의 출현을 조기에 감지합니다\n4. 그린 기술 투자 우선순위 결정에 활용합니다\n5. 미래 경쟁력 확보를 위한 R&D 방향을 설정합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "recent_kr_sdtp_responses_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "최근 KR에서 SDTP에서 응답한 내역",
          "최근 KR SDTP 응답",
          "recent KR responses in SDTP"
        ],
        "keywords": [
          "최근",
          "KR",
          "SDTP",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, arc.updated_at, a.agenda_panel\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE CASE WHEN arc.KR IS NOT NULL THEN 'KR' WHEN arc.NK IS NOT NULL THEN 'NK' WHEN arc.CCS IS NOT NULL THEN 'CCS' WHEN arc.ABS IS NOT NULL THEN 'ABS' WHEN arc.DNV IS NOT NULL THEN 'DNV' WHEN arc.BV IS NOT NULL THEN 'BV' WHEN arc.LR IS NOT NULL THEN 'LR' WHEN arc.RINA IS NOT NULL THEN 'RINA' WHEN arc.IRS IS NOT NULL THEN 'RS' WHEN arc.IRS IS NOT NULL THEN 'IRS' WHEN arc.PRS IS NOT NULL THEN 'PRS' WHEN arc.CRS IS NOT NULL THEN 'CRS' WHEN arc.TL IS NOT NULL THEN 'TL' WHEN arc.IL IS NOT NULL THEN 'IL' ELSE NULL END = 'KR' AND a.agenda_panel = 'SDTP' AND arc.updated_at >= DATE('now', '-30 days')\nORDER BY arc.updated_at DESC",
        "system": "사용자는 KR의 탈탄소화 대응 전략을 검토하려고 합니다.\n1. SDTP 패널에서 KR의 모든 응답을 추출합니다\n2. 주요 입장과 제시한 조건을 분석합니다\n3. 일관성 있는 정책 방향을 확인합니다\n4. 타 조직과의 입장 차이를 비교합니다\n5. 향후 전략 조정 필요성을 검토합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 arc.updated_at DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "kr_response_required_issues_summary_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "KR이 응답해야하는 의제에서 의제들의 주요 이슈 및 다른 기관의 의견 정리",
          "KR 응답 필요 의제 이슈 정리",
          "KR response required issues summary"
        ],
        "keywords": [
          "KR",
          "응답해야",
          "이슈",
          "의견정리"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.keywords,\n                    ac.deadline,\n                    ac.decision_status\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.response_org = 'KR' OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 KR의 응답 우선순위를 체계화하려고 합니다.\n1. KR 응답 필요 의제를 중요도별로 분류합니다\n2. 마감일, 영향도, 전략적 중요성을 종합 평가합니다\n3. 리소스 배분을 위한 우선순위를 제시합니다\n4. 각 이슈별 핵심 포인트를 요약합니다\n5. 효율적인 응답 계획 수립을 지원합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 기관과 관련된 의제를 조회하여 기관별 업무 현황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 특정 기관의 업무 현황과 응답 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "kr_response_required_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 응답해야하는 의제들의 주요 키워드",
          "KR 응답 필요 의제 키워드",
          "keywords for KR response required agendas"
        ],
        "keywords": [
          "KR",
          "응답해야",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.keywords, COUNT(*) as frequency\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.response_org LIKE '%KR%' OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND ac.keywords IS NOT NULL \n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY frequency DESC",
        "system": "사용자는 KR에 대한 응답 요구 패턴을 분석하려고 합니다.\n1. KR 응답 필요 의제의 키워드를 추출합니다\n2. 빈도 분석으로 주요 요구 분야를 식별합니다\n3. KR의 전문성이 특히 필요한 영역을 파악합니다\n4. 전략적 중요도가 높은 키워드를 우선시합니다\n5. 전문가 배정과 준비에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "kr_responses_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 응답해야 하는 의제들의 회신 중 주요 키워드",
          "KR 응답 의제 회신 키워드",
          "keywords in responses to KR required agendas"
        ],
        "keywords": [
          "KR",
          "응답",
          "회신",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code,\n                    a.keywords,\n                    SUBSTR(arc.KR, 1, 200) as kr_response\nFROM agenda_all a\nLEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\nWHERE arc.KR IS NOT NULL\n                AND a.keywords IS NOT NULL\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY a.sent_time DESC",
        "system": "사용자는 KR의 참여 패턴을 자체 분석하려고 합니다.\n1. KR이 응답한 모든 의제의 키워드를 수집합니다\n2. 응답 빈도가 높은 분야를 식별합니다\n3. 우리의 강점 분야와 관심사를 확인합니다\n4. 참여가 부족한 중요 분야를 발견합니다\n5. 균형잡힌 참여 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "recent_keywords_discussion_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_search",
      "query_info": {
        "natural_questions": [
          "최근 논의된 의제들 중에 {keywords}에 대해서 논의되고 있는 의제",
          "최근 {keywords} 관련 논의 의제",
          "recent agendas discussing {keywords}"
        ],
        "keywords": [
          "최근",
          "논의",
          "keywords"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_chair ac\nWHERE ac.mail_type = 'REQUEST'\n                AND {keywords_condition}\n                AND ac.sent_time >= DATE('now', '-30 days') AND ac.has_deadline = 1\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의장이 요청한 의제 중 현재의 핫 이슈를 실시간으로 파악하려고 합니다.\n1. agenda_chair 테이블에서 REQUEST 타입의 의제만 필터링합니다\n2. 최근 요청 의제에서 키워드 빈도를 분석합니다\n3. 급증하는 키워드를 특별히 추출합니다\n4. 여러 패널에서 동시 논의되는 키워드를 주목합니다\n5. 새로운 이슈의 부상을 조기에 감지합니다",
        "sql_prompt": "agenda_chair 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. mail_type='REQUEST'로 응답 요청 메일만 추출, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), mail_type(메일 유형), has_deadline(마감일 유무) 등을 보여주고 최신 정보부터 확인할 수 있도록 ac.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to search",
          "sql_builder": {
            "type": "keywords",
            "field": "ac.keywords",
            "operator": "LIKE",
            "placeholder": "{keywords_condition}"
          },
          "mcp_format": "extracted_keywords",
          "default": ""
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "kr_urgent_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "KR이 긴급하게 응답을 해야 하는 의제",
          "KR 긴급 응답 필요",
          "KR urgent response required"
        ],
        "keywords": [
          "KR",
          "긴급",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, \n                    ac.subject, \n                    ac.deadline, \n                    julianday(ac.deadline) - julianday('now') as days_remaining\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND (ac.response_org = 'KR' OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND ac.deadline >= DATE('now')\n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.deadline ASC",
        "system": "사용자는 KR의 긴급 대응 사항을 체계적으로 관리하려고 합니다.\n1. KR 응답 필요 + 마감 임박 의제를 추출합니다\n2. 남은 일수와 업무량을 고려하여 우선순위를 정합니다\n3. 각 의제의 영향도와 중요도를 평가합니다\n4. 긴급 대응팀 구성이 필요한 사항을 식별합니다\n5. 일일 체크리스트로 활용하여 누락을 방지합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "sdtp_kr_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "SDTP에서 KR이 응답해야 하는 의제",
          "SDTP KR 응답 필요 의제",
          "SDTP agendas requiring KR response"
        ],
        "keywords": [
          "SDTP",
          "KR",
          "응답해야"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sent_time, ac.deadline\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.agenda_panel = 'SDTP' \n                AND (ac.response_org = 'KR' OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 SDTP 패널의 KR 응답 요구사항을 관리하려고 합니다.\n1. SDTP 패널의 KR 응답 필요 의제를 추출합니다\n2. 탈탄소화 기술별로 분류하여 제시합니다\n3. 각 의제의 기술적 난이도와 비용 영향을 평가합니다\n4. 우리의 기술 역량과 대응 가능성을 검토합니다\n5. 전략적 포지셔닝을 위한 응답 계획을 수립합니다",
        "sql_prompt": "CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "recent_sdtp_chair_mails_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 SDTP 의장이 최근 보낸 메일 목록",
          "최근 SDTP 의장 메일",
          "recent SDTP chair mails"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "의장",
          "메일"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sender, ac.sent_time\nFROM agenda_chair ac\nWHERE ac.agenda_panel = 'SDTP' \n                AND (ac.sender LIKE '%CHAIR%' OR ac.sender_organization = 'Chair')\n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 SDTP 의장의 리더십 방향을 파악하려고 합니다.\n1. SDTP 의장이 발송한 최근 메일을 모두 추출합니다\n2. 주요 메시지와 강조점을 분석합니다\n3. 탈탄소화 접근 방식과 우선순위를 이해합니다\n4. 의장의 정책 방향에 맞춘 전략을 수립합니다\n5. 효과적인 커뮤니케이션 방안을 도출합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "sdtp_chair_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 SDTP 의장이 보낸 메일 중 응답이 필요한 의제 목록",
          "SDTP 의장 메일 응답 필요",
          "SDTP chair mails requiring response"
        ],
        "keywords": [
          "SDTP",
          "의장",
          "응답필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sent_time, ac.response_org\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.agenda_panel = 'SDTP' \n                AND ac.sender_organization = 'Chair' \n                AND ac.response_org IS NOT NULL \n                AND {period_condition}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 SDTP 의장의 요청사항을 우선 처리하려고 합니다.\n1. SDTP 의장의 mail_type = 'request' 메일을 추출합니다\n2. 요청 내용과 마감일을 확인합니다\n3. 기술적 검토가 필요한 사항을 식별합니다\n4. 고품질 응답으로 의장의 신뢰를 구축합니다\n5. SDTP에서의 영향력 확대 기회로 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "패널별 특성을 고려하여 결과를 분석하고, 패널 고유의 이슈와 대응 방안을 제시하세요."
    },
    {
      "template_id": "sdtp_chair_mail_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "SDTP 의장이 보낸 메일의 키워드들 알려줘",
          "SDTP 의장 메일 키워드",
          "SDTP chair mail keywords"
        ],
        "keywords": [
          "SDTP",
          "의장",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT ac.keywords, COUNT(*) as frequency\nFROM agenda_chair ac\nWHERE ac.agenda_panel = 'SDTP' \n                AND (ac.sender LIKE '%CHAIR%' OR ac.sender_organization = 'Chair')\n                AND ac.keywords IS NOT NULL \n                AND {period_condition}\nORDER BY frequency DESC",
        "system": "사용자는 SDTP 의장의 정책 우선순위를 파악하려고 합니다.\n1. SDTP 의장 메일에서 키워드를 추출합니다\n2. 빈도와 강조도를 분석합니다\n3. 선호하는 탈탄소화 기술과 접근법을 식별합니다\n4. 우리 전략과의 정합성을 검토합니다\n5. 의장 지지를 얻을 수 있는 제안을 준비합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "recent_meeting_notification_mails_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 회의 개최관련 해서 알림을 준 메일",
          "최근 회의 알림 메일",
          "recent meeting notification mails"
        ],
        "keywords": [
          "회의",
          "개최",
          "알림"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sender, ac.sent_time\nFROM agenda_chair ac\nWHERE (ac.subject LIKE '%meeting%' OR ac.subject LIKE '%회의%') AND (ac.subject LIKE '%notice%' OR ac.subject LIKE '%notification%' OR ac.subject LIKE '%알림%' OR ac.subject LIKE '%개최%') AND ac.sent_time >= DATE('now', '-30 days')\nORDER BY ac.sent_time DESC",
        "system": "사용자는 회의 관련 행정사항을 완벽히 관리하려고 합니다.\n1. 최근 모든 회의 통지 메일을 추출합니다\n2. 일정, 장소, 등록 정보를 체계적으로 정리합니다\n3. 마감일이 임박한 등록을 우선 표시합니다\n4. 비자, 숙박 등 부대 준비사항을 확인합니다\n5. 참가 계획 수립에 필요한 모든 정보를 제공합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "회의 관련 정보를 정리하여 회의 준비사항과 주요 안건을 요약하고, 참석자 및 일정 정보를 명확히 제시하세요."
    },
    {
      "template_id": "recent_chair_mail_content_v2",
      "template_version": "1.0.0",
      "template_category": "mail_content",
      "query_info": {
        "natural_questions": [
          "최근 의장이 보낸 메일 내용 줘",
          "최근 의장 메일 내용",
          "recent chair mail content"
        ],
        "keywords": [
          "최근",
          "의장",
          "메일내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sender, ac.body, ac.sent_time\nFROM agenda_chair ac\nWHERE (ac.sender LIKE '%CHAIR%' OR ac.sender_organization = 'Chair')\n                AND ac.sent_time BETWEEN {period_start} AND {period_end}\nORDER BY ac.sent_time DESC",
        "system": "사용자는 의장의 메시지를 직접 분석하려고 합니다.\n1. 최근 의장 메일의 전체 내용을 추출합니다\n2. 제목과 본문을 완전히 제공합니다\n3. 첨부파일이나 링크 정보도 포함합니다\n4. 의장의 어조와 강조점을 파악할 수 있게 합니다\n5. 원문 분석을 통한 정확한 이해를 지원합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 a.sent_time DESC \n                LIMIT 10로 정렬해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "direct_replace",
            "placeholders": [
              "{period_start}",
              "{period_end}"
            ]
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "kr_response_rate_sdtp_recent_v2",
      "template_version": "1.0.0",
      "template_category": "statistics",
      "query_info": {
        "natural_questions": [
          "최근 발행한 의제 중 SDTP 패널에서 한국선급 응답율",
          "최근 SDTP KR 응답률",
          "recent KR response rate in SDTP"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "한국선급",
          "응답률"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT COUNT(DISTINCT ac.agenda_code) as total_sdtp_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN ac.agenda_code END) as kr_responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN ac.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT ac.agenda_code) * 100, 2) as kr_response_rate\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.agenda_panel = 'SDTP'\n                AND ac.sender_organization = 'Chair'\n                AND ac.sent_time >= DATE('now', '-30 days')",
        "system": "사용자는 SDTP에서의 KR 참여도를 정량 평가하려고 합니다.\n1. 최근 기간 SDTP의 KR 응답 요청과 실제 응답을 집계합니다\n2. 응답률을 계산하고 추세를 분석합니다\n3. 미응답 사유를 파악합니다\n4. 타 조직과 비교하여 상대적 위치를 확인합니다\n5. 참여도 개선 방안을 도출합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근, DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "kr_response_rate_sdtp_period_v2",
      "template_version": "1.0.0",
      "template_category": "statistics",
      "query_info": {
        "natural_questions": [
          "{period} 발행한 의제 중 SDTP 패널에서 한국선급 응답율",
          "{period} SDTP KR 응답률",
          "KR response rate in SDTP for {period}"
        ],
        "keywords": [
          "기간",
          "SDTP",
          "한국선급",
          "응답률"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT COUNT(DISTINCT ac.agenda_code) as total_sdtp_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN ac.agenda_code END) as kr_responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN ac.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT ac.agenda_code) * 100, 2) as kr_response_rate\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.agenda_panel = 'SDTP'\n                AND ac.sender_organization = 'Chair'\n                AND {period_condition}",
        "system": "사용자는 SDTP 참여도의 시계열 변화를 분석하려고 합니다.\n1. 지정 기간의 SDTP KR 응답률을 계산합니다\n2. 기간별 변화 추이를 그래프화합니다\n3. 응답률 변화의 원인을 분석합니다\n4. 개선 또는 악화 요인을 식별합니다\n5. 지속적 개선을 위한 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": true,
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "kr_response_rate_sdtp_yearly_v2",
      "template_version": "1.0.0",
      "template_category": "statistics",
      "query_info": {
        "natural_questions": [
          "올해 발행한 의제 중 SDTP 패널에서 한국선급 응답율",
          "올해 SDTP KR 응답률",
          "this year KR response rate in SDTP"
        ],
        "keywords": [
          "올해",
          "SDTP",
          "한국선급",
          "응답률"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT strftime('%Y', ac.sent_time) as year,\n                    COUNT(DISTINCT ac.agenda_code) as total_sdtp_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN ac.agenda_code END) as kr_responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN ac.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT ac.agenda_code) * 100, 2) as kr_response_rate\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.agenda_panel = 'SDTP'\n                AND ac.sender_organization = 'Chair'\n                AND {period_condition}\nORDER BY year DESC",
        "system": "사용자는 SDTP 대응의 장기 성과를 평가하려고 합니다.\n1. 연도별 SDTP KR 응답률을 집계합니다\n2. 장기 트렌드와 패턴을 분석합니다\n3. 조직 전략 변화와의 연관성을 검토합니다\n4. 향후 목표 응답률을 설정합니다\n5. 장기 참여 전략을 수립합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 패널의 의제를 조회하여 패널별 업무 진행 상황을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 year DESC로 정렬해주세요. 이를 통해 특정 패널의 업무 현황과 진행 상태를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    },
    {
      "template_id": "recent_sdtp_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "최근 SDTP 패널에서 논의되었던 의제의 주요 키워드 출력 해줘",
          "최근 SDTP 주요 키워드",
          "recent SDTP main keywords"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency\nFROM agenda_all a\nWHERE a.agenda_panel = 'SDTP' \n                AND a.sent_time >= DATE('now', '-30 days')\n                AND a.keywords IS NOT NULL\nORDER BY frequency DESC",
        "system": "사용자는 SDTP의 현재 기술 트렌드를 파악하려고 합니다.\n1. SDTP 최근 의제의 키워드를 추출합니다\n2. 탈탄소화 기술별 빈도를 분석합니다\n3. 새롭게 부상하는 기술이나 접근법을 식별합니다\n4. 규제 vs 기술 논의의 균형을 평가합니다\n5. R&D 투자 방향 결정에 활용합니다",
        "sql_prompt": "agenda_all 테이블에서 특정 키워드를 포함하는 의제를 검색하여 관련 업무를 파악하고자 합니다. DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 최신 정보부터 확인할 수 있도록 frequency DESC로 정렬해주세요. 이를 통해 특정 주제나 내용과 관련된 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "키워드 분석 결과를 바탕으로 주요 토픽과 이슈를 도출하고, 키워드 간 연관성과 중요도를 평가해주세요."
    },
    {
      "template_id": "kr_no_response_chair_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "최근 마감되지 않거나 KR이 응답하지 않은 의제 중에서 의장에 첨부파일을 송부한 의제",
          "KR 미응답 의장 첨부파일 의제",
          "KR no response chair attachment agendas"
        ],
        "keywords": [
          "KR",
          "미응답",
          "의장",
          "첨부파일"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code, ac.subject, ac.sender, ac.hasAttachments, ac.sent_time, ac.deadline\nFROM agenda_chair ac\nLEFT JOIN agenda_responses_content arc ON ac.agenda_base_version = arc.agenda_base_version\nLEFT JOIN agenda_responses_receivedtime art ON ac.agenda_base_version = art.agenda_base_version\nWHERE ac.mail_type = 'REQUEST' AND ac.has_deadline = 1 AND ac.sender_type = 'CHAIR' \n                AND (ac.response_org = 'KR' OR ac.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND ac.hasAttachments = 1 \n                AND {period_condition}\nORDER BY ac.deadline ASC",
        "system": "사용자는 문서 검토가 필요한 의장 요청을 우선 처리하려고 합니다.\n1. 의장의 첨부파일 포함 요청 중 KR 미응답을 추출합니다\n2. 첨부파일 유형과 중요도를 평가합니다\n3. 기술 검토에 필요한 시간을 고려합니다\n4. 전문가 배정이 필요한 사항을 식별합니다\n5. 높은 품질의 기술적 응답을 준비합니다",
        "sql_prompt": "agenda_all 테이블에서 최근 발생한 의제들을 모니터링하여 최신 업무 동향을 파악하고자 합니다. CASE 문을 사용하여 조직별 응답 내용 접근 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고 a.deadline ASC로 정렬하여 체계적으로 확인할 수 있도록 해주세요. 이를 통해 최근 업무 동향과 신규 의제 파악를 지원하고자 합니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ],
      "related_tables": [
        "agenda_chair",
        "agenda_responses_content",
        "agenda_responses_receivedtime"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "조직의 응답이 필요한 의제들을 분석하여 긴급도 순으로 정리하고, 각 의제에 대한 권장 대응 방안을 제시하세요. 마감일이 임박한 항목은 특별히 강조해주세요."
    },
    {
      "template_id": "agenda_ongoing_status_check_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "PL25016 의제가 현재 진행 중인가?",
          "{agenda} 의제가 현재 진행 중인가?",
          "is {agenda} currently ongoing?"
        ],
        "keywords": [
          "진행중",
          "ongoing",
          "상태"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT ac.agenda_code,\n                    ac.subject,\n                    ac.decision_status,\n                    ac.deadline,\n                    CASE \n                        WHEN ac.deadline < DATE('now') THEN 'Overdue'\n                        WHEN ac.deadline < DATE('now', '+7 days') THEN 'Due Soon'\n                        ELSE 'On Track'\n                    END as deadline_status\nFROM agenda_chair ac\nWHERE ac.deadline > DATE('now')",
        "system": "사용자는 특정 의제의 현재 상태를 정확히 확인하려고 합니다.\n1. 해당 의제의 현재 decision_status를 조회합니다\n2. 최근 상태 변경 이력을 확인합니다\n3. ongoing이면 진행 정도와 예상 완료 시기를 평가합니다\n4. 관련 업데이트나 응답 현황을 함께 제공합니다\n5. 필요한 후속 조치를 안내합니다",
        "sql_prompt": "DATE('now', '-N days') 형식으로 기간 필터링 각 의제의 agenda_base_version(의제 기본 버전), agenda_code(의제 코드), subject(제목), sender_organization(발신조직), sent_time(발송시간) 등을 보여주고"
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code",
          "sql_builder": {
            "type": "string",
            "placeholder": "{agenda}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "ac.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ],
      "related_tables": [
        "agenda_chair"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색된 의제들을 상태별로 분류하고, 우선 처리가 필요한 의제를 식별하여 제시하세요. 각 의제의 중요도와 긴급도를 평가해주세요."
    },
    {
      "template_id": "test_upload_functionality_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "템플릿 업로드 테스트",
          "시스템 테스트 템플릿",
          "업로드 기능 검증용 템플릿"
        ],
        "keywords": [
          "테스트",
          "업로드",
          "시스템",
          "검증",
          "test",
          "upload"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT *\nFROM agenda_all a",
        "system": "시스템 관리자가 업로드 기능을 검증하려고 합니다.\n1. 간단한 SELECT 쿼리로 시스템 연결을 확인합니다\n2. 템플릿 업로드와 실행이 정상 작동하는지 검증합니다\n3. 파라미터 치환이 올바르게 되는지 테스트합니다\n4. 에러 처리와 로깅이 적절한지 확인합니다\n5. 프로덕션 배포 전 필수 검증 단계입니다",
        "sql_prompt": " 사용자는 '템플릿 업로드 테스트'에 대한 답을 얻고자 합니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "related_tables": [
        "agenda_all"
      ],
      "related_db": "iacsgraph.db",
      "to_agent": "검색 결과를 분석하여 주요 내용을 요약하고, 실행 가능한 인사이트와 권장사항을 제시하세요."
    }
  ]
}