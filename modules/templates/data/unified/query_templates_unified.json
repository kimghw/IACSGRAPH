{
  "version": "8.0.0-quoted-placeholder-fix",
  "description": "IACSGRAPH 통합 쿼리 템플릿 - 모든 버전 통합 (v2.6 ~ v2.10)",
  "last_updated": "2025-01-26",
  "total_templates": 175,
  "metadata": {
    "includes_versions": [
      "v2.6",
      "v2.7",
      "v2.8",
      "v2.9",
      "v2.10"
    ],
    "categories": {
      "agenda_status": 7,
      "time_based_query": 3,
      "organization_response": 14,
      "agenda_statistics": 13,
      "agenda_analysis": 26,
      "keyword_analysis": 15,
      "agenda_search": 29,
      "system_config": 5,
      "data_quality": 3,
      "organization_analysis": 2,
      "meeting_info": 5,
      "project_team": 6,
      "panel_specific": 17,
      "keyword_search": 2,
      "chair_communication": 1,
      "panel_statistics": 2,
      "llm_direct_response": 3,
      "vectordb_search": 15,
      "response_analysis": 1,
      "deadline_analysis": 1,
      "organization_info": 1,
      "mail_content": 1,
      "statistics": 3
    },
    "routing_types": {
      "sql": 156,
      "llm_direct": 3,
      "vectordb": 15
    },
    "standardized": true,
    "all_versions_unified_to": "1.0.0",
    "mcp_integration": true,
    "mcp_format_version": "1.0",
    "comprehensive_fixes": {
      "date": "2025-01-26",
      "description": "Comprehensive SQL fixes for all edge cases",
      "modified_templates": 107
    },
    "sql_fixes": {
      "date": "2025-01-26",
      "description": "Complete SQL query rewrite for actual database schema",
      "modified_templates": 11,
      "fix_log": [
        "org_no_response_ongoing_v2: Completely rewrote response query",
        "org_agenda_issues_summary_v2: Completely rewrote response query",
        "org_response_keywords_v2: Completely rewrote response query",
        "no_response_agendas_v2: Completely rewrote response query",
        "org_avg_response_time_v2: Completely rewrote response query",
        "monthly_response_rate_statistics_v2: Completely rewrote response query",
        "recent_updated_responses_v2: Completely rewrote response query",
        "latest_response_organization_v2: Completely rewrote response query",
        "org_panel_responses_v2: Completely rewrote response query"
      ]
    },
    "complete_rewrite": {
      "date": "2025-01-26",
      "description": "Complete SQL rewrite for all templates",
      "fixed_count": 82,
      "fixed_templates": [
        "Fixed: all_panels_incomplete_agendas_v2",
        "Fixed: all_panels_recent_3months_v2",
        "Fixed: org_no_response_ongoing_v2",
        "Fixed: org_response_required_v2",
        "Fixed: pending_agenda_count_v2",
        "Fixed: org_agenda_issues_summary_v2",
        "Fixed: org_agenda_keywords_v2",
        "Fixed: org_response_keywords_v2",
        "Fixed: keyword_search_agendas_v2",
        "Fixed: meeting_notification_mails_v2",
        "Fixed: yearly_agenda_count_v2",
        "Fixed: yearly_created_agendas_v2",
        "Fixed: org_mail_count_v2",
        "Fixed: recent_5_agendas_v2",
        "Fixed: recent_notification_mails_v2",
        "Fixed: panel_agenda_count_v2",
        "Fixed: imo_related_agendas_v2",
        "Fixed: ur_revision_agendas_v2",
        "Fixed: pr_revision_agendas_v2",
        "Fixed: eg_related_agendas_v2",
        "Fixed: monthly_agenda_response_status_v2",
        "Fixed: vessel_inventory_agendas_v2",
        "Fixed: generic_keyword_search_v2",
        "Fixed: consolidated_status_agendas_v2",
        "Fixed: cyber_keyword_agendas_v2",
        "Fixed: recent_month_chair_agendas_v2",
        "Fixed: no_response_agendas_v2",
        "Fixed: recent_attachment_agendas_v2",
        "Fixed: digital_transformation_agendas_v2",
        "Fixed: org_avg_response_time_v2",
        "Fixed: org_response_time_exclude_creation_v2",
        "Fixed: chair_no_deadline_v2",
        "Fixed: active_time_statistics_v2",
        "Fixed: completed_pending_process_time_v2",
        "Fixed: flexible_time_range_activities_v2",
        "Fixed: flexible_ongoing_deadline_agendas_v2",
        "Fixed: monthly_response_rate_statistics_v2",
        "Fixed: recent_updated_responses_v2",
        "Fixed: weekday_agenda_statistics_v2",
        "Fixed: quarterly_agenda_statistics_v2",
        "Fixed: latest_response_organization_v2",
        "Fixed: urgent_created_agendas_v2",
        "Fixed: kr_participating_panels_v2",
        "Fixed: kr_chair_panels_v2",
        "Fixed: pt_participating_orgs_v2",
        "Fixed: pt_participants_info_v2",
        "Fixed: keyword_analysis_3months_v2",
        "Fixed: panel_org_response_required_v2",
        "Fixed: panel_org_response_rate_v2",
        "Fixed: panel_org_response_rate_yearly_v2"
      ]
    },
    "sql_syntax_fixes": {
      "date": "2025-01-26",
      "description": "Fixed all SQL syntax errors and column references",
      "fixed_count": 120,
      "fixes": [
        "Fixed: all_panels_incomplete_agendas_v2",
        "Fixed: all_panels_recent_3months_v2",
        "Fixed: pending_agenda_count_v2",
        "Fixed: keyword_search_agendas_v2",
        "Fixed: meeting_notification_mails_v2",
        "Fixed: yearly_agenda_count_v2",
        "Fixed: yearly_created_agendas_v2",
        "Fixed: org_mail_count_v2",
        "Fixed: recent_5_agendas_v2",
        "Fixed: recent_notification_mails_v2",
        "Fixed: panel_agenda_count_v2",
        "Fixed: imo_related_agendas_v2",
        "Fixed: ur_revision_agendas_v2",
        "Fixed: pr_revision_agendas_v2",
        "Fixed: eg_related_agendas_v2",
        "Fixed: vessel_inventory_agendas_v2",
        "Fixed: generic_keyword_search_v2",
        "Fixed: consolidated_status_agendas_v2",
        "Fixed: multilateral_recent_agendas_v2",
        "Fixed: cyber_keyword_agendas_v2",
        "Fixed: recent_month_chair_agendas_v2",
        "Fixed: no_response_agendas_v2",
        "Fixed: recent_weblink_agendas_v2",
        "Fixed: recent_attachment_agendas_v2",
        "Fixed: digital_transformation_agendas_v2",
        "Fixed: other_type_senders_v2",
        "Fixed: recent_updated_chair_10_v2",
        "Fixed: chair_no_deadline_v2",
        "Fixed: active_time_statistics_v2",
        "Fixed: unknown_type_senders_v2",
        "Fixed: completed_pending_process_time_v2",
        "Fixed: msc_110_agendas_v2",
        "Fixed: flexible_time_range_activities_v2",
        "Fixed: flexible_ongoing_deadline_agendas_v2",
        "Fixed: sender_address_mismatch_v2",
        "Fixed: agenda_version_mismatch_v2",
        "Fixed: latest_status_by_agenda_v2",
        "Fixed: weekday_agenda_statistics_v2",
        "Fixed: agendas_with_response_org_v2",
        "Fixed: quarterly_agenda_statistics_v2",
        "Fixed: latest_response_organization_v2",
        "Fixed: urgent_created_agendas_v2",
        "Fixed: iacs_panel_structure_v2",
        "Fixed: kr_participating_panels_v2",
        "Fixed: kr_chair_panels_v2",
        "Fixed: recent_meetings_list_v2",
        "Fixed: recent_meeting_issues_v2",
        "Fixed: ongoing_pt_list_v2",
        "Fixed: pt_participating_orgs_v2",
        "Fixed: pt_participants_info_v2"
      ]
    },
    "complete_sql_fix": {
      "date": "2025-01-26",
      "description": "Fixed all remaining SQL queries based on test results",
      "fixed_count": 21,
      "fixes": [
        "Fixed: all_panels_incomplete_agendas_v2",
        "Fixed: all_panels_recent_3months_v2",
        "Fixed: org_response_keywords_v2",
        "Fixed: keyword_search_agendas_v2",
        "Fixed: recent_5_agendas_v2",
        "Fixed: consolidated_status_agendas_v2",
        "Fixed: recent_month_chair_agendas_v2",
        "Fixed: recent_updated_chair_10_v2",
        "Fixed: completed_pending_process_time_v2",
        "Fixed: flexible_time_range_activities_v2",
        "Fixed: latest_response_organization_v2",
        "Fixed: pt_participating_orgs_v2",
        "Fixed: pt_participants_info_v2",
        "Fixed: org_panel_responses_v2",
        "Fixed: org_urgent_response_required_v2",
        "Fixed: panel_ongoing_responded_orgs_v2",
        "Fixed: panel_no_response_orgs_v2",
        "Fixed: eg_participating_orgs_v2",
        "Fixed: latest_responder_org_v2",
        "Fixed: kr_responses_keywords_v2",
        "Fixed: recent_keywords_discussion_v2"
      ]
    },
    "final_fixes": {
      "date": "2025-01-26",
      "description": "Final comprehensive SQL fixes",
      "fixed_count": 49,
      "fixes": [
        "Pattern fixed: keyword_search_agendas_v2",
        "Pattern fixed: recent_5_agendas_v2",
        "Fixed: recent_attachment_agendas_v2",
        "Pattern fixed: recent_updated_chair_10_v2",
        "Pattern fixed: latest_response_organization_v2",
        "Fixed: iacs_panel_structure_v2",
        "Fixed: keyword_analysis_3months_v2",
        "Fixed: keyword_analysis_lastyear_v2",
        "Fixed: keyword_analysis_2025_v2",
        "Fixed: panel_completed_agendas_v2",
        "Fixed: panel_recent_agendas_v2",
        "Fixed: keyword_related_agendas_v2",
        "Fixed: panel_chair_recent_mails_v2",
        "Fixed: panel_chair_response_required_v2",
        "Fixed: panel_chair_keywords_v2",
        "Fixed: chair_recent_mail_content_v2",
        "Fixed: panel_recent_keywords_v2",
        "Fixed: agenda_related_agendas_v2",
        "Fixed: agenda_org_opinion_agreements_v2",
        "Fixed: agenda_org_opinion_disagreements_v2",
        "Fixed: agenda_response_keywords_v2",
        "Fixed: agenda_keywords_related_panel_agendas_v2",
        "Fixed: agenda_ur_related_responses_v2",
        "Fixed: recent_eg_related_content_v2",
        "Fixed: agenda_issue_organization_opinions_v2",
        "Fixed: agenda_main_issues_related_list_v2",
        "Fixed: agenda_other_panels_discussion_v2",
        "Fixed: agenda_other_panels_agendas_v2",
        "Fixed: agenda_responses_analysis_v2",
        "Fixed: mail_content_agenda_comparison_v2",
        "Fixed: kr_opinion_based_reply_draft_v2",
        "Fixed: eg_work_in_panel_v2",
        "Fixed: panel_keywords_3months_v2",
        "Fixed: panel_keywords_lastyear_v2",
        "Fixed: panel_keywords_2025_v2",
        "Fixed: panel_keywords_by_year_v2",
        "Pattern fixed: latest_responder_org_v2",
        "Fixed: sdtp_completed_agenda_results_v2",
        "Fixed: recent_sdtp_agenda_list_v2",
        "Fixed: kr_response_required_keywords_v2",
        "Pattern fixed: recent_keywords_discussion_v2",
        "Fixed: kr_urgent_response_required_v2",
        "Fixed: sdtp_kr_response_required_v2",
        "Fixed: recent_sdtp_chair_mails_v2",
        "Fixed: sdtp_chair_response_required_v2",
        "Fixed: sdtp_chair_mail_keywords_v2",
        "Fixed: recent_chair_mail_content_v2",
        "Fixed: recent_sdtp_keywords_v2",
        "Fixed: kr_no_response_chair_attachment_v2"
      ]
    },
    "placeholder_fixes": {
      "date": "2025-01-26",
      "description": "Fixed placeholder replacement issues",
      "fixed_count": 42,
      "fixes": [
        "Fixed: org_response_keywords_v2",
        "Pattern fixed: keyword_search_agendas_v2",
        "Pattern fixed: yearly_agenda_count_v2",
        "Fixed: recent_5_agendas_v2",
        "Pattern fixed: panel_agenda_count_v2",
        "Pattern fixed: monthly_agenda_response_status_v2",
        "Pattern fixed: consolidated_status_agendas_v2",
        "Fixed: recent_updated_chair_10_v2",
        "Pattern fixed: active_time_statistics_v2",
        "Fixed: completed_pending_process_time_v2",
        "Fixed: flexible_time_range_activities_v2",
        "Pattern fixed: latest_status_by_agenda_v2",
        "Pattern fixed: weekday_agenda_statistics_v2",
        "Pattern fixed: quarterly_agenda_statistics_v2",
        "Fixed: latest_response_organization_v2",
        "Fixed: pt_participating_orgs_v2",
        "Fixed: pt_participants_info_v2",
        "Fixed: keyword_analysis_3months_v2",
        "Fixed: keyword_analysis_lastyear_v2",
        "Fixed: keyword_analysis_2025_v2",
        "Fixed: panel_recent_agendas_v2",
        "Fixed: org_panel_responses_v2",
        "Fixed: org_urgent_response_required_v2",
        "Fixed: panel_chair_recent_mails_v2",
        "Fixed: panel_chair_keywords_v2",
        "Fixed: chair_recent_mail_content_v2",
        "Fixed: panel_recent_keywords_v2",
        "Fixed: panel_ongoing_responded_orgs_v2",
        "Fixed: panel_no_response_orgs_v2",
        "Pattern fixed: recent_progress_status_v2",
        "Fixed: eg_participating_orgs_v2",
        "Fixed: panel_keywords_3months_v2",
        "Fixed: panel_keywords_lastyear_v2",
        "Fixed: panel_keywords_2025_v2",
        "Fixed: panel_keywords_by_year_v2",
        "Fixed: latest_responder_org_v2",
        "Fixed: sdtp_completed_agenda_results_v2",
        "Fixed: kr_response_required_keywords_v2",
        "Fixed: kr_responses_keywords_v2",
        "Pattern fixed: recent_keywords_discussion_v2",
        "Fixed: kr_urgent_response_required_v2",
        "Fixed: recent_chair_mail_content_v2"
      ]
    },
    "quoted_placeholder_fix": {
      "date": "2025-01-26",
      "description": "Removed quotes around placeholders",
      "fixed_count": 47
    }
  },
  "templates": [
    {
      "template_id": "all_panels_incomplete_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 모든 패널에서 완료되지 않은 의제 리스트",
          "미완료 상태의 모든 패널 의제들",
          "아직 완료되지 않은 전체 의제 목록"
        ],
        "keywords": [
          "미완료",
          "완료되지않은",
          "의제",
          "모든패널"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE a.decision_status != 'completed' \n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "아직 완료되지 않은 모든 의제를 검색합니다. decision_status가 'completed'가 아닌 모든 의제를 찾아 진행 상황을 파악합니다.",
        "user": "완료되지 않은 의제들의 전체 현황을 파악하고 싶습니다. 의제별 현재 상태, 마감일, 담당 조직 정보를 확인할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "all_panels_recent_3months_v2",
      "template_version": "1.0.0",
      "template_category": "time_based_query",
      "query_info": {
        "natural_questions": [
          "최근 3개월 동안 논의 되었던 의제 목록",
          "지난 3개월간 논의된 의제들",
          "3개월 이내 논의 의제 리스트"
        ],
        "keywords": [
          "3개월",
          "최근",
          "논의",
          "의제"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE a.sent_time >= DATE('now', '-90 days') \n                ORDER BY a.sent_time DESC",
        "system": "최근 3개월(90일) 동안 발송된 모든 의제를 검색합니다. 최근 논의 동향을 파악하기 위한 쿼리입니다.",
        "user": "지난 3개월간 어떤 의제들이 논의되었는지 전체적인 현황을 보고 싶습니다. 패널별, 월별 분포도 알 수 있으면 좋겠습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "org_no_response_ongoing_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "진행되고 있는 의제들 중에서 지정한 조직이 아직 응답하지 않는 의제",
          "지정한 조직이 미응답 진행중 의제",
          "지정한 조직이 아직 답변하지 않은 ongoing 의제들"
        ],
        "keywords": [
          "미응답",
          "organization",
          "진행중",
          "조직",
          "KR",
          "한국",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.* \n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.decision_status IN ('created', 'ongoing', 'comment')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "진행중인 의제 중 한국(KR)이 아직 응답하지 않은 의제를 찾습니다. LEFT JOIN으로 응답 테이블과 연결하여 응답이 없는 경우를 필터링합니다.",
        "user": "한국이 아직 응답하지 않은 진행중 의제를 확인하여 신속한 대응이 필요한 항목을 파악하고 싶습니다. 마감일과 중요도 정보도 함께 제공해주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, US, JP, CN)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "org_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답을 해야 하는 의제",
          "지정한 조직이 답변해야 할 의제 목록",
          "지정한 조직이 응답 필요 의제들"
        ],
        "keywords": [
          "organization",
          "답변",
          "조직",
          "KR",
          "한국",
          "기관",
          "응답필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.*\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = {organization} OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "의장(Chair)이 발송한 요청 메일 중 한국(KR)이 응답해야 하는 의제를 검색합니다. response_org에 KR이 포함되거나 ALL인 경우, 마감일이 유효한 미완료 의제를 찾습니다.",
        "user": "한국이 응답해야 하는 의제들을 마감일 순으로 정리해서 보고 싶습니다. 긴급도에 따라 우선순위를 표시하고, 각 의제의 요청사항을 명확히 파악할 수 있도록 해주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, US, JP, CN)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "pending_agenda_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "분류가 보류 중인 메일의 수는?",
          "자동 분류되지 못한 의제 메일 개수",
          "수동 처리가 필요한 메일 수량"
        ],
        "keywords": [
          "분류보류",
          "보류중",
          "pending",
          "수동처리",
          "미분류",
          "개수"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    decision_status,\n                    COUNT(*) as count\n                FROM agenda_all a\n                WHERE a.decision_status IN ('pending', 'created', 'ongoing')\n                AND {period_condition}\n                GROUP BY decision_status\n                ORDER BY count DESC",
        "system": "시스템에서 자동 분류하지 못해 agenda_pending 테이블에 저장된 메일의 개수를 조회합니다.",
        "user": "분류 보류 중인 메일이 몇 건인지 확인하고, 가능하다면 보류 사유별 분포도 알고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "org_agenda_issues_summary_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답해야하는 의제에서 의제들의 주요 이슈 및 다른 기관의 의견 정리",
          "지정한 조직이 응답 필요 의제의 이슈와 타기관 의견",
          "지정한 조직이 대응 의제의 쟁점 및 각국 입장"
        ],
        "keywords": [
          "타기관",
          "이슈",
          "organization",
          "정리",
          "조직",
          "KR",
          "의견",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.keywords,\n                    a.deadline,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 100) ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN ' NK: ' || SUBSTR(arc.NK, 1, 100) ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN ' CCS: ' || SUBSTR(arc.CCS, 1, 100) ELSE '' END as other_responses\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = {organization} OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "한국이 응답해야 하는 의제와 관련된 다른 기관들의 응답을 함께 조회합니다. 의제별 주요 이슈와 각국의 입장을 종합적으로 파악하기 위한 쿼리입니다.",
        "user": "한국이 응답해야 하는 의제들에 대해 다른 나라들은 어떤 의견을 제시했는지 종합적으로 분석해서 보고 싶습니다. 주요 쟁점과 각국 입장차이를 명확히 정리해주세요."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, US, JP, CN)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "org_agenda_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답해야하는 의제들의 주요 키워드",
          "지정한 조직이 응답 필요 의제의 핵심어",
          "지정한 조직이 대응 의제 키워드 분석"
        ],
        "keywords": [
          "organization",
          "조직",
          "KR",
          "키워드",
          "주요",
          "핵심어",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.keywords,\n                    COUNT(*) as count\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = {organization} OR a.response_org = 'ALL' OR arc.{organization} IS NOT NULL)\n                AND a.keywords IS NOT NULL\n                AND {period_condition}\n                GROUP BY a.keywords\n                ORDER BY count DESC",
        "system": "데이터베이스에서 조건에 맞는 레코드를 검색합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "검색 조건에 해당하는 결과를 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, US, JP, CN)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "org_response_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "지정한 조직이 응답해야 하는 의제들의 회신 중 중요 키워드",
          "지정한 조직이 응답 의제의 회신 키워드",
          "지정한 조직이 관련 응답들의 핵심어"
        ],
        "keywords": [
          "응답",
          "organization",
          "조직",
          "KR",
          "회신",
          "키워드",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.keywords,\n                    arc.{organization} as response_content\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE arc.{organization} IS NOT NULL\n                AND a.keywords IS NOT NULL\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "여러 테이블을 연결하여 관련 정보를 종합적으로 조회합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다. 특정 조직과 관련된 데이터를 필터링합니다.",
        "user": "관련된 정보들을 종합하여 전체적인 현황을 파악하고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다. 해당 조직의 관점에서 필요한 정보를 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, US, JP, CN)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "r.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "keyword_search_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 논의된 의제들 중에 {keywords}에 대해서 논의되고 있는 의제",
          "{keywords} 관련 의제 검색",
          "{keywords}에 대한 논의 사항"
        ],
        "keywords": [
          "검색",
          "키워드",
          "논의",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE (\n                    CASE \n                        WHEN COALESCE(COALESCE({keywords}, ''), 'test') = '' THEN 1=1\n                        ELSE (a.keywords LIKE '%' || COALESCE(COALESCE({keywords}, ''), 'test') || '%' OR a.subject LIKE '%' || COALESCE(COALESCE({keywords}, ''), 'test') || '%')\n                    END\n                )\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "default": [],
          "sql_builder": {
            "type": "or_like",
            "fields": [
              "keywords",
              "subject",
              "body"
            ],
            "placeholder": "{keywords_condition}"
          },
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "meeting_notification_mails_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 회의 개최관련 해서 알림을 준 메일",
          "회의 개최 공지 메일",
          "미팅 일정 알림 메일"
        ],
        "keywords": [
          "회의",
          "개최",
          "알림",
          "meeting",
          "notification"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE mail_type = 'NOTIFICATION' \n                AND (subject LIKE '%meeting%' OR subject LIKE '%회의%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "yearly_agenda_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "올해 모든 패널의 아젠다 갯수",
          "올해 발행된 전체 의제 수",
          "금년도 총 아젠다 개수"
        ],
        "keywords": [
          "올해",
          "아젠다",
          "갯수",
          "전체"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y', sent_time) as year,\n                    COUNT(*) as agenda_count\n                FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY year\n                ORDER BY year DESC",
        "system": "조건에 맞는 레코드의 개수를 계산합니다.",
        "user": "해당 조건의 총 개수를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "yearly_created_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "올해 생성된 아젠다가 무엇인가요?",
          "금년도 발행 의제 목록",
          "올해 만들어진 아젠다들"
        ],
        "keywords": [
          "올해",
          "생성",
          "아젠다",
          "목록"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y', sent_time) as year,\n                    COUNT(*) as created_count\n                FROM agenda_all a\n                WHERE a.decision_status = 'created'\n                AND {period_condition}\n                GROUP BY year\n                ORDER BY year DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "org_mail_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "각 조직별로 보낸 메일 수를 집계해 주세요",
          "기관별 발송 메일 통계",
          "조직별 메일 발송 현황"
        ],
        "keywords": [
          "조직별",
          "메일수",
          "집계",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    sender_organization,\n                    COUNT(*) as mail_count\n                FROM agenda_all a\n                WHERE sender_organization IS NOT NULL\n                AND {period_condition}\n                GROUP BY sender_organization\n                ORDER BY mail_count DESC",
        "system": "조건에 맞는 레코드의 개수를 계산합니다. 특정 조직과 관련된 데이터를 필터링합니다.",
        "user": "해당 조건의 총 개수를 확인하고 싶습니다. 해당 조직의 관점에서 필요한 정보를 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "recent_5_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근에 생성된 agenda 5개를 보여주세요",
          "가장 최근 의제 5개",
          "최신 아젠다 5건"
        ],
        "keywords": [
          "최근",
          "5개",
          "최신",
          "아젠다"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC\n                LIMIT 5",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "recent_notification_mails_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 notification 타입의 메일만 조회해 주세요",
          "알림 타입 메일 목록",
          "notification 메일들"
        ],
        "keywords": [
          "notification",
          "알림",
          "타입",
          "메일"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE mail_type = 'NOTIFICATION'\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "panel_agenda_count_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "최근 패널 별 agenda 수를 집계해주세요",
          "패널별 의제 통계",
          "각 패널의 아젠다 개수"
        ],
        "keywords": [
          "패널별",
          "집계",
          "통계",
          "수"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_panel,\n                    COUNT(*) as agenda_count\n                FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY agenda_panel\n                ORDER BY agenda_count DESC",
        "system": "조건에 맞는 레코드의 개수를 계산합니다.",
        "user": "해당 조건의 총 개수를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "imo_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 IMO와 관련된 agenda를 모두 찾아주세요",
          "IMO 관련 의제 검색",
          "국제해사기구 관련 아젠다"
        ],
        "keywords": [
          "IMO",
          "국제해사기구",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (keywords LIKE '%IMO%' OR a.subject LIKE '%IMO%' OR a.body LIKE '%IMO%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "ur_revision_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 UR 관련해서 재개정 요구사항과 관련된 아젠다를 찾아줘",
          "UR 개정 관련 의제",
          "통일규칙 재개정 요구사항"
        ],
        "keywords": [
          "UR",
          "재개정",
          "개정",
          "요구사항"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (keywords LIKE '%UR%' OR a.subject LIKE '%UR%' OR subject LIKE '%Unified Requirement%')\n                AND (keywords LIKE '%revision%' OR subject LIKE '%revision%' OR body LIKE '%revision%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "pr_revision_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 PR 관련해서 재개정 요구사항과 관련된 아젠다를 찾아줘",
          "PR 개정 관련 의제",
          "절차 요구사항 재개정"
        ],
        "keywords": [
          "PR",
          "재개정",
          "개정",
          "요구사항"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (keywords LIKE '%PR%' OR a.subject LIKE '%PR%' OR subject LIKE '%Procedural Requirement%')\n                AND (keywords LIKE '%revision%' OR subject LIKE '%revision%' OR body LIKE '%revision%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "eg_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근에 EG 관련해서 논의된 아젠다 찾아줘",
          "EG 관련 의제",
          "Expert Group 논의 사항"
        ],
        "keywords": [
          "EG",
          "Expert Group",
          "전문가그룹"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (a.keywords LIKE '%EG%' OR keywords LIKE '%Expert Group%' OR a.subject LIKE '%Expert Group%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "monthly_agenda_response_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "올해 월별 agenda 발송 및 그 아젠다에 대한 응답 현황",
          "월별 의제 발송 및 응답 통계",
          "월간 아젠다 응답률"
        ],
        "keywords": [
          "월별",
          "발송",
          "응답",
          "현황",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y-%m', a.sent_time) as month,\n                    a.agenda_panel,\n                    COUNT(DISTINCT a.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE \n                        WHEN arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.CCS IS NOT NULL \n                        THEN a.agenda_code \n                    END) as responded_agendas\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY month, a.agenda_panel\n                ORDER BY month DESC, a.agenda_panel",
        "system": "여러 테이블을 연결하여 관련 정보를 종합적으로 조회합니다.",
        "user": "관련된 정보들을 종합하여 전체적인 현황을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "pending_agenda_error_reasons_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "처리되지 않은 pending agenda의 오류 이유들",
          "대기 중인 의제의 에러 원인",
          "pending 상태 오류 분석"
        ],
        "keywords": [
          "pending",
          "오류",
          "이유",
          "에러"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT error_reason, COUNT(*) as count FROM agenda_pending WHERE error_reason IS NOT NULL GROUP BY error_reason ORDER BY count DESC",
        "system": "조건에 맞는 레코드의 개수를 계산합니다.",
        "user": "해당 조건의 총 개수를 확인하고 싶습니다."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "vessel_inventory_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "Vessel Asset Inventory 관련 agenda",
          "선박 자산 목록 관련 의제",
          "Vessel Inventory 아젠다"
        ],
        "keywords": [
          "Vessel",
          "Asset",
          "Inventory",
          "선박",
          "자산"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (a.keywords LIKE '%vessel%' AND keywords LIKE '%inventory%')\n                OR (subject LIKE '%vessel%' AND subject LIKE '%inventory%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "generic_keyword_search_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련 agenda",
          "{keywords}에 대한 의제",
          "{keywords} 아젠다 검색"
        ],
        "keywords": [
          "검색",
          "관련",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE (a.keywords LIKE '%' || {keyword} || '%' OR a.subject LIKE '%' || {keyword} || '%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "default": [],
          "sql_builder": {
            "type": "or_like",
            "fields": [
              "keywords",
              "subject",
              "body"
            ],
            "placeholder": "{keywords_condition}"
          },
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "consolidated_status_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 consolidated 상태의 agenda 목록",
          "통합 완료된 의제들",
          "consolidated 상태 아젠다"
        ],
        "keywords": [
          "consolidated",
          "통합",
          "상태"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.decision_status,\n                    COUNT(*) as count,\n                    GROUP_CONCAT(a.agenda_code, ', ') as agenda_codes\n                FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY a.decision_status\n                ORDER BY count DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "multilateral_recent_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "MULTILATERAL의 최근 아젠다 리스트",
          "다자간 협의 의제 목록",
          "MULTILATERAL 아젠다"
        ],
        "keywords": [
          "MULTILATERAL",
          "다자간",
          "협의"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a WHERE sender_type = 'MULTILATERAL' AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "cyber_keyword_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "키워드에 'cyber'가 포함된 agenda",
          "사이버 관련 의제",
          "cyber 키워드 아젠다"
        ],
        "keywords": [
          "cyber",
          "사이버",
          "보안"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (keywords LIKE '%cyber%' OR a.subject LIKE '%cyber%' OR a.body LIKE '%cyber%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "recent_month_chair_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 한 달간 생성된 chair agenda",
          "최근 의장 의제",
          "한달 내 chair 아젠다"
        ],
        "keywords": [
          "chair",
          "의장",
          "한달",
          "최근"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_chair a\n                WHERE a.created_at >= DATE('now', '-30 days')\n                ORDER BY a.created_at DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "no_response_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "아직 아무도 응답하지 않은 agenda",
          "무응답 의제",
          "답변 없는 아젠다"
        ],
        "keywords": [
          "무응답",
          "미응답",
          "답변없음"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.*\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.sender_type = 'CHAIR'\n                AND (\n                    arc.agenda_base_version IS NULL OR (\n                        arc.KR IS NULL AND arc.NK IS NULL AND arc.CCS IS NULL AND \n                        arc.ABS IS NULL AND arc.DNV IS NULL AND arc.BV IS NULL AND \n                        arc.LR IS NULL AND arc.RINA IS NULL AND arc.IRS IS NULL AND \n                        arc.IRS IS NULL AND arc.PRS IS NULL AND arc.CRS IS NULL AND \n                        arc.TL IS NULL AND arc.IL IS NULL\n                    )\n                )\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "여러 테이블을 연결하여 관련 정보를 종합적으로 조회합니다.",
        "user": "관련된 정보들을 종합하여 전체적인 현황을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_weblink_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 webLink가 있는 agenda 목록",
          "웹링크 포함 의제",
          "링크 있는 아젠다"
        ],
        "keywords": [
          "webLink",
          "링크",
          "웹"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a WHERE webLink IS NOT NULL AND webLink != '' AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "recent_attachment_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 첨부 파일이 있는 agenda 목록",
          "첨부파일 포함 의제",
          "파일 첨부된 아젠다"
        ],
        "keywords": [
          "첨부파일",
          "attachment",
          "파일"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE a.hasAttachments = 1 \n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "digital_transformation_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "Digital Transformation 관련 agenda",
          "디지털 전환 의제",
          "디지털화 관련 아젠다"
        ],
        "keywords": [
          "Digital",
          "Transformation",
          "디지털",
          "전환"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a \n                WHERE (keywords LIKE '%digital%' OR a.subject LIKE '%digital%')\n                AND (keywords LIKE '%transformation%' OR subject LIKE '%transformation%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "org_avg_response_time_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "조직별 평균 응답 소요 시간",
          "기관별 평균 답변 시간",
          "조직별 응답 속도"
        ],
        "keywords": [
          "평균",
          "응답시간",
          "조직별",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    {organization} as organization,\n                    COUNT(*) as total_responses,\n                    AVG(julianday(art.{organization}) - julianday(a.sent_time)) as avg_response_days\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                INNER JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\n                WHERE arc.{organization} IS NOT NULL\n                AND art.{organization} IS NOT NULL\n                AND {period_condition}",
        "system": "여러 테이블을 연결하여 관련 정보를 종합적으로 조회합니다. 특정 조직과 관련된 데이터를 필터링합니다.",
        "user": "관련된 정보들을 종합하여 전체적인 현황을 파악하고 싶습니다. 해당 조직의 관점에서 필요한 정보를 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "org_response_time_exclude_creation_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "아젠다 생성을 제외하고 지정한 조직이 평균 응답시간",
          "지정한 조직이의 순수 응답 시간",
          "지정한 조직이 답변만의 평균 시간"
        ],
        "keywords": [
          "organization",
          "응답시간",
          "조직",
          "제외",
          "KR",
          "평균",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    {organization} as organization,\n                    COUNT(*) as count,\n                    AVG(julianday(art.{organization}) - julianday(a.sent_time)) as avg_days\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                INNER JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\n                WHERE arc.{organization} IS NOT NULL\n                AND art.{organization} IS NOT NULL\n                AND a.decision_status != 'created'\n                AND {period_condition}",
        "system": "여러 테이블을 연결하여 관련 정보를 종합적으로 조회합니다. 특정 조직과 관련된 데이터를 필터링합니다.",
        "user": "관련된 정보들을 종합하여 전체적인 현황을 파악하고 싶습니다. 해당 조직의 관점에서 필요한 정보를 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, US, JP, CN)",
          "sql_builder": {
            "type": "string",
            "placeholder": "{organization}"
          },
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "other_type_senders_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "other 타입의 발신자 목록",
          "기타 유형 발송자",
          "other 타입 sender"
        ],
        "keywords": [
          "other",
          "기타",
          "발신자",
          "타입"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT sender, a.sender_organization FROM agenda_all a WHERE sender_type = 'other' ORDER BY a.sender_organization",
        "system": "데이터베이스에서 조건에 맞는 레코드를 검색합니다. 특정 조직과 관련된 데이터를 필터링합니다.",
        "user": "검색 조건에 해당하는 결과를 보고 싶습니다. 해당 조직의 관점에서 필요한 정보를 파악하고 싶습니다."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "recent_updated_chair_10_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 업데이트된 chair agenda 10개",
          "최신 수정 의장 의제 10건",
          "업데이트된 chair 아젠다"
        ],
        "keywords": [
          "업데이트",
          "chair",
          "의장",
          "10개"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_chair a\n                ORDER BY a.created_at DESC\n                LIMIT 10",
        "system": "데이터베이스에서 조건에 맞는 레코드를 검색합니다.",
        "user": "검색 조건에 해당하는 결과를 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "chair_no_deadline_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "마감일이 없는 chair agenda",
          "무기한 의장 의제",
          "데드라인 없는 chair 아젠다"
        ],
        "keywords": [
          "마감일없음",
          "chair",
          "의장",
          "무기한"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE sender_type = 'CHAIR'\n                AND (has_deadline = 0 OR deadline IS NULL)\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "마감일 순으로 정렬하여 우선순위가 높은 항목을 먼저 표시합니다.",
        "user": "마감일이 임박한 순서대로 정리된 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "active_time_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "가장 활발한 시간대의 agenda 발송 통계",
          "시간대별 의제 발송 현황",
          "피크 타임 아젠다 통계"
        ],
        "keywords": [
          "시간대",
          "활발",
          "통계",
          "발송"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%H', sent_time) as hour,\n                    COUNT(*) as mail_count\n                FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY hour\n                ORDER BY hour",
        "system": "조건에 맞는 레코드의 개수를 계산합니다.",
        "user": "해당 조건의 총 개수를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "unknown_type_senders_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "UNKNOWN 타입의 발신자 정보",
          "미확인 발송자 목록",
          "UNKNOWN sender 정보"
        ],
        "keywords": [
          "UNKNOWN",
          "미확인",
          "발신자",
          "정보"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a.sender, sender_address, COUNT(*) as mail_count FROM agenda_all a WHERE sender_type = 'UNKNOWN' GROUP BY a.sender, sender_address ORDER BY mail_count DESC",
        "system": "조건에 맞는 레코드의 개수를 계산합니다.",
        "user": "해당 조건의 총 개수를 확인하고 싶습니다."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pending_process_time_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "처리 완료된 pending agenda의 처리 시간",
          "완료된 대기 의제 처리 소요시간",
          "pending 처리 완료 시간"
        ],
        "keywords": [
          "완료",
          "pending",
          "처리시간",
          "소요시간"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.sent_time,\n                    a.decision_status,\n                    julianday('now') - julianday(a.sent_time) as days_pending\n                FROM agenda_all a\n                WHERE a.decision_status IN ('completed', 'pending')\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY days_pending DESC",
        "system": "데이터베이스에서 조건에 맞는 레코드를 검색합니다.",
        "user": "검색 조건에 해당하는 결과를 보고 싶습니다."
      },
      "parameters": [],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "msc_110_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "MSC 110 관련 agenda 찾기",
          "MSC 110 세션 의제",
          "해사안전위원회 110차 아젠다"
        ],
        "keywords": [
          "MSC",
          "110",
          "해사안전위원회"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a WHERE (a.keywords LIKE '%MSC 110%' OR a.subject LIKE '%MSC 110%' OR a.body LIKE '%MSC 110%') AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "발송 시간 순으로 정렬하여 최신 정보를 우선 제공합니다. 키워드 매칭을 통해 관련성 높은 결과를 필터링합니다.",
        "user": "최근에 발송된 순서대로 정리된 목록을 보고 싶습니다. 특정 키워드와 관련된 항목들을 중점적으로 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "routing_type": "sql"
    },
    {
      "template_id": "flexible_time_range_activities_v2",
      "template_version": "1.0.0",
      "template_category": "time_based_query",
      "query_info": {
        "natural_questions": [
          "최근 24시간 이내에 수신한 메일이 있나요?",
          "어제 받은 메일 보여줘",
          "어제 온 메일",
          "오늘 받은 메일",
          "이번주 받은 메일",
          "최근 24시간 이내에 발송한 agenda가 있나요?",
          "어제 보낸 의제",
          "오늘 발송한 아젠다",
          "최근 24시간 이내에 응답한 기관이 있나요?",
          "어제 응답한 조직들",
          "오늘 답변한 기관",
          "어제부터 받은 메일",
          "24시간 내 수신 메일",
          "어제부터 오늘까지 보낸 의제",
          "24시간 내 발송 아젠다",
          "어제부터 답변한 조직",
          "24시간 내 응답 기관"
        ],
        "keywords": [
          "24시간",
          "어제",
          "오늘",
          "받은",
          "보낸",
          "응답",
          "메일",
          "의제",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE a.decision_status IN ('created', 'ongoing', 'comment')\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "지정된 시간 범위 내의 활동(수신/발송/응답)을 조회합니다. activity_type에 따라 적절한 테이블과 조건을 적용합니다.",
        "user": "지정된 기간 동안의 메일/의제 활동 내역을 시간순으로 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "activity_type",
          "type": "string",
          "required": true,
          "default": "received",
          "options": [
            "received",
            "sent",
            "responded"
          ],
          "sql_builder": {
            "type": "custom",
            "placeholder": "{table_name}, {activity_condition}, {time_field}"
          }
        },
        {
          "name": "time_range",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 1
          },
          "sql_builder": {
            "type": "period",
            "field": "dynamic",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 1536
      },
      "expected_response": {
        "description": "지정된 시간 범위와 활동 유형에 따른 메일/의제 목록",
        "sample_size": 10
      },
      "routing_type": "sql"
    },
    {
      "template_id": "flexible_ongoing_deadline_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "진행중인 의제 보여줘",
          "최근 모든 패널에서 진행되고 있는 의제 목록",
          "현재 진행중인 모든 패널의 의제들",
          "모든 패널의 ongoing 의제 리스트",
          "진행 상태인 아젠다",
          "ongoing 상태 의제",
          "오늘 응답해야 하는 agenda",
          "오늘 마감인 의제",
          "금일 답변 필요 아젠다",
          "마감일이 삼일 이내인 agenda",
          "3일 내 마감 의제",
          "긴급 마감 아젠다",
          "마감일이 일주일 이내인 agenda",
          "7일 내 마감 의제",
          "일주일 안에 끝나는 아젠다",
          "마감일 임박한 의제",
          "곧 마감되는 아젠다",
          "마감 예정 의제",
          "응답 기한이 얼마 안남은 아젠다"
        ],
        "keywords": [
          "진행중",
          "의제",
          "ongoing",
          "마감",
          "응답",
          "오늘",
          "삼일",
          "3일",
          "일주일",
          "7일",
          "긴급",
          "임박"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE a.decision_status = 'ongoing'\n                AND {period_condition}\n                ORDER BY \n                    CASE WHEN has_deadline = 1 THEN deadline ELSE DATE('9999-12-31') END ASC,\n                    sent_time DESC",
        "system": "진행중인 의제를 조회합니다. 마감일이 있는 경우 마감일 기준 필터링이 가능하며, 마감일순 또는 발송일순으로 정렬됩니다.",
        "user": "현재 진행중인 의제들을 보고 싶습니다. 마감일이 있는 것과 없는 것 모두 포함하여, 긴급한 순서대로 정리해주세요."
      },
      "parameters": [
        {
          "name": "filter_type",
          "type": "string",
          "required": false,
          "default": "all",
          "options": [
            "all",
            "with_deadline",
            "no_deadline"
          ],
          "sql_builder": {
            "type": "custom",
            "placeholder": "{deadline_filter}, {no_deadline_filter}"
          }
        },
        {
          "name": "deadline_range",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "deadline",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "embedding_config": {
        "model": "text-embedding-3-large",
        "dimension": 3072
      },
      "expected_response": {
        "description": "진행중인 의제 목록을 마감일 우선순위로 정렬하여 제공",
        "sample_size": 20
      },
      "routing_type": "sql"
    },
    {
      "template_id": "_config_v2_5",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "_system_configuration"
        ],
        "keywords": []
      },
      "config": {
        "similarity_threshold": 0.5,
        "description": "Minimum similarity score required for template matching"
      }
    },
    {
      "template_id": "monthly_response_rate_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "각 월별 응답률 통계",
          "월별 응답률 현황",
          "매월 응답률 분석"
        ],
        "keywords": [
          "월별",
          "응답률",
          "통계",
          "monthly",
          "response rate"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y-%m', a.sent_time) as month,\n                    COUNT(DISTINCT a.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE \n                        WHEN arc.agenda_base_version IS NOT NULL AND (\n                            arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.CCS IS NOT NULL OR\n                            arc.ABS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.BV IS NOT NULL\n                        ) THEN a.agenda_code \n                    END) as responded_agendas,\n                    ROUND(CAST(COUNT(DISTINCT CASE \n                        WHEN arc.agenda_base_version IS NOT NULL AND (\n                            arc.KR IS NOT NULL OR arc.NK IS NOT NULL OR arc.CCS IS NOT NULL OR\n                            arc.ABS IS NOT NULL OR arc.DNV IS NOT NULL OR arc.BV IS NOT NULL\n                        ) THEN a.agenda_code \n                    END) AS FLOAT) / COUNT(DISTINCT a.agenda_code) * 100, 2) as response_rate\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.sender_type = 'CHAIR'\n                AND {period_condition}\n                GROUP BY month\n                ORDER BY month DESC",
        "system": "월별로 전체 의제 수 대비 응답된 의제 수의 비율을 계산합니다.",
        "user": "각 월별로 얼마나 많은 의제에 응답이 있었는지 응답률 통계를 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "sender_address_mismatch_v2",
      "template_version": "1.0.0",
      "template_category": "data_quality",
      "query_info": {
        "natural_questions": [
          "sender와 sender_address가 다른 경우",
          "발신자 정보 불일치 건",
          "sender 주소 불일치 데이터"
        ],
        "keywords": [
          "sender",
          "sender_address",
          "다른",
          "불일치",
          "mismatch"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.sender, sender_address, a.subject, a.sent_time FROM agenda_all a WHERE a.sender != sender_address AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "sender와 sender_address 필드가 일치하지 않는 데이터를 찾습니다.",
        "user": "발신자 정보가 일치하지 않는 의제들을 확인하여 데이터 정합성을 점검하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "agenda_version_mismatch_v2",
      "template_version": "1.0.0",
      "template_category": "data_quality",
      "query_info": {
        "natural_questions": [
          "agenda_base와 agenda_version이 다른 경우",
          "의제 번호 버전 불일치",
          "agenda 코드 불일치 건"
        ],
        "keywords": [
          "agenda_base",
          "agenda_version",
          "다른",
          "불일치"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, agenda_base, agenda_version, a.subject, a.sent_time FROM agenda_all a WHERE a.agenda_code != (agenda_base || agenda_version) AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "agenda_code가 agenda_base와 agenda_version의 조합과 일치하지 않는 경우를 찾습니다.",
        "user": "의제 코드의 구성이 올바른지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_updated_responses_v2",
      "template_version": "1.0.0",
      "template_category": "time_based_query",
      "query_info": {
        "natural_questions": [
          "최근 3일간 업데이트된 응답 내용",
          "최근 수정된 응답들",
          "3일 이내 업데이트된 응답"
        ],
        "keywords": [
          "업데이트",
          "응답",
          "3일",
          "최근",
          "수정"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    arc.updated_at,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END ||\n                    CASE WHEN arc.BV IS NOT NULL THEN 'BV ' ELSE '' END as responded_orgs\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE arc.updated_at >= DATE('now', '-3 days')\n                ORDER BY arc.updated_at DESC",
        "system": "최근 3일간 업데이트된 응답 내용을 조회합니다.",
        "user": "최근에 수정되거나 업데이트된 응답들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "pending_by_error_reason_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "error_reason별 pending 건수",
          "오류 사유별 보류 건수",
          "pending 상태 오류 통계"
        ],
        "keywords": [
          "error_reason",
          "pending",
          "건수",
          "오류",
          "통계"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT error_reason, COUNT(*) as count FROM agenda_pending GROUP BY error_reason ORDER BY count DESC",
        "system": "pending 상태인 의제들을 오류 사유별로 집계합니다.",
        "user": "어떤 이유로 의제들이 pending 상태인지 통계를 보고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql"
    },
    {
      "template_id": "latest_status_by_agenda_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "agenda_code별 최신 상태",
          "각 의제의 현재 상태",
          "의제별 최신 상태 정보"
        ],
        "keywords": [
          "agenda_code",
          "최신",
          "상태",
          "현재"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.decision_status, a.deadline, a.sent_time, CASE WHEN a.deadline < DATE('now') AND a.decision_status != 'completed' THEN '마감 지남' ELSE '진행중' END as deadline_status FROM agenda_all a WHERE a.sent_time BETWEEN {period_start} AND {period_end} ORDER BY a.sent_time DESC",
        "system": "각 의제의 최신 상태와 마감일 경과 여부를 확인합니다.",
        "user": "모든 의제들의 현재 상태를 한눈에 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "weekday_agenda_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "요일별 agenda 발송 통계",
          "요일별 의제 발송 현황",
          "주중 의제 발송 패턴"
        ],
        "keywords": [
          "요일",
          "발송",
          "통계",
          "weekday"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE strftime('%w', sent_time)\n                        WHEN '0' THEN '일요일'\n                        WHEN '1' THEN '월요일'\n                        WHEN '2' THEN '화요일'\n                        WHEN '3' THEN '수요일'\n                        WHEN '4' THEN '목요일'\n                        WHEN '5' THEN '금요일'\n                        WHEN '6' THEN '토요일'\n                    END as weekday,\n                    COUNT(*) as agenda_count\n                FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY strftime('%w', sent_time)\n                ORDER BY strftime('%w', sent_time)",
        "system": "요일별로 발송된 의제 수를 집계합니다.",
        "user": "어떤 요일에 의제가 많이 발송되는지 패턴을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "agendas_with_response_org_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "response_org가 지정된 agenda",
          "응답 기관이 지정된 의제",
          "특정 기관 응답 필요 의제"
        ],
        "keywords": [
          "response_org",
          "지정",
          "응답기관"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, response_org, a.deadline, a.sent_time FROM agenda_all a WHERE response_org IS NOT NULL AND response_org != '' AND response_org != 'ALL' AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "특정 기관이 응답해야 하는 것으로 지정된 의제들을 조회합니다.",
        "user": "어떤 의제들이 특정 기관의 응답을 요구하는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "quarterly_agenda_statistics_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_statistics",
      "query_info": {
        "natural_questions": [
          "각 분기별 agenda 발송 현황",
          "분기별 의제 통계",
          "분기별 의제 발송 추이"
        ],
        "keywords": [
          "분기",
          "발송",
          "현황",
          "quarterly"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y', sent_time) || '-Q' || ((CAST(strftime('%m', sent_time) AS INTEGER) - 1) / 3 + 1) as quarter,\n                    COUNT(*) as agenda_count,\n                    COUNT(DISTINCT agenda_panel) as active_panels\n                FROM agenda_all a\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY quarter\n                ORDER BY quarter DESC",
        "system": "분기별로 발송된 의제 수와 활동 패널 수를 집계합니다.",
        "user": "분기별로 의제 발송 현황과 활동 패널 수를 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "latest_response_organization_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "가장 늦게 응답한 조직과 agenda",
          "최근 응답이 늦었던 기관",
          "응답 지연 기관과 의제"
        ],
        "keywords": [
          "늦게",
          "응답",
          "조직",
          "지연"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE\n                        WHEN arc.KR IS NOT NULL THEN 'KR'\n                        WHEN arc.NK IS NOT NULL THEN 'NK'\n                        WHEN arc.CCS IS NOT NULL THEN 'CCS'\n                        WHEN arc.ABS IS NOT NULL THEN 'ABS'\n                        WHEN arc.DNV IS NOT NULL THEN 'DNV'\n                        WHEN arc.BV IS NOT NULL THEN 'BV'\n                        WHEN arc.LR IS NOT NULL THEN 'LR'\n                        WHEN arc.RINA IS NOT NULL THEN 'RINA'\n                        ELSE 'None'\n                    END as last_responder,\n                    arc.updated_at\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY arc.updated_at DESC\n                LIMIT 1",
        "system": "마감일을 넘겨서 응답한 경우를 응답 지연일 순으로 정렬합니다.",
        "user": "어떤 기관이 가장 늦게 응답했는지와 해당 의제 정보를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "response_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "urgent_created_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "마감일 대비 가장 촉박하게 생성된 agenda",
          "긴급 생성된 의제",
          "촉박한 마감일 의제"
        ],
        "keywords": [
          "마감일",
          "촉박",
          "긴급",
          "생성"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE a.decision_status = 'created'\n                AND deadline < DATE('now', '+7 days')\n                AND deadline >= DATE('now')\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "생성일과 마감일 사이의 기간이 7일 미만인 긴급 의제들을 찾습니다.",
        "user": "마감일까지 시간이 촉박하게 생성된 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "iacs_member_count_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "IACS 멤버의 수는?",
          "IACS 회원 기관 수",
          "IACS 구성원 수"
        ],
        "keywords": [
          "IACS",
          "멤버",
          "수",
          "member",
          "count"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT COUNT(DISTINCT organization_code) as member_count FROM (SELECT 'KR' as organization_code UNION SELECT 'BV' UNION SELECT 'CCS' UNION SELECT 'DNV' UNION SELECT 'LR' UNION SELECT 'ABS' UNION SELECT 'NK' UNION SELECT 'RINA' UNION SELECT 'RS' UNION SELECT 'IRS' UNION SELECT 'PRS')",
        "system": "IACS 정회원 선급 기관의 수를 조회합니다.",
        "user": "IACS에 소속된 정회원 선급은 몇 개인지 알고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql"
    },
    {
      "template_id": "iacs_member_list_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "IACS 멤버 구성은 어떻게 되나?",
          "IACS 회원 기관 목록",
          "IACS 구성원 리스트"
        ],
        "keywords": [
          "IACS",
          "멤버",
          "구성",
          "member",
          "list"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT organization_code, organization_name FROM (SELECT 'KR' as organization_code, 'Korean Register' as organization_name UNION SELECT 'BV', 'Bureau Veritas' UNION SELECT 'CCS', 'China Classification Society' UNION SELECT 'DNV', 'DNV' UNION SELECT 'LR', 'Lloyd''s Register' UNION SELECT 'ABS', 'American Bureau of Shipping' UNION SELECT 'NK', 'Nippon Kaiji Kyokai (ClassNK)' UNION SELECT 'RINA', 'RINA' UNION SELECT 'RS', 'Russian Maritime Register of Shipping' UNION SELECT 'IRS', 'Indian Register of Shipping' UNION SELECT 'PRS', 'Polish Register of Shipping') ORDER BY organization_code",
        "system": "IACS 정회원 선급 기관 목록을 조회합니다.",
        "user": "IACS를 구성하는 선급 기관들의 전체 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "iacs_panel_structure_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "IACS의 내부의 패널 구성은 어떻게 되나?",
          "IACS 패널 구조",
          "IACS 내부 조직 구성"
        ],
        "keywords": [
          "IACS",
          "패널",
          "구성",
          "panel",
          "structure"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT panel_code, panel_name, panel_type FROM (\n                    SELECT 'GPG' as panel_code, 'General Policy Group' as panel_name, 'Policy' as panel_type\n                    UNION ALL\n                    SELECT 'MSC' as panel_code, 'Machinery Safety Committee' as panel_name, 'Technical' as panel_type\n                    UNION ALL\n                    SELECT 'HSC' as panel_code, 'Hull Safety Committee' as panel_name, 'Technical' as panel_type\n                    UNION ALL\n                    SELECT 'ESC' as panel_code, 'Environmental Safety Committee' as panel_name, 'Technical' as panel_type\n                    UNION ALL\n                    SELECT 'SDTP' as panel_code, 'Ship Design & Technology Panel' as panel_name, 'Technical' as panel_type\n                )",
        "system": "IACS 내부의 패널 구조와 종류를 조회합니다.",
        "user": "IACS 내부에 어떤 패널들이 있고 어떻게 구성되어 있는지 알고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_participating_panels_v2",
      "template_version": "1.0.0",
      "template_category": "organization_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 참여하는 패널은",
          "한국선급이 활동하는 패널",
          "KR 소속 패널 목록"
        ],
        "keywords": [
          "KR",
          "참여",
          "패널",
          "한국선급"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_panel, \n                    COUNT(*) as agenda_count\n                FROM agenda_all a\n                WHERE (response_org = 'KR' OR response_org = 'ALL' OR sender_organization = 'KR')\n                AND {period_condition}\n                GROUP BY agenda_panel\n                ORDER BY agenda_count DESC",
        "system": "KR이 응답하거나 발신한 의제가 있는 패널들을 활동량과 함께 조회합니다.",
        "user": "한국선급이 어떤 패널에서 활동하고 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_chair_panels_v2",
      "template_version": "1.0.0",
      "template_category": "organization_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 의장으로 있는 패널은?",
          "한국선급이 의장인 패널",
          "KR이 주도하는 패널"
        ],
        "keywords": [
          "KR",
          "의장",
          "chair",
          "한국선급"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_panel, \n                    COUNT(*) as chair_count\n                FROM agenda_all a\n                WHERE sender_organization = 'KR'\n                AND sender_type = 'CHAIR'\n                AND {period_condition}\n                GROUP BY agenda_panel\n                ORDER BY chair_count DESC",
        "system": "KR이 의장 자격으로 발송한 의제가 있는 패널들을 찾습니다.",
        "user": "한국선급이 의장으로 활동하는 패널들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_meetings_list_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 진행된 회의 리스트",
          "최근 회의 목록",
          "recent meeting list"
        ],
        "keywords": [
          "회의",
          "meeting",
          "최근",
          "리스트"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a.agenda_panel, a.subject, a.sent_time FROM agenda_all a WHERE (a.subject LIKE '%meeting%' OR a.subject LIKE '%회의%' OR mail_type = 'meeting') AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "회의 관련 메일이나 의제를 찾아 최근 회의 정보를 추출합니다.",
        "user": "최근에 진행된 회의들의 목록을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_meeting_issues_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 진행된 회의의 주요 이슈 및 결정사항은?",
          "최근 회의 주요 안건과 결정사항",
          "recent meeting decisions"
        ],
        "keywords": [
          "회의",
          "이슈",
          "결정사항",
          "meeting",
          "decision"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_panel, a.subject, a.keywords, a.body FROM agenda_all a WHERE (a.subject LIKE '%meeting%' OR a.subject LIKE '%회의%' OR mail_type = 'meeting') AND (a.body LIKE '%decision%' OR a.body LIKE '%결정%' OR a.body LIKE '%agreed%') AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "회의 관련 메일 중 결정사항이나 합의사항이 포함된 내용을 찾습니다.",
        "user": "최근 회의에서 논의된 주요 이슈와 결정사항을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "ongoing_pt_list_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT 리스트",
          "진행중인 프로젝트팀 목록",
          "active PT list"
        ],
        "keywords": [
          "PT",
          "진행중",
          "프로젝트팀",
          "project team"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT agenda_base as pt_code, COUNT(*) as activity_count, MAX(a.sent_time) as last_activity FROM agenda_all a WHERE agenda_base LIKE 'PT%' AND a.decision_status = 'ongoing' GROUP BY agenda_base ORDER BY last_activity DESC",
        "system": "PT로 시작하는 의제 중 진행중인 프로젝트팀들을 찾습니다.",
        "user": "현재 활동중인 프로젝트팀들의 목록을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "pt_participating_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여기관",
          "프로젝트팀 참여 기관들",
          "PT participating organizations"
        ],
        "keywords": [
          "PT",
          "참여기관",
          "참여",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    org_name,\n                    SUM(response_count) as total_responses\n                FROM (\n                    SELECT 'KR' as org_name, COUNT(*) as response_count\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.KR IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'NK' as org_name, COUNT(*) as response_count\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.NK IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'CCS' as org_name, COUNT(*) as response_count\n                    FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.keywords LIKE '%PT%' AND arc.CCS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                )\n                GROUP BY org_name\n                ORDER BY total_responses DESC",
        "system": "진행중인 PT에 응답한 기관들을 통해 참여 기관을 파악합니다.",
        "user": "각 프로젝트팀에 어떤 기관들이 참여하고 있는지 확인하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "pt_participants_info_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여자 정보 알려줘",
          "프로젝트팀 참여자 명단",
          "PT participant information"
        ],
        "keywords": [
          "PT",
          "참여자",
          "정보",
          "participant"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END as participants\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.keywords LIKE '%PT%'\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "진행중인 PT의 응답자 정보를 통해 참여자를 파악합니다.",
        "user": "프로젝트팀에 참여하는 구체적인 담당자 정보를 알고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "pt_important_content_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 중요 내용은",
          "프로젝트팀 주요 내용",
          "PT important contents"
        ],
        "keywords": [
          "PT",
          "중요",
          "내용",
          "important"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_base as pt_code, a.subject, a.keywords, a.body FROM agenda_all a WHERE agenda_base LIKE 'PT%' AND a.decision_status = 'ongoing' AND (a.keywords LIKE '%important%' OR a.keywords LIKE '%중요%' OR a.keywords LIKE '%critical%') ORDER BY a.sent_time DESC",
        "system": "진행중인 PT의 중요 키워드가 포함된 의제를 찾습니다.",
        "user": "프로젝트팀에서 다루는 중요한 내용들을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pt_list_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT 리스트 알려줘",
          "완료된 프로젝트팀 목록",
          "completed PT list"
        ],
        "keywords": [
          "PT",
          "완료",
          "completed",
          "프로젝트팀"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT agenda_base as pt_code, COUNT(*) as total_activities, MAX(a.sent_time) as updated_at FROM agenda_all a WHERE agenda_base LIKE 'PT%' AND a.decision_status = 'completed' AND {period_condition} GROUP BY agenda_base ORDER BY updated_at DESC",
        "system": "최근 완료된 PT들의 목록을 조회합니다.",
        "user": "최근에 완료된 프로젝트팀들의 목록을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pt_content_v2",
      "template_version": "1.0.0",
      "template_category": "project_team",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 주요 내용 알려줘",
          "완료된 프로젝트팀 결과",
          "completed PT results"
        ],
        "keywords": [
          "PT",
          "완료",
          "주요내용",
          "결과"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT agenda_base as pt_code, a.subject, a.keywords, a.body FROM agenda_all a WHERE agenda_base LIKE 'PT%' AND a.decision_status = 'completed' AND (a.subject LIKE '%final%' OR a.subject LIKE '%complete%' OR a.subject LIKE '%완료%') AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "완료된 PT의 최종 보고서나 완료 관련 의제를 찾습니다.",
        "user": "완료된 프로젝트팀의 주요 성과와 결과를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "keyword_analysis_3months_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "3개월 내 주요 키워드 분석해줘",
          "최근 3개월 키워드 트렌드",
          "3-month keyword analysis"
        ],
        "keywords": [
          "3개월",
          "키워드",
          "분석",
          "analysis"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE a.sent_time >= DATE('now', '-90 days') \n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "최근 3개월간 가장 많이 언급된 키워드들을 빈도순으로 정렬합니다.",
        "user": "최근 3개월간 어떤 주제들이 많이 논의되었는지 키워드 분석을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "keyword_analysis_lastyear_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "작년 주요 키워드 분석해줘",
          "지난해 키워드 트렌드",
          "last year keyword analysis"
        ],
        "keywords": [
          "작년",
          "키워드",
          "분석",
          "지난해"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE strftime('%Y', a.sent_time) = strftime('%Y', 'now', '-1 year')\n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "작년 한 해 동안 가장 많이 언급된 키워드들을 분석합니다.",
        "user": "작년에 어떤 주제들이 주요하게 다뤄졌는지 키워드 분석을 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "keyword_analysis_2025_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "2025년 주요 키워드 분석해줘",
          "2025년 키워드 트렌드",
          "2025 keyword analysis"
        ],
        "keywords": [
          "2025",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE strftime('%Y', a.sent_time) = '2025'\n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "2025년도의 주요 키워드들을 분석합니다.",
        "user": "2025년에 논의되고 있는 주요 키워드들을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "panel_completed_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel} 에서 발행된 의제 중 완료된 의제의 결과",
          "{panel} 패널 완료 의제 결과",
          "{panel} completed agenda results"
        ],
        "keywords": [
          "패널",
          "완료",
          "의제",
          "결과"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.decision_status, a.keywords, a.body \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND a.decision_status = 'completed' \n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "특정 패널에서 완료된 의제들의 결과를 조회합니다.",
        "user": "해당 패널에서 완료된 의제들의 최종 결과를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP, GPG, HM)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_recent_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 에서 논의 되었던 의제 목록",
          "{panel} 패널 최근 의제",
          "recent {panel} agendas"
        ],
        "keywords": [
          "최근",
          "패널",
          "논의",
          "의제"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender_organization, a.decision_status, a.sent_time \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC \n                LIMIT 10",
        "system": "특정 패널의 최근 의제들을 조회합니다.",
        "user": "해당 패널에서 최근에 논의된 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP, GPG, HM)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "org_panel_responses_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {organization}에서 {panel} 에서 응답한 내역",
          "{organization}의 {panel} 패널 응답 기록",
          "{organization} responses in {panel}"
        ],
        "keywords": [
          "응답",
          "패널",
          "내역"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.agenda_panel,\n                    arc.{organization} as response_content\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE arc.{organization} IS NOT NULL\n                AND a.agenda_panel = {panel}\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "특정 기관이 특정 패널에서 응답한 내역을 조회합니다.",
        "user": "해당 기관이 특정 패널에서 어떤 응답을 했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code (e.g., KR, BV, CCS)",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP, GPG, HM)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "r.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "keyword_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_search",
      "query_info": {
        "natural_questions": [
          "최근 논의된 의제들 중에 {keyword} 에 대해서 논의되고 있는 의제",
          "{keyword} 관련 최근 의제",
          "agendas discussing {keyword}"
        ],
        "keywords": [
          "논의",
          "관련",
          "의제"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.agenda_panel, a.keywords, a.sent_time \n                FROM agenda_all a \n                WHERE (a.keywords LIKE '%' || {keyword} || '%' OR a.subject LIKE '%' || {keyword} || '%')\n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "특정 키워드가 포함된 의제들을 검색합니다.",
        "user": "특정 주제에 대해 논의되고 있는 의제들을 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "keyword",
          "type": "string",
          "required": true,
          "description": "Search keyword"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "org_urgent_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{organization}이 긴급하게 응답을 해야 하는 의제",
          "{organization} 긴급 응답 필요 의제",
          "{organization} urgent response required"
        ],
        "keywords": [
          "긴급",
          "응답",
          "urgent"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.*\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.deadline < DATE('now', '+7 days')\n                AND a.decision_status != 'completed'\n                AND (a.response_org = {organization} OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.deadline ASC",
        "system": "특정 기관이 7일 이내 응답해야 하는 긴급 의제를 찾습니다.",
        "user": "마감이 임박한 긴급 응답 필요 의제를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_org_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel} 에서 {organization}이 응답해야 하는 의제",
          "{panel} 패널 {organization} 응답 필요",
          "{organization} response required in {panel}"
        ],
        "keywords": [
          "패널",
          "응답",
          "필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.*\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = {panel}\n                AND (a.response_org = {organization} OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "특정 패널에서 특정 기관이 응답해야 하는 의제를 조회합니다.",
        "user": "특정 패널에서 우리 기관이 응답해야 하는 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_chair_recent_mails_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 의장이 최근 보낸 메일 목록",
          "{panel} 의장 최근 메일",
          "{panel} chair recent emails"
        ],
        "keywords": [
          "의장",
          "메일",
          "chair"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender, a.sent_time \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND a.sender_type = 'CHAIR' \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC \n                LIMIT 10",
        "system": "특정 패널 의장이 발송한 최근 메일을 조회합니다.",
        "user": "패널 의장이 최근에 보낸 메일들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_chair_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 의장이 보낸 메일 중 응답이 필요한 의제 목록",
          "{panel} 의장 응답 요청 메일",
          "{panel} chair response required mails"
        ],
        "keywords": [
          "의장",
          "응답",
          "필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.response_org, a.deadline, a.sent_time \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND a.sender_type = 'CHAIR' \n                AND a.response_org IS NOT NULL \n                AND {period_condition} \n                ORDER BY a.deadline ASC",
        "system": "특정 패널 의장이 응답을 요청한 의제들을 조회합니다.",
        "user": "패널 의장이 응답을 요청한 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_chair_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel} 의장이 보낸 메일의 키워드들 알려줘",
          "{panel} 의장 메일 주요 키워드",
          "{panel} chair mail keywords"
        ],
        "keywords": [
          "의장",
          "키워드",
          "메일"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND a.sender LIKE '%CHAIR%' \n                AND a.keywords IS NOT NULL \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 10",
        "system": "특정 패널 의장이 보낸 메일의 주요 키워드를 분석합니다.",
        "user": "패널 의장이 주로 다루는 주제들을 키워드로 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "meeting_notification_mails_recent_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 회의 개최관련 해서 알림을 준 메일",
          "최근 회의 공지 메일",
          "recent meeting notification emails"
        ],
        "keywords": [
          "회의",
          "개최",
          "알림",
          "meeting",
          "notification"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.agenda_panel, a.subject, a.sender, a.sent_time FROM agenda_all a WHERE (a.subject LIKE '%meeting%' OR a.subject LIKE '%회의%') AND (a.subject LIKE '%notice%' OR a.subject LIKE '%notification%' OR a.subject LIKE '%알림%' OR a.subject LIKE '%공지%' OR a.subject LIKE '%개최%') AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "회의 개최 알림이나 공지가 포함된 메일을 찾습니다.",
        "user": "최근 회의 일정이나 개최 공지 메일을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "chair_recent_mail_content_v2",
      "template_version": "1.0.0",
      "template_category": "chair_communication",
      "query_info": {
        "natural_questions": [
          "최근 의장이 보낸 메일 내용 줘",
          "의장 최근 메일 내용",
          "chair recent mail content"
        ],
        "keywords": [
          "의장",
          "메일",
          "내용",
          "chair"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_panel, a.agenda_code, a.subject, a.body, a.sender, a.sent_time \n                FROM agenda_all a \n                WHERE a.sender_type = 'CHAIR' \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC \n                LIMIT 10",
        "system": "모든 패널의 의장이 보낸 최근 메일 내용을 조회합니다.",
        "user": "의장들이 최근에 보낸 메일의 구체적인 내용을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_org_response_rate_v2",
      "template_version": "1.0.0",
      "template_category": "panel_statistics",
      "query_info": {
        "natural_questions": [
          "최근 발행한 의제 중 {panel} 패널에서 {organization} 응답율",
          "{panel} 패널 {organization} 응답률",
          "{organization} response rate in {panel}"
        ],
        "keywords": [
          "응답율",
          "응답률",
          "패널",
          "response rate"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    {organization} as organization,\n                    COUNT(DISTINCT a.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.{organization} IS NOT NULL THEN a.agenda_code END) as responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.{organization} IS NOT NULL THEN a.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT a.agenda_code) * 100, 2) as response_rate\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = {panel}\n                AND a.sender_type = 'CHAIR'\n                AND {period_condition}",
        "system": "특정 패널에서 특정 기관의 응답률을 계산합니다.",
        "user": "특정 패널에서 우리 기관의 응답률을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_org_response_rate_yearly_v2",
      "template_version": "1.0.0",
      "template_category": "panel_statistics",
      "query_info": {
        "natural_questions": [
          "올해 발행한 의제 중 {panel} 패널에서 {organization} 응답율",
          "올해 {panel} 패널 {organization} 응답률",
          "this year {organization} response rate in {panel}"
        ],
        "keywords": [
          "올해",
          "응답율",
          "패널",
          "yearly"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y', a.sent_time) as year,\n                    COUNT(DISTINCT a.agenda_code) as total_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.{organization} IS NOT NULL THEN a.agenda_code END) as responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.{organization} IS NOT NULL THEN a.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT a.agenda_code) * 100, 2) as response_rate\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = {panel}\n                AND a.sender_type = 'CHAIR'\n                AND {period_condition}\n                GROUP BY year\n                ORDER BY year DESC",
        "system": "올해 특정 패널에서 특정 기관의 응답률을 계산합니다.",
        "user": "올해 특정 패널에서 우리 기관의 응답률을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_recent_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 {panel} 패널에서 논의되었던 의제의 주요 키워드 출력 해줘",
          "{panel} 패널 최근 주요 키워드",
          "{panel} panel recent keywords"
        ],
        "keywords": [
          "패널",
          "키워드",
          "최근",
          "주요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND a.keywords IS NOT NULL \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 10",
        "system": "특정 패널에서 최근 논의된 주요 키워드를 분석합니다.",
        "user": "특정 패널에서 최근 어떤 주제들이 주로 논의되는지 키워드로 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "org_no_response_with_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "최근 마감되지 않거나 {organization}이 응답하지 않은 의제 중에서 의장에 첨부파일을 송부한 의제",
          "{organization} 미응답 의제 중 첨부파일 있는 것",
          "no response from {organization} with attachments"
        ],
        "keywords": [
          "미응답",
          "첨부파일",
          "의장",
          "attachment"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.*\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = {organization} OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND a.hasAttachments = 1\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "의장이 첨부파일과 함께 보낸 의제 중 특정 기관이 미응답한 것을 찾습니다.",
        "user": "의장이 첨부파일과 함께 보낸 의제 중 우리가 아직 응답하지 않은 것을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "specific_agenda_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제가 현재 진행 중인가?",
          "{agenda} 의제 현재 상태는?",
          "is {agenda} ongoing?"
        ],
        "keywords": [
          "의제",
          "진행중",
          "상태",
          "status"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_code,\n                    subject,\n                    decision_status,\n                    deadline,\n                    sent_time,\n                    sender_organization\n                FROM agenda_all a\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제 코드의 현재 상태를 조회합니다.",
        "user": "특정 의제가 현재 어떤 상태인지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code (e.g., PL25016, UR14523a)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "org_response_required_with_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{organization}이 응답해야하는 의제 중 의장이 보낸 메일이 첨부가 있는지 확인",
          "{organization} 응답 필요 의제 중 의장 첨부파일",
          "chair mails with attachments requiring {organization} response"
        ],
        "keywords": [
          "응답",
          "의장",
          "첨부",
          "attachment"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.*\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = {organization} OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.{organization} IS NULL)\n                AND a.hasAttachments = 1\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "특정 기관이 응답해야 하는 의제 중 의장이 첨부파일과 함께 보낸 것을 찾습니다.",
        "user": "의장이 보낸 메일 중 우리가 응답해야 하는 것들에 첨부파일이 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "default": "KR",
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "agenda_has_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에 첨부파일이 있어?",
          "{agenda}에서 첨부 파일이 있나?",
          "does {agenda} have attachments?"
        ],
        "keywords": [
          "첨부파일",
          "attachment",
          "첨부"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE a.agenda_code = {agenda}\n                AND hasAttachments = 1",
        "system": "특정 의제의 첨부파일 유무를 확인합니다.",
        "user": "특정 의제에 첨부파일이 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_organization_opinion_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 {organization}의 의견은?",
          "{agenda}에서 {organization} 의견은 뭐지?",
          "what is {organization}'s opinion on {agenda}?"
        ],
        "keywords": [
          "의견",
          "opinion",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    arc.{organization} as opinion\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}\n                AND arc.{organization} IS NOT NULL",
        "system": "특정 의제에 대한 특정 기관의 응답 의견을 조회합니다.",
        "user": "특정 의제에 대해 특정 기관이 어떤 의견을 제시했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_related_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}과 관련된 다른 의제들 검토해 줄래?",
          "{agenda} 연관 의제",
          "related agendas to {agenda}"
        ],
        "keywords": [
          "관련",
          "연관",
          "related"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords, a2.sent_time \n                FROM agenda_all a1 \n                JOIN agenda_all a2 ON a1.keywords = a2.keywords \n                WHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND {period_condition} \n                ORDER BY a2.sent_time DESC",
        "system": "특정 의제와 키워드나 제목이 유사한 관련 의제들을 찾습니다.",
        "user": "특정 의제와 관련된 다른 의제들을 찾아서 검토하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a2.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_org_opinion_agreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 {organization} 의견에 동의한 기관과 근거는?",
          "{agenda}에서 {organization} 의견 동의 기관",
          "organizations agreeing with {organization} on {agenda}"
        ],
        "keywords": [
          "동의",
          "agree",
          "찬성"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE \n                        WHEN arc2.KR IS NOT NULL THEN 'KR' \n                        WHEN arc2.NK IS NOT NULL THEN 'NK' \n                        WHEN arc2.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'Other' \n                    END as organization,\n                    COUNT(*) as count\n                FROM agenda_all a1\n                JOIN agenda_responses_content arc1 ON a1.agenda_base_version = arc1.agenda_base_version\n                JOIN agenda_all a2 ON a1.keywords = a2.keywords\n                JOIN agenda_responses_content arc2 ON a2.agenda_base_version = arc2.agenda_base_version\n                WHERE a1.agenda_code = {agenda}\n                AND arc1.{organization} IS NOT NULL\n                AND a2.agenda_code != {agenda}\n                GROUP BY organization",
        "system": "특정 의제에서 특정 기관 의견에 동의하거나 지지를 표명한 다른 기관들을 찾습니다.",
        "user": "특정 기관의 의견에 어떤 기관들이 동의했는지와 그 근거를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_org_opinion_disagreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 {organization} 의견에 동의하지 않은 기관과 근거는?",
          "{agenda}에서 {organization} 의견 반대 기관",
          "organizations disagreeing with {organization} on {agenda}"
        ],
        "keywords": [
          "동의하지않",
          "disagree",
          "반대"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE \n                        WHEN arc2.KR IS NOT NULL THEN 'KR' \n                        WHEN arc2.NK IS NOT NULL THEN 'NK' \n                        WHEN arc2.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'Other' \n                    END as organization,\n                    COUNT(*) as count\n                FROM agenda_all a1\n                JOIN agenda_responses_content arc1 ON a1.agenda_base_version = arc1.agenda_base_version\n                JOIN agenda_all a2 ON a1.keywords = a2.keywords\n                JOIN agenda_responses_content arc2 ON a2.agenda_base_version = arc2.agenda_base_version\n                WHERE a1.agenda_code = {agenda}\n                AND arc1.{organization} IS NOT NULL\n                AND a2.agenda_code != {agenda}\n                AND arc1.{organization} != arc2.{organization}\n                GROUP BY organization",
        "system": "특정 의제에서 특정 기관 의견에 반대하거나 우려를 표명한 다른 기관들을 찾습니다.",
        "user": "특정 기관의 의견에 어떤 기관들이 반대했는지와 그 근거를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "organization",
          "type": "string",
          "required": true,
          "description": "Organization code",
          "mcp_format": "extracted_organization",
          "validation": [
            "KR",
            "NK",
            "CCS",
            "ABS",
            "DNV",
            "BV",
            "LR",
            "RINA",
            "RS",
            "IRS",
            "PRS",
            "CRS",
            "TL",
            "IMO",
            "IACS",
            "MULTILATERAL",
            "Chair"
          ]
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_multiple_org_opinions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 여러 기관의 의견은?",
          "{agenda} 복수 기관 의견",
          "multiple organizations' opinions on {agenda}"
        ],
        "keywords": [
          "의견",
          "여러",
          "multiple"
        ]
      },
      "target_scope": {
        "scope_type": "more",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK: ' || SUBSTR(arc.NK, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS: ' || SUBSTR(arc.CCS, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS: ' || SUBSTR(arc.ABS, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV: ' || SUBSTR(arc.DNV, 1, 100) || '\n' ELSE '' END ||\n                    CASE WHEN arc.BV IS NOT NULL THEN 'BV: ' || SUBSTR(arc.BV, 1, 100) ELSE '' END as all_opinions\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제에 대한 여러 기관의 의견을 조회합니다.",
        "user": "특정 의제에 대해 여러 기관들이 어떤 의견을 제시했는지 비교하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "organizations",
          "type": "array",
          "required": true,
          "description": "List of organization codes",
          "sql_builder": {
            "type": "in",
            "field": "sender_organization",
            "placeholder": "{organizations}"
          }
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}",
            "Fixed placeholder: {organizations}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_fastest_responder_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 회신을 가장 빠른 기관의 의견은?",
          "{agenda} 최초 응답 기관",
          "fastest responder to {agenda}"
        ],
        "keywords": [
          "가장빠른",
          "최초",
          "fastest"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE\n                        WHEN art.KR <= COALESCE(art.NK, 999999) AND art.KR <= COALESCE(art.CCS, 999999) \n                             AND art.KR IS NOT NULL THEN 'KR'\n                        WHEN art.NK <= COALESCE(art.KR, 999999) AND art.NK <= COALESCE(art.CCS, 999999) \n                             AND art.NK IS NOT NULL THEN 'NK'\n                        WHEN art.CCS <= COALESCE(art.KR, 999999) AND art.CCS <= COALESCE(art.NK, 999999) \n                             AND art.CCS IS NOT NULL THEN 'CCS'\n                        ELSE 'None'\n                    END as fastest_responder,\n                    CASE\n                        WHEN art.KR <= COALESCE(art.NK, 999999) AND art.KR <= COALESCE(art.CCS, 999999) \n                             AND art.KR IS NOT NULL THEN julianday(art.KR) - julianday(a.sent_time)\n                        WHEN art.NK <= COALESCE(art.KR, 999999) AND art.NK <= COALESCE(art.CCS, 999999) \n                             AND art.NK IS NOT NULL THEN julianday(art.NK) - julianday(a.sent_time)\n                        WHEN art.CCS <= COALESCE(art.KR, 999999) AND art.CCS <= COALESCE(art.NK, 999999) \n                             AND art.CCS IS NOT NULL THEN julianday(art.CCS) - julianday(a.sent_time)\n                        ELSE NULL\n                    END as response_days\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제에 가장 먼저 응답한 기관과 그 의견을 조회합니다.",
        "user": "어떤 기관이 가장 빨리 응답했고 어떤 의견을 제시했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 키워드는?",
          "{agenda} 주요 키워드",
          "keywords for {agenda}"
        ],
        "keywords": [
          "키워드",
          "keyword"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_code,\n                    subject,\n                    keywords\n                FROM agenda_all a\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제의 키워드를 조회합니다.",
        "user": "특정 의제의 주요 키워드를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_response_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 응답들의 주요 키워드는",
          "{agenda} 응답 키워드",
          "response keywords for {agenda}"
        ],
        "keywords": [
          "응답",
          "키워드",
          "response"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    a.keywords,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 200) as response_excerpt\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제에 대한 응답들의 주요 키워드를 집계합니다.",
        "user": "특정 의제에 대한 응답들에서 어떤 키워드들이 많이 언급되었는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_keywords_related_panel_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}의 주요 키워드와 연관된 {panel}에서의 아젠다가 있는가?",
          "{agenda} 키워드 관련 {panel} 의제",
          "panel agendas related to {agenda} keywords"
        ],
        "keywords": [
          "키워드",
          "연관",
          "패널"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords \n                FROM agenda_all a1 \n                JOIN agenda_all a2 ON a1.keywords = a2.keywords AND a1.agenda_panel = a2.agenda_panel\n                WHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND {period_condition}\n                ORDER BY a2.sent_time DESC",
        "system": "특정 의제의 키워드와 관련된 특정 패널의 다른 의제들을 찾습니다.",
        "user": "특정 의제의 키워드가 다른 패널에서도 논의되고 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_kr_opinion_agreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 KR의 의견에 동의한 이슈와 기관은",
          "{agenda} KR 동의 기관",
          "organizations agreeing with KR on {agenda}"
        ],
        "keywords": [
          "KR",
          "동의",
          "이슈"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    'KR Opinion: ' || SUBSTR(arc.KR, 1, 200) as kr_opinion,\n                    CASE WHEN arc.NK LIKE '%agree%' OR arc.NK LIKE '%support%' THEN 'NK agrees' ELSE '' END ||\n                    CASE WHEN arc.CCS LIKE '%agree%' OR arc.CCS LIKE '%support%' THEN ' CCS agrees' ELSE '' END ||\n                    CASE WHEN arc.ABS LIKE '%agree%' OR arc.ABS LIKE '%support%' THEN ' ABS agrees' ELSE '' END as agreements\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}\n                AND arc.KR IS NOT NULL",
        "system": "특정 의제에서 KR의 의견에 동의한 기관들과 이슈를 찾습니다.",
        "user": "우리(KR)의 의견에 어떤 기관들이 동의했고 어떤 이슈에 대해 동의했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_kr_opinion_disagreements_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 KR의 의견에 반대한 기관과 이슈는 무엇인가?",
          "{agenda} KR 반대 기관",
          "organizations opposing KR on {agenda}"
        ],
        "keywords": [
          "KR",
          "반대",
          "이슈"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    'KR Opinion: ' || SUBSTR(arc.KR, 1, 200) as kr_opinion,\n                    CASE WHEN arc.NK LIKE '%disagree%' OR arc.NK LIKE '%oppose%' THEN 'NK disagrees' ELSE '' END ||\n                    CASE WHEN arc.CCS LIKE '%disagree%' OR arc.CCS LIKE '%oppose%' THEN ' CCS disagrees' ELSE '' END ||\n                    CASE WHEN arc.ABS LIKE '%disagree%' OR arc.ABS LIKE '%oppose%' THEN ' ABS disagrees' ELSE '' END as disagreements\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}\n                AND arc.KR IS NOT NULL",
        "system": "특정 의제에서 KR의 의견에 반대한 기관들과 이슈를 찾습니다.",
        "user": "우리(KR)의 의견에 어떤 기관들이 반대했고 어떤 이슈에 대해 반대했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_ur_related_responses_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "최근 {agenda}에서 UR과 관련된 아젠다나 기관의 응답이 있었나?",
          "{agenda} UR 관련 응답",
          "UR-related responses in {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 200) as response_excerpt\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}\n                AND (a.keywords LIKE '%UR%' OR a.subject LIKE '%UR%')",
        "system": "특정 의제에서 UR(Uniform Requirement)과 관련된 응답을 찾습니다.",
        "user": "특정 의제에서 UR과 관련된 내용이 논의되었는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "recent_eg_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "최근 아젠다나 응답 중에서 EG와 관련된 내용이 있나",
          "최근 EG 관련 내용",
          "recent EG-related content"
        ],
        "keywords": [
          "EG",
          "Expert Group",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    'agenda' as source_type, \n                    agenda_code, \n                    subject, \n                    keywords, \n                    sent_time \n                FROM agenda_all \n                WHERE (keywords LIKE '%EG%' OR subject LIKE '%Expert Group%')\n                AND {period_condition}\n                \n                UNION ALL\n                \n                SELECT \n                    'chair' as source_type,\n                    agenda_code,\n                    subject,\n                    keywords,\n                    created_at as sent_time\n                FROM agenda_chair\n                WHERE (keywords LIKE '%EG%' OR subject LIKE '%Expert Group%')\n                AND created_at >= DATE('now', '-30 days')\n                \n                ORDER BY sent_time DESC",
        "system": "최근 의제와 응답에서 EG(Expert Group) 관련 내용을 찾습니다.",
        "user": "최근에 Expert Group과 관련된 논의가 있었는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_future_work_discussions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "최근 논의된 내용 중 향후 작업 하기로 했던 내용이 있나?",
          "향후 작업 계획",
          "future work commitments"
        ],
        "keywords": [
          "향후",
          "작업",
          "future",
          "work"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.sent_time FROM agenda_all a WHERE (a.body LIKE '%future work%' OR a.body LIKE '%향후 작업%' OR a.body LIKE '%to be developed%' OR a.body LIKE '%추후 개발%' OR a.body LIKE '%next meeting%' OR a.body LIKE '%다음 회의%') AND {period_condition} ORDER BY a.sent_time DESC",
        "system": "향후 작업 계획이나 약속이 포함된 최근 논의를 찾습니다.",
        "user": "최근에 향후 작업하기로 합의한 내용들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "agenda_issue_organization_opinions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 아젠다의 중요 이슈들에 대해서 각각 이슈를 분리하고 각 기관들의 의견 취합해줘",
          "{agenda} 이슈별 기관 의견",
          "organization opinions by issue for {agenda}"
        ],
        "keywords": [
          "이슈",
          "의견",
          "취합"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.keywords,\n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR: ' || SUBSTR(arc.KR, 1, 100)\n                        ELSE ''\n                    END ||\n                    CASE \n                        WHEN arc.NK IS NOT NULL THEN ' NK: ' || SUBSTR(arc.NK, 1, 100)\n                        ELSE ''\n                    END ||\n                    CASE \n                        WHEN arc.CCS IS NOT NULL THEN ' CCS: ' || SUBSTR(arc.CCS, 1, 100)\n                        ELSE ''\n                    END as opinions\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}\n                AND a.keywords LIKE '%' || {issue} || '%'",
        "system": "특정 의제의 이슈별로 각 기관의 의견을 정리합니다.",
        "user": "특정 의제의 주요 이슈들에 대해 각 기관이 어떤 의견을 가지고 있는지 이슈별로 정리해서 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_main_issues_related_list_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}의 아젠다에서 주요 이슈와 관련된 아젠다 리스트를 제공해줘",
          "{agenda} 이슈 관련 의제 목록",
          "agendas related to {agenda} main issues"
        ],
        "keywords": [
          "주요이슈",
          "관련",
          "리스트"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_code, a2.subject, a2.keywords, a2.agenda_panel \n                FROM agenda_all a1 \n                JOIN agenda_all a2 ON a1.keywords = a2.keywords \n                WHERE a1.agenda_code = {agenda} \n                AND a2.agenda_code != {agenda} \n                AND {period_condition}\n                ORDER BY a2.sent_time DESC",
        "system": "특정 의제의 주요 이슈와 관련된 다른 의제들을 찾습니다.",
        "user": "특정 의제의 주요 이슈가 다른 의제에서도 논의되고 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a2.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_ur_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 UR과 관련된 내용이 있냐?",
          "{agenda} UR 관련 내용",
          "UR-related content in {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.keywords FROM agenda_all a WHERE a.agenda_code = 'PLACEHOLDER_AGENDA' AND (a.body LIKE '%UR%' OR a.keywords LIKE '%UR%' OR a.subject LIKE '%Uniform Requirement%')",
        "system": "특정 의제에서 UR 관련 내용을 찾습니다.",
        "user": "특정 의제에 UR과 관련된 내용이 포함되어 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_imo_related_content_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 IMO관련된 내용이 있나?",
          "{agenda} IMO 관련 내용",
          "IMO-related content in {agenda}"
        ],
        "keywords": [
          "IMO",
          "관련",
          "내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.body, a.keywords FROM agenda_all a WHERE a.agenda_code = 'PLACEHOLDER_AGENDA' AND (a.body LIKE '%IMO%' OR a.keywords LIKE '%IMO%' OR a.subject LIKE '%International Maritime Organization%')",
        "system": "특정 의제에서 IMO 관련 내용을 찾습니다.",
        "user": "특정 의제에 IMO와 관련된 내용이 포함되어 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_completion_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제는 현재 종료되었는가?",
          "{agenda} 완료 여부",
          "is {agenda} completed?"
        ],
        "keywords": [
          "종료",
          "완료",
          "completed"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_code,\n                    subject,\n                    decision_status,\n                    CASE \n                        WHEN decision_status = 'completed' THEN 'Completed'\n                        WHEN decision_status = 'decision' THEN 'Decision Made'\n                        ELSE 'In Progress'\n                    END as status\n                FROM agenda_all a\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제의 완료 여부를 확인합니다.",
        "user": "특정 의제가 종료되었는지 현재 상태를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_important_issues_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda} 아젠다의 중요 이슈는 뭐지?",
          "{agenda} 주요 이슈",
          "important issues of {agenda}"
        ],
        "keywords": [
          "중요",
          "이슈",
          "important"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.keywords, a.body FROM agenda_all a WHERE (a.agenda_code = 'PLACEHOLDER_AGENDA' OR agenda_base = 'PLACEHOLDER_AGENDA') AND (a.keywords LIKE '%important%' OR a.keywords LIKE '%중요%' OR a.keywords LIKE '%critical%' OR a.keywords LIKE '%핵심%')",
        "system": "특정 의제의 중요 이슈를 키워드와 내용에서 찾습니다.",
        "user": "특정 의제에서 다루는 중요한 이슈들이 무엇인지 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_previous_discussions_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 이전에 논의된 적이 있나?",
          "{agenda} 이전 논의 이력",
          "previous discussions of {agenda}"
        ],
        "keywords": [
          "이전",
          "논의",
          "previous"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.decision_status FROM agenda_all a WHERE agenda_base = SUBSTR('PLACEHOLDER_AGENDA', 1, LENGTH('PLACEHOLDER_AGENDA')-1) AND a.agenda_code < 'PLACEHOLDER_AGENDA' ORDER BY a.agenda_code DESC",
        "system": "동일한 의제 베이스의 이전 버전들을 찾아 논의 이력을 확인합니다.",
        "user": "이 의제가 이전에도 논의된 적이 있는지 이력을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_other_panels_discussion_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 다른 패널에서 논의되고 있는 패널이 있나?",
          "{agenda} 타패널 논의",
          "other panels discussing {agenda} topics"
        ],
        "keywords": [
          "다른패널",
          "논의",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_panel, COUNT(DISTINCT a2.agenda_code) as agenda_count \n                FROM agenda_all a1 \n                JOIN agenda_all a2 ON a1.keywords = a2.keywords \n                WHERE a1.agenda_code = {agenda} \n                AND a2.agenda_panel != a1.agenda_panel \n                GROUP BY a2.agenda_panel \n                ORDER BY agenda_count DESC",
        "system": "특정 의제와 유사한 키워드를 가진 다른 패널들을 찾습니다.",
        "user": "이 의제와 관련된 주제가 다른 패널에서도 논의되고 있는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_other_panels_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 다른 패널에서 논의되고 있는 아젠다가 있나?",
          "{agenda} 타패널 의제",
          "other panel agendas related to {agenda}"
        ],
        "keywords": [
          "다른패널",
          "아젠다",
          "관련"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT DISTINCT a2.agenda_panel, a2.agenda_code, a2.subject, a2.keywords \n                FROM agenda_all a1 \n                JOIN agenda_all a2 ON a1.keywords = a2.keywords \n                WHERE a1.agenda_code = {agenda} \n                AND a2.agenda_panel != a1.agenda_panel \n                AND {period_condition}\n                ORDER BY a2.sent_time DESC",
        "system": "특정 의제와 유사한 키워드를 가진 다른 패널의 의제들을 찾습니다.",
        "user": "이 의제와 관련된 주제를 다루는 다른 패널의 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_kr_response_check_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "{agenda} 의제에서 KR이 응답을 하였는가?",
          "{agenda} KR 응답 여부",
          "did KR respond to {agenda}?"
        ],
        "keywords": [
          "KR",
          "응답",
          "여부"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.deadline,\n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'Responded' \n                        ELSE 'No Response' \n                    END as kr_status,\n                    arc.KR as kr_response\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제에 KR이 응답했는지 확인합니다.",
        "user": "특정 의제에 우리(KR)가 응답했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "response_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "panel_ongoing_responded_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "진행 중인 의제에서 {panel}에서 현재 응답을 한 기관은?",
          "{panel} 진행중 의제 응답 기관",
          "organizations that responded to ongoing {panel} agendas"
        ],
        "keywords": [
          "진행중",
          "응답",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE WHEN arc.KR IS NOT NULL THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NOT NULL THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NOT NULL THEN 'CCS ' ELSE '' END ||\n                    CASE WHEN arc.ABS IS NOT NULL THEN 'ABS ' ELSE '' END ||\n                    CASE WHEN arc.DNV IS NOT NULL THEN 'DNV ' ELSE '' END as responded_orgs\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = {panel}\n                AND a.decision_status = 'ongoing'\n                AND arc.agenda_base_version IS NOT NULL\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "특정 패널의 진행중인 의제에 응답한 기관들을 조회합니다.",
        "user": "특정 패널에서 진행중인 의제들에 어떤 기관들이 응답했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_no_response_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 현재 응답을 아직 하지 않은 기관은?",
          "{panel} 미응답 기관",
          "organizations not responding in {panel}"
        ],
        "keywords": [
          "미응답",
          "아직",
          "기관"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.deadline,\n                    'Waiting: ' ||\n                    CASE WHEN arc.KR IS NULL AND (a.response_org = 'KR' OR a.response_org = 'ALL') THEN 'KR ' ELSE '' END ||\n                    CASE WHEN arc.NK IS NULL AND (a.response_org = 'NK' OR a.response_org = 'ALL') THEN 'NK ' ELSE '' END ||\n                    CASE WHEN arc.CCS IS NULL AND (a.response_org = 'CCS' OR a.response_org = 'ALL') THEN 'CCS ' ELSE '' END as no_response_orgs\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = {panel}\n                AND a.sender_type = 'CHAIR'\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.deadline ASC",
        "system": "특정 패널의 진행중인 의제에 응답하지 않은 기관들을 찾습니다.",
        "user": "특정 패널에서 아직 응답하지 않은 기관들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "agenda_responses_analysis_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda} 지금까지 응답한 의견을 분석해줘",
          "{agenda} 응답 분석",
          "analyze responses to {agenda}"
        ],
        "keywords": [
          "응답",
          "의견",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 500) as response_content,\n                    arc.updated_at\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제에 대한 모든 응답을 분석하여 각 기관의 입장을 파악합니다.",
        "user": "특정 의제에 대한 지금까지의 모든 응답을 종합적으로 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "mail_content_agenda_comparison_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "메일 내용이 {agenda}에서 지금까지 응답한 의견과 동일한 부분 상반되는 부분 검토해줘",
          "{agenda} 의견 비교 분석",
          "compare mail content with {agenda} responses"
        ],
        "keywords": [
          "비교",
          "동일",
          "상반"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    CASE \n                        WHEN arc.KR IS NOT NULL THEN 'KR' \n                        WHEN arc.NK IS NOT NULL THEN 'NK' \n                        WHEN arc.CCS IS NOT NULL THEN 'CCS' \n                        ELSE 'None' \n                    END as responder,\n                    a.body as mail_content,\n                    SUBSTR(COALESCE(arc.KR, arc.NK, arc.CCS), 1, 500) as response_content\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제의 기존 응답들과 새로운 내용을 비교 분석합니다.",
        "user": "새로운 메일 내용이 기존 응답들과 어떻게 다른지 비교 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "keyword",
          "type": "string",
          "required": false,
          "description": "Keywords from mail content to compare"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_description_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에 대해서 설명해줘",
          "{agenda} 설명",
          "describe {agenda}"
        ],
        "keywords": [
          "설명",
          "describe",
          "정보"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_code,\n                    subject,\n                    body,\n                    keywords,\n                    decision_status\n                FROM agenda_all a\n                WHERE a.agenda_code = {agenda}",
        "system": "특정 의제의 전체 정보를 조회합니다.",
        "user": "특정 의제에 대한 전반적인 정보를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "recent_progress_status_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "최근 진행 현황은?",
          "최근 활동 현황",
          "recent progress status"
        ],
        "keywords": [
          "최근",
          "진행",
          "현황"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_panel, COUNT(DISTINCT a.agenda_code) as agenda_count, COUNT(DISTINCT CASE WHEN a.decision_status = 'ongoing' THEN a.agenda_code END) as ongoing_count, COUNT(DISTINCT CASE WHEN a.decision_status = 'completed' THEN a.agenda_code END) as completed_count FROM agenda_all a WHERE a.sent_time BETWEEN {period_start} AND {period_end} GROUP BY a.agenda_panel ORDER BY agenda_count DESC",
        "system": "최근 각 패널별 진행 현황을 집계합니다.",
        "user": "최근 전체적인 진행 현황을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_opinion_based_reply_draft_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "지난 KR의 의견을 바탕으로 {agenda}에 대한 회신 메일을 작성해줘",
          "KR 의견 기반 {agenda} 회신",
          "draft reply for {agenda} based on KR opinions"
        ],
        "keywords": [
          "KR",
          "의견",
          "회신",
          "작성"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code, \n                    a.subject, \n                    COALESCE(arc.KR, arc.NK, arc.CCS) as existing_responses, \n                    a.keywords, \n                    arc.updated_at \n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_code = {agenda}\n                AND {period_condition}",
        "system": "KR의 이전 의견들을 조회하여 회신 작성의 기초 자료로 활용합니다.",
        "user": "우리(KR)의 이전 의견을 참고하여 일관성 있는 회신을 작성하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "upcoming_meetings_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "향후 예정된 회의 알려줘",
          "예정된 회의 일정",
          "upcoming meetings"
        ],
        "keywords": [
          "향후",
          "예정",
          "회의",
          "upcoming"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_panel, a.subject, a.body, a.sent_time FROM agenda_all a WHERE (a.subject LIKE '%meeting%' OR a.subject LIKE '%회의%') AND (a.body LIKE '%scheduled%' OR a.body LIKE '%planned%' OR a.body LIKE '%예정%' OR a.body LIKE '%개최%') AND a.deadline > DATE('now') ORDER BY a.deadline ASC",
        "system": "향후 예정된 회의 정보를 찾습니다.",
        "user": "앞으로 예정된 회의 일정을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "eg_work_in_panel_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 진행된 EG 작업 알려줘",
          "{panel} EG 작업 현황",
          "EG work in {panel}"
        ],
        "keywords": [
          "EG",
          "작업",
          "Expert Group"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.keywords, a.sent_time, a.decision_status \n                FROM agenda_all a \n                WHERE a.agenda_panel = {panel} \n                AND (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "특정 패널에서 진행된 Expert Group 관련 작업을 찾습니다.",
        "user": "특정 패널의 EG 작업 현황을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "eg_main_progress_in_panel_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 진행된 EG의 주요 진행 사항에 대해서 설명해줘",
          "{panel} EG 주요 진행사항",
          "main EG progress in {panel}"
        ],
        "keywords": [
          "EG",
          "진행사항",
          "Expert Group",
          "progress"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.decision_status,\n                    COUNT(CASE WHEN arc.KR IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.NK IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.CCS IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.ABS IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.DNV IS NOT NULL THEN 1 END) +\n                    COUNT(CASE WHEN arc.BV IS NOT NULL THEN 1 END) as response_count\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = {panel}\n                AND (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                AND {period_condition}\n                GROUP BY a.agenda_code, a.subject, a.decision_status\n                ORDER BY response_count DESC, a.sent_time DESC",
        "system": "특정 패널의 EG 주요 진행사항과 응답 현황을 조회합니다.",
        "user": "특정 패널에서 진행된 EG의 주요 진행 상황을 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code (e.g., SDTP)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "eg_participating_orgs_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "{panel}에서 {eg_organization}에 참여한 기관은?",
          "{panel} {eg_organization} 참여 기관",
          "organizations in {eg_organization} at {panel}"
        ],
        "keywords": [
          "참여",
          "기관",
          "EG"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": []
      },
      "sql_template": {
        "query": "SELECT \n                    org_name,\n                    COUNT(*) as participation_count\n                FROM (\n                    SELECT 'KR' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                    AND arc.KR IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'NK' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                    AND arc.NK IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                    \n                    UNION ALL\n                    \n                    SELECT 'CCS' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE (a.keywords LIKE '%EG%' OR a.subject LIKE '%Expert Group%')\n                    AND arc.CCS IS NOT NULL \n                    AND a.sent_time BETWEEN {period_start} AND {period_end}\n                )\n                GROUP BY org_name\n                ORDER BY participation_count DESC",
        "system": "특정 패널의 특정 EG에 참여한 기관들을 찾습니다.",
        "user": "특정 Expert Group에 어떤 기관들이 참여했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "panel",
          "type": "string",
          "required": true,
          "description": "Panel code"
        },
        {
          "name": "eg_organization",
          "type": "string",
          "required": true,
          "description": "EG organization name"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {eg_organization}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_meeting_attendance_by_date_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 날짜별 회의에 참석할 수 있는 기관과 참석할 수 없는 기관을 정리해줘",
          "{agenda} 날짜별 참석 가능 기관",
          "meeting attendance by date for {agenda}"
        ],
        "keywords": [
          "날짜별",
          "참석",
          "회의"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.sent_time as meeting_date,\n                    a.agenda_code,\n                    a.subject,\n                    (CASE WHEN arc.KR IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.NK IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.CCS IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.ABS IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.DNV IS NOT NULL THEN 1 ELSE 0 END +\n                     CASE WHEN arc.BV IS NOT NULL THEN 1 ELSE 0 END) as attendance_count\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.mail_type = 'NOTIFICATION'\n                AND a.subject LIKE '%meeting%'\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "특정 의제의 회의 참석 가능 여부를 기관별로 정리합니다.",
        "user": "특정 의제의 회의에 어떤 기관이 참석 가능한지 정리하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_meeting_attendance_by_org_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 기관별 회의 참석 가능여부 정리해줘",
          "{agenda} 기관별 참석 현황",
          "meeting attendance by organization for {agenda}"
        ],
        "keywords": [
          "기관별",
          "참석",
          "가능여부"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    org_name,\n                    COUNT(*) as meetings_attended\n                FROM (\n                    SELECT 'KR' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.mail_type = 'NOTIFICATION' AND a.subject LIKE '%meeting%'\n                    AND arc.KR IS NOT NULL AND {period_condition}\n                    \n                    UNION ALL\n                    \n                    SELECT 'NK' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.mail_type = 'NOTIFICATION' AND a.subject LIKE '%meeting%'\n                    AND arc.NK IS NOT NULL AND {period_condition}\n                    \n                    UNION ALL\n                    \n                    SELECT 'CCS' as org_name FROM agenda_all a\n                    INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                    WHERE a.mail_type = 'NOTIFICATION' AND a.subject LIKE '%meeting%'\n                    AND arc.CCS IS NOT NULL AND {period_condition}\n                )\n                GROUP BY org_name\n                ORDER BY meetings_attended DESC",
        "system": "특정 의제의 기관별 회의 참석 가능 여부를 집계합니다.",
        "user": "각 기관이 회의에 참석 가능한지 한눈에 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_org_request_to_others_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 다른 기관에 답변을 요구한 기관이 있는가?",
          "{agenda} 답변 요구 기관",
          "organizations requesting responses in {agenda}"
        ],
        "keywords": [
          "답변",
          "요구",
          "request"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    arc.{organization} as org_request,\n                    CASE \n                        WHEN arc.{organization} LIKE '%request%' OR arc.{organization} LIKE '%ask%' \n                        THEN 'Has Request' \n                        ELSE 'No Request' \n                    END as request_status\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE arc.{organization} IS NOT NULL\n                AND (arc.{organization} LIKE '%request%' OR arc.{organization} LIKE '%ask%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "특정 의제에서 다른 기관에 답변이나 설명을 요구한 내용을 찾습니다.",
        "user": "특정 의제에서 기관 간 답변 요구가 있었는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "agenda_clarification_requests_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_analysis",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 다른 기관에 답변 또는 명확화를 요구하는 내용이 있나?",
          "{agenda} 명확화 요구 사항",
          "clarification requests in {agenda}"
        ],
        "keywords": [
          "명확화",
          "clarification",
          "답변요구"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE WHEN arc.KR LIKE '%clarif%' THEN 'KR requests clarification' ELSE '' END ||\n                    CASE WHEN arc.NK LIKE '%clarif%' THEN ' NK requests clarification' ELSE '' END ||\n                    CASE WHEN arc.CCS LIKE '%clarif%' THEN ' CCS requests clarification' ELSE '' END as clarification_requests\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (arc.KR LIKE '%clarif%' OR arc.NK LIKE '%clarif%' OR arc.CCS LIKE '%clarif%')\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "특정 의제에서 명확화나 추가 설명을 요구한 내용을 찾습니다.",
        "user": "특정 의제에서 기관 간 명확화 요구가 있었는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "panel_keywords_3months_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "3개월 내 주요 키워드 분석해줘",
          "최근 3개월 주요 키워드",
          "3-month keyword analysis"
        ],
        "keywords": [
          "3개월",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count \n                FROM agenda_all a \n                WHERE a.sent_time >= DATE('now', '-90 days') \n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "최근 3개월간 가장 많이 언급된 키워드를 분석합니다.",
        "user": "최근 3개월 동안 어떤 키워드가 자주 논의되었는지 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_keywords_lastyear_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "작년 주요 키워드 분석해줘",
          "작년도 키워드 현황",
          "last year keyword analysis"
        ],
        "keywords": [
          "작년",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count,\n                    COUNT(DISTINCT a.agenda_code) as agenda_count\n                FROM agenda_all a \n                WHERE strftime('%Y', a.sent_time) = strftime('%Y', 'now', '-1 year')\n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "작년 한 해 동안 가장 많이 언급된 키워드를 분석합니다.",
        "user": "작년에 어떤 키워드가 주요하게 다뤄졌는지 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_keywords_2025_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "2025년 주요 키워드 분석해줘",
          "2025년도 키워드 현황",
          "2025 keyword analysis"
        ],
        "keywords": [
          "2025년",
          "키워드",
          "분석"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count,\n                    COUNT(DISTINCT a.agenda_code) as agenda_count\n                FROM agenda_all a \n                WHERE strftime('%Y', a.sent_time) = '2025'\n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "2025년도의 주요 키워드를 분석합니다.",
        "user": "2025년에 논의되고 있는 주요 키워드를 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "panel_keywords_by_year_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "{year}년 주요 키워드 분석해줘",
          "{year}년도 키워드 현황",
          "{year} keyword analysis"
        ],
        "keywords": [
          "키워드",
          "분석",
          "연도별"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.keywords, \n                    COUNT(*) as frequency, \n                    COUNT(DISTINCT a.agenda_panel) as panel_count,\n                    GROUP_CONCAT(DISTINCT a.agenda_panel) as panels\n                FROM agenda_all a \n                WHERE strftime('%Y', a.sent_time) = strftime('%Y', 'now')\n                AND a.keywords IS NOT NULL \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY a.keywords \n                ORDER BY frequency DESC \n                LIMIT 20",
        "system": "특정 연도의 주요 키워드를 분석합니다.",
        "user": "특정 연도에 어떤 키워드가 주요하게 다뤄졌는지 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "year",
          "type": "string",
          "required": true,
          "description": "Year (e.g., 2024, 2025)"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "tech_trend_analysis_llm_v2",
      "template_version": "1.0.0",
      "template_category": "llm_direct_response",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 현재 기술개발 동향 분석해줘",
          "{agenda} 기술개발 동향",
          "technology trend for {agenda}"
        ],
        "keywords": [
          "기술개발",
          "동향",
          "분석"
        ]
      },
      "routing_info": {
        "route_to": "llm_direct",
        "reason": "기술 동향 분석은 LLM의 지식을 활용한 직접 응답이 적합합니다"
      },
      "target_scope": {
        "scope_type": "analysis",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by LLM direct response, not SQL",
        "system": "LLM이 직접 기술개발 동향을 분석하여 응답합니다.",
        "user": "특정 의제와 관련된 현재 기술개발 동향을 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "keyword_tech_trend_llm_v2",
      "template_version": "1.0.0",
      "template_category": "llm_direct_response",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련해서 기술개발 동향 분석해줘",
          "{keywords} 기술 동향",
          "technology trend for {keywords}"
        ],
        "keywords": [
          "기술개발",
          "동향",
          "keyword"
        ]
      },
      "routing_info": {
        "route_to": "llm_direct",
        "reason": "기술 동향 분석은 LLM의 지식을 활용한 직접 응답이 적합합니다"
      },
      "target_scope": {
        "scope_type": "analysis",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by LLM direct response, not SQL",
        "system": "LLM이 직접 키워드 관련 기술개발 동향을 분석하여 응답합니다.",
        "user": "특정 키워드와 관련된 기술개발 동향을 분석하고 싶습니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to analyze",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "tech_background_llm_v2",
      "template_version": "1.0.0",
      "template_category": "llm_direct_response",
      "query_info": {
        "natural_questions": [
          "{keyword}에 대한 기술 배경이 뭐지?",
          "{keyword} 기술 배경",
          "technical background of {keyword}"
        ],
        "keywords": [
          "기술",
          "배경",
          "background"
        ]
      },
      "routing_info": {
        "route_to": "llm_direct",
        "reason": "기술 배경 설명은 LLM의 지식을 활용한 직접 응답이 적합합니다"
      },
      "target_scope": {
        "scope_type": "explanation",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by LLM direct response, not SQL",
        "system": "LLM이 직접 기술 배경을 설명합니다.",
        "user": "특정 키워드의 기술적 배경을 이해하고 싶습니다."
      },
      "parameters": [
        {
          "name": "keyword",
          "type": "string",
          "required": true,
          "description": "Keyword to explain"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "agenda_ur_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 UR에 관련된 내용이 뭐지?",
          "{agenda} UR 관련 내용",
          "UR content related to {agenda}"
        ],
        "keywords": [
          "UR",
          "관련",
          "내용"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "UR 관련 keyword 추출",
        "reason": "UR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP, not SQL",
        "system": "VectorDB에서 UR 관련 문서를 검색합니다.",
        "user": "특정 의제와 관련된 UR 내용을 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "keywords_ur_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련해서 UR에 관련된 내용이 뭐가 있지?",
          "{keywords} UR 관련 내용",
          "UR content related to {keywords}"
        ],
        "keywords": [
          "UR",
          "관련",
          "keywords"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "UR 관련 keyword 추출",
        "reason": "UR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP, not SQL",
        "system": "VectorDB에서 키워드와 관련된 UR 문서를 검색합니다.",
        "user": "특정 키워드와 관련된 UR 내용을 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to search",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "agenda_pr_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{agenda}와 관련해서 PR에 관련된 내용이 뭐지?",
          "{agenda} PR 관련 내용",
          "PR content related to {agenda}"
        ],
        "keywords": [
          "PR",
          "관련",
          "내용"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PR 관련 keyword 추출",
        "reason": "PR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP, not SQL",
        "system": "VectorDB에서 PR 관련 문서를 검색합니다.",
        "user": "특정 의제와 관련된 PR 내용을 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "keywords_pr_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{keywords} 관련해서 PR에 관련된 내용이 뭐가 있지?",
          "{keywords} PR 관련 내용",
          "PR content related to {keywords}"
        ],
        "keywords": [
          "PR",
          "관련",
          "keywords"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PR 관련 keyword 추출",
        "reason": "PR 규정 문서는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP, not SQL",
        "system": "VectorDB에서 키워드와 관련된 PR 문서를 검색합니다.",
        "user": "특정 키워드와 관련된 PR 내용을 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to search",
          "mcp_format": "extracted_keywords"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "agenda_similar_panel_discussion_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "{agenda}에서 다른 패널에서 유사한 논의가 진행된적 있는지?",
          "{agenda} 타패널 유사 논의",
          "similar discussions in other panels for {agenda}"
        ],
        "keywords": [
          "유사",
          "논의",
          "다른패널"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "reason": "의미적 유사성 검색은 VectorDB가 적합합니다"
      },
      "target_scope": {
        "scope_type": "similarity_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for semantic similarity search",
        "system": "VectorDB에서 유사한 논의를 의미적으로 검색합니다.",
        "user": "다른 패널에서 유사한 주제로 논의된 내용을 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "autonomous_ship_agenda_search_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "자율운항선박에 대해서 논의되고 있는 {agenda} 검색해줘",
          "자율운항선박 관련 {agenda}",
          "autonomous ship related {agenda}"
        ],
        "keywords": [
          "자율운항선박",
          "autonomous",
          "MASS"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "자율운항선박 관련 keyword 추출",
        "reason": "주제별 의미적 검색은 VectorDB가 적합합니다"
      },
      "target_scope": {
        "scope_type": "topic_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for topic-based search",
        "system": "VectorDB에서 자율운항선박 관련 의제를 검색합니다.",
        "user": "자율운항선박과 관련된 의제를 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": false,
          "description": "Specific agenda pattern"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "remote_ship_agenda_search_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "원격운항선박에 대해서 논의되고 있는 {agenda} 검색해줘",
          "원격운항선박 관련 {agenda}",
          "remote ship related {agenda}"
        ],
        "keywords": [
          "원격운항선박",
          "remote",
          "원격제어"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "원격운항선박 관련 keyword 추출",
        "reason": "주제별 의미적 검색은 VectorDB가 적합합니다"
      },
      "target_scope": {
        "scope_type": "topic_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for topic-based search",
        "system": "VectorDB에서 원격운항선박 관련 의제를 검색합니다.",
        "user": "원격운항선박과 관련된 의제를 찾고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": false,
          "description": "Specific agenda pattern"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "ongoing_pt_list_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT 리스트",
          "진행중 PT 목록",
          "ongoing PT list"
        ],
        "keywords": [
          "PT",
          "진행중",
          "Project Team"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 정보는 VectorDB의 문서에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for PT information",
        "system": "VectorDB에서 진행 중인 PT 정보를 검색합니다.",
        "user": "현재 진행 중인 Project Team 목록을 확인하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql"
    },
    {
      "template_id": "ongoing_pt_participants_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여기관",
          "진행중 PT 참여 기관",
          "participating organizations in ongoing PT"
        ],
        "keywords": [
          "PT",
          "참여기관",
          "진행중"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 참여기관 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for PT participant information",
        "system": "VectorDB에서 PT 참여기관 정보를 검색합니다.",
        "user": "진행 중인 PT에 참여하는 기관들을 확인하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql"
    },
    {
      "template_id": "ongoing_pt_members_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 참여자 정보 알려줘",
          "진행중 PT 참여자",
          "PT member information"
        ],
        "keywords": [
          "PT",
          "참여자",
          "member"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 참여자 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for PT member information",
        "system": "VectorDB에서 PT 참여자 정보를 검색합니다.",
        "user": "진행 중인 PT의 참여자 명단을 확인하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql"
    },
    {
      "template_id": "ongoing_pt_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "현재 진행 중인 PT의 중요 내용은",
          "진행중 PT 주요 내용",
          "important content of ongoing PT"
        ],
        "keywords": [
          "PT",
          "중요내용",
          "주요"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "PT 내용은 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for PT content",
        "system": "VectorDB에서 PT의 중요 내용을 검색합니다.",
        "user": "진행 중인 PT의 주요 작업 내용을 확인하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pt_list_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT 리스트 알려줘",
          "완료된 PT 목록",
          "recently completed PT list"
        ],
        "keywords": [
          "PT",
          "완료",
          "최근"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for completed PT information",
        "system": "VectorDB에서 완료된 PT 정보를 검색합니다.",
        "user": "최근 완료된 Project Team 목록을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pt_content_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 주요 내용 알려줘",
          "완료 PT 주요 내용",
          "main content of completed PT"
        ],
        "keywords": [
          "PT",
          "완료",
          "주요내용"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 내용은 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for completed PT content",
        "system": "VectorDB에서 완료된 PT의 주요 내용을 검색합니다.",
        "user": "완료된 PT의 주요 성과와 내용을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pt_participants_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 참여 기관 알려줘",
          "완료 PT 참여 기관",
          "participating organizations in completed PT"
        ],
        "keywords": [
          "PT",
          "완료",
          "참여기관"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 참여기관 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for completed PT participants",
        "system": "VectorDB에서 완료된 PT의 참여기관 정보를 검색합니다.",
        "user": "완료된 PT에 참여했던 기관들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "completed_pt_members_vectordb_v2",
      "template_version": "1.0.0",
      "template_category": "vectordb_search",
      "query_info": {
        "natural_questions": [
          "최근 완료된 PT의 참여자 정보 알려줘",
          "완료 PT 참여자",
          "member information of completed PT"
        ],
        "keywords": [
          "PT",
          "완료",
          "참여자"
        ]
      },
      "routing_info": {
        "route_to": "vectordb",
        "keyword_extraction": "PT 관련 keyword 추출",
        "reason": "완료된 PT 참여자 정보는 VectorDB에서 검색해야 합니다"
      },
      "target_scope": {
        "scope_type": "document_search",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "-- This query should be handled by VectorDB MCP for completed PT members",
        "system": "VectorDB에서 완료된 PT의 참여자 정보를 검색합니다.",
        "user": "완료된 PT의 참여자 명단을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "sender_address_mismatch_detail_v2",
      "template_version": "1.0.0",
      "template_category": "data_quality",
      "query_info": {
        "natural_questions": [
          "sender와 sender_address가 다른 경우",
          "발신자 주소 불일치",
          "sender address mismatch cases"
        ],
        "keywords": [
          "sender",
          "address",
          "다른"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.sender, sender_address, a.subject, a.sent_time FROM agenda_all a WHERE a.sender != sender_address ORDER BY a.sent_time DESC",
        "system": "sender와 sender_address가 일치하지 않는 경우를 찾습니다.",
        "user": "발신자와 발신자 주소가 다른 경우를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "latest_responder_org_v2",
      "template_version": "1.0.0",
      "template_category": "response_analysis",
      "query_info": {
        "natural_questions": [
          "가장 늦게 응답한 조직과 agenda",
          "최지각 응답 기관",
          "latest responder organization"
        ],
        "keywords": [
          "늦게",
          "응답",
          "조직"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    CASE\n                        WHEN art.KR IS NOT NULL THEN 'KR'\n                        WHEN art.NK IS NOT NULL THEN 'NK'\n                        WHEN art.CCS IS NOT NULL THEN 'CCS'\n                        WHEN art.ABS IS NOT NULL THEN 'ABS'\n                        ELSE 'None'\n                    END as last_responder,\n                    art.updated_at\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_receivedtime art ON a.agenda_base_version = art.agenda_base_version\n                WHERE a.sent_time BETWEEN {period_start} AND {period_end}\n                AND art.updated_at IS NOT NULL\n                ORDER BY art.updated_at DESC\n                LIMIT 1",
        "system": "의제 발송 후 가장 늦게 응답한 기관과 해당 의제를 찾습니다.",
        "user": "어떤 기관이 가장 늦게 응답했는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "urgent_deadline_agendas_v2",
      "template_version": "1.0.0",
      "template_category": "deadline_analysis",
      "query_info": {
        "natural_questions": [
          "마감일 대비 가장 촉박하게 생성된 agenda",
          "촉박한 마감일 의제",
          "urgent deadline agendas"
        ],
        "keywords": [
          "마감일",
          "촉박",
          "urgent"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE a.deadline < DATE('now', '+3 days')\n                AND deadline >= DATE('now')\n                AND decision_status != 'completed'\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "발송일부터 마감일까지 기간이 가장 짧은 의제들을 찾습니다.",
        "user": "마감일이 촉박하게 설정된 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "iacs_member_composition_v2",
      "template_version": "1.0.0",
      "template_category": "organization_info",
      "query_info": {
        "natural_questions": [
          "IACS 멤버 구성은 어떻게 되나?",
          "IACS 회원 목록",
          "IACS member composition"
        ],
        "keywords": [
          "IACS",
          "멤버",
          "구성"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT organization_code, organization_name FROM (SELECT 'KR' as organization_code, 'Korean Register' as organization_name UNION SELECT 'BV', 'Bureau Veritas' UNION SELECT 'CCS', 'China Classification Society' UNION SELECT 'DNV', 'DNV' UNION SELECT 'LR', 'Lloyd''s Register' UNION SELECT 'ABS', 'American Bureau of Shipping' UNION SELECT 'NK', 'Nippon Kaiji Kyokai' UNION SELECT 'RINA', 'Registro Italiano Navale' UNION SELECT 'RS', 'Russian Maritime Register' UNION SELECT 'IRS', 'Indian Register of Shipping' UNION SELECT 'PRS', 'Polish Register of Shipping' UNION SELECT 'TL', 'Türk Loydu') ORDER BY organization_code",
        "system": "IACS 정회원 목록을 조회합니다.",
        "user": "IACS 회원 기관들의 구성을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql"
    },
    {
      "template_id": "sdtp_completed_agenda_results_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "SDTP에서 발행된 의제 중 완료된 의제의 결과",
          "SDTP 완료 의제 결과",
          "SDTP completed agenda results"
        ],
        "keywords": [
          "SDTP",
          "완료",
          "결과"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code, \n                    a.subject, \n                    a.decision_status, \n                    a.sent_time as updated_at, \n                    '' as result_summary\n                FROM agenda_all a \n                WHERE a.agenda_panel = 'SDTP' \n                AND a.decision_status = 'completed' \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "SDTP 패널에서 완료된 의제들의 결과를 조회합니다.",
        "user": "SDTP에서 완료된 의제들의 결과를 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_sdtp_agenda_list_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 SDTP에서 논의되었던 의제 목록",
          "최근 SDTP 의제 목록",
          "recent SDTP agenda list"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "의제목록"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.decision_status \n                FROM agenda_all a \n                WHERE a.agenda_panel = 'SDTP' \n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "최근 30일간 SDTP에서 논의된 의제들을 조회합니다.",
        "user": "최근 SDTP에서 논의된 의제 목록을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_kr_sdtp_responses_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "최근 KR에서 SDTP에서 응답한 내역",
          "최근 KR SDTP 응답",
          "recent KR responses in SDTP"
        ],
        "keywords": [
          "최근",
          "KR",
          "SDTP",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, arc.updated_at, a.agenda_panel FROM agenda_responses_content arc JOIN agenda_all a ON a.agenda_code = a.agenda_code WHERE CASE WHEN arc.KR IS NOT NULL THEN 'KR' WHEN arc.NK IS NOT NULL THEN 'NK' WHEN arc.CCS IS NOT NULL THEN 'CCS' WHEN arc.ABS IS NOT NULL THEN 'ABS' WHEN arc.DNV IS NOT NULL THEN 'DNV' WHEN arc.BV IS NOT NULL THEN 'BV' WHEN arc.LR IS NOT NULL THEN 'LR' WHEN arc.RINA IS NOT NULL THEN 'RINA' WHEN arc.IRS IS NOT NULL THEN 'RS' WHEN arc.IRS IS NOT NULL THEN 'IRS' WHEN arc.PRS IS NOT NULL THEN 'PRS' WHEN arc.CRS IS NOT NULL THEN 'CRS' WHEN arc.TL IS NOT NULL THEN 'TL' WHEN arc.IL IS NOT NULL THEN 'IL' ELSE NULL END = 'KR' AND a.agenda_panel = 'SDTP' AND arc.updated_at >= DATE('now', '-30 days') ORDER BY arc.updated_at DESC",
        "system": "최근 30일간 KR이 SDTP에서 응답한 내역을 조회합니다.",
        "user": "최근 KR이 SDTP 패널에서 응답한 내용을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_response_required_issues_summary_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "KR이 응답해야하는 의제에서 의제들의 주요 이슈 및 다른 기관의 의견 정리",
          "KR 응답 필요 의제 이슈 정리",
          "KR response required issues summary"
        ],
        "keywords": [
          "KR",
          "응답해야",
          "이슈",
          "의견정리"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.subject,\n                    a.keywords,\n                    a.deadline,\n                    a.decision_status\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = 'KR' OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND {period_condition}\n                ORDER BY a.deadline ASC",
        "system": "KR이 응답해야 하는 의제들의 주요 이슈와 다른 기관들의 의견을 정리합니다.",
        "user": "KR이 응답해야 하는 의제들의 주요 이슈와 다른 기관들의 의견을 한눈에 보고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_response_required_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 응답해야하는 의제들의 주요 키워드",
          "KR 응답 필요 의제 키워드",
          "keywords for KR response required agendas"
        ],
        "keywords": [
          "KR",
          "응답해야",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org LIKE '%KR%' OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND a.keywords IS NOT NULL \n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                GROUP BY a.keywords \n                ORDER BY frequency DESC",
        "system": "KR이 응답해야 하는 의제들의 주요 키워드를 분석합니다.",
        "user": "KR이 응답해야 하는 의제들에서 자주 나타나는 키워드를 파악하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_responses_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "KR이 응답해야 하는 의제들의 회신 중 주요 키워드",
          "KR 응답 의제 회신 키워드",
          "keywords in responses to KR required agendas"
        ],
        "keywords": [
          "KR",
          "응답",
          "회신",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code,\n                    a.keywords,\n                    SUBSTR(arc.KR, 1, 200) as kr_response\n                FROM agenda_all a\n                INNER JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE arc.KR IS NOT NULL\n                AND a.keywords IS NOT NULL\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC",
        "system": "KR이 응답해야 하는 의제들에 대한 회신들의 주요 키워드를 분석합니다.",
        "user": "KR이 응답해야 하는 의제들에 대해 다른 기관들이 회신한 내용의 주요 키워드를 파악하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_keywords_discussion_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_search",
      "query_info": {
        "natural_questions": [
          "최근 논의된 의제들 중에 {keywords}에 대해서 논의되고 있는 의제",
          "최근 {keywords} 관련 논의 의제",
          "recent agendas discussing {keywords}"
        ],
        "keywords": [
          "최근",
          "논의",
          "keywords"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT * FROM agenda_all a\n                WHERE (\n                    CASE \n                        WHEN COALESCE(COALESCE({keywords}, ''), 'test') = '' THEN a.keywords IS NOT NULL\n                        ELSE a.keywords LIKE '%' || COALESCE(COALESCE({keywords}, ''), 'test') || '%'\n                    END\n                )\n                AND {period_condition}\n                ORDER BY a.sent_time DESC",
        "system": "최근 30일간 특정 키워드가 논의된 의제들을 찾습니다.",
        "user": "최근에 특정 키워드와 관련하여 논의되고 있는 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "keywords",
          "type": "array",
          "required": true,
          "description": "Keywords to search",
          "sql_builder": {
            "type": "keyword_search",
            "fields": [
              "subject",
              "keywords",
              "body"
            ],
            "placeholder": "{keyword_conditions}"
          },
          "mcp_format": "extracted_keywords"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_urgent_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "KR이 긴급하게 응답을 해야 하는 의제",
          "KR 긴급 응답 필요",
          "KR urgent response required"
        ],
        "keywords": [
          "KR",
          "긴급",
          "응답"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    a.agenda_code, \n                    a.subject, \n                    a.deadline, \n                    julianday(a.deadline) - julianday('now') as days_remaining\n                FROM agenda_all a \n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE (a.response_org = 'KR' OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND a.deadline >= DATE('now')\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.deadline ASC",
        "system": "KR이 7일 이내에 응답해야 하는 긴급 의제들을 찾습니다.",
        "user": "KR이 긴급하게 응답해야 하는 의제들을 확인하고 싶습니다."
      },
      "parameters": [],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "sdtp_kr_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "SDTP에서 KR이 응답해야 하는 의제",
          "SDTP KR 응답 필요 의제",
          "SDTP agendas requiring KR response"
        ],
        "keywords": [
          "SDTP",
          "KR",
          "응답해야"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.deadline \n                FROM agenda_all a \n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = 'SDTP' \n                AND (a.response_org = 'KR' OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND {period_condition} \n                ORDER BY a.deadline ASC",
        "system": "SDTP 패널에서 KR이 응답해야 하는 의제들을 조회합니다.",
        "user": "SDTP에서 KR이 응답해야 하는 의제들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_sdtp_chair_mails_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 SDTP 의장이 최근 보낸 메일 목록",
          "최근 SDTP 의장 메일",
          "recent SDTP chair mails"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "의장",
          "메일"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender, a.sent_time \n                FROM agenda_all a \n                WHERE a.agenda_panel = 'SDTP' \n                AND (a.sender LIKE '%CHAIR%' OR a.sender_type = 'CHAIR')\n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "최근 30일간 SDTP 의장이 보낸 메일들을 조회합니다.",
        "user": "최근 SDTP 의장이 보낸 메일 목록을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "sdtp_chair_response_required_v2",
      "template_version": "1.0.0",
      "template_category": "panel_specific",
      "query_info": {
        "natural_questions": [
          "최근 SDTP 의장이 보낸 메일 중 응답이 필요한 의제 목록",
          "SDTP 의장 메일 응답 필요",
          "SDTP chair mails requiring response"
        ],
        "keywords": [
          "SDTP",
          "의장",
          "응답필요"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sent_time, a.response_org \n                FROM agenda_all a \n                WHERE a.agenda_panel = 'SDTP' \n                AND a.sender_type = 'CHAIR' \n                AND a.response_org IS NOT NULL \n                AND {period_condition} \n                ORDER BY a.sent_time DESC",
        "system": "SDTP 의장이 보낸 메일 중 응답이 필요한 의제들을 조회합니다.",
        "user": "SDTP 의장이 보낸 메일 중 응답이 필요한 것들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "sdtp_chair_mail_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "SDTP 의장이 보낸 메일의 키워드들 알려줘",
          "SDTP 의장 메일 키워드",
          "SDTP chair mail keywords"
        ],
        "keywords": [
          "SDTP",
          "의장",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE a.agenda_panel = 'SDTP' \n                AND (a.sender LIKE '%CHAIR%' OR a.sender_type = 'CHAIR')\n                AND a.keywords IS NOT NULL \n                AND {period_condition} \n                GROUP BY a.keywords \n                ORDER BY frequency DESC",
        "system": "SDTP 의장이 보낸 메일들의 주요 키워드를 분석합니다.",
        "user": "SDTP 의장이 주로 어떤 주제로 메일을 보내는지 키워드를 통해 파악하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_meeting_notification_mails_v2",
      "template_version": "1.0.0",
      "template_category": "meeting_info",
      "query_info": {
        "natural_questions": [
          "최근 회의 개최관련 해서 알림을 준 메일",
          "최근 회의 알림 메일",
          "recent meeting notification mails"
        ],
        "keywords": [
          "회의",
          "개최",
          "알림"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender, a.sent_time FROM agenda_all a WHERE (a.subject LIKE '%meeting%' OR a.subject LIKE '%회의%') AND (a.subject LIKE '%notice%' OR a.subject LIKE '%notification%' OR a.subject LIKE '%알림%' OR a.subject LIKE '%개최%') AND a.sent_time >= DATE('now', '-30 days') ORDER BY a.sent_time DESC",
        "system": "최근 30일간 회의 개최 관련 알림 메일들을 조회합니다.",
        "user": "최근 회의 개최 알림 메일들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_chair_mail_content_v2",
      "template_version": "1.0.0",
      "template_category": "mail_content",
      "query_info": {
        "natural_questions": [
          "최근 의장이 보낸 메일 내용 줘",
          "최근 의장 메일 내용",
          "recent chair mail content"
        ],
        "keywords": [
          "최근",
          "의장",
          "메일내용"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender, a.body, a.sent_time \n                FROM agenda_all a \n                WHERE (a.sender LIKE '%CHAIR%' OR a.sender_type = 'CHAIR')\n                AND a.sent_time BETWEEN {period_start} AND {period_end}\n                ORDER BY a.sent_time DESC \n                LIMIT 10",
        "system": "최근 7일간 의장이 보낸 메일 내용을 조회합니다.",
        "user": "최근 의장이 보낸 메일의 내용을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_response_rate_sdtp_recent_v2",
      "template_version": "1.0.0",
      "template_category": "statistics",
      "query_info": {
        "natural_questions": [
          "최근 발행한 의제 중 SDTP 패널에서 한국선급 응답율",
          "최근 SDTP KR 응답률",
          "recent KR response rate in SDTP"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "한국선급",
          "응답률"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT \n                    COUNT(DISTINCT a.agenda_code) as total_sdtp_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN a.agenda_code END) as kr_responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN a.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT a.agenda_code) * 100, 2) as kr_response_rate\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = 'SDTP'\n                AND a.sender_type = 'CHAIR'\n                AND a.sent_time >= DATE('now', '-30 days')",
        "system": "최근 30일간 SDTP에서 발행된 의제에 대한 KR의 응답률을 계산합니다.",
        "user": "최근 SDTP에서 KR의 응답률을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_response_rate_sdtp_period_v2",
      "template_version": "1.0.0",
      "template_category": "statistics",
      "query_info": {
        "natural_questions": [
          "{period} 발행한 의제 중 SDTP 패널에서 한국선급 응답율",
          "{period} SDTP KR 응답률",
          "KR response rate in SDTP for {period}"
        ],
        "keywords": [
          "기간",
          "SDTP",
          "한국선급",
          "응답률"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT \n                    COUNT(DISTINCT a.agenda_code) as total_sdtp_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN a.agenda_code END) as kr_responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN a.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT a.agenda_code) * 100, 2) as kr_response_rate\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = 'SDTP'\n                AND a.sender_type = 'CHAIR'\n                AND {period_condition}",
        "system": "특정 기간 동안 SDTP에서 발행된 의제에 대한 KR의 응답률을 계산합니다.",
        "user": "특정 기간 동안 SDTP에서 KR의 응답률을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": true,
          "sql_builder": {
            "type": "period",
            "field": "a.sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_response_rate_sdtp_yearly_v2",
      "template_version": "1.0.0",
      "template_category": "statistics",
      "query_info": {
        "natural_questions": [
          "올해 발행한 의제 중 SDTP 패널에서 한국선급 응답율",
          "올해 SDTP KR 응답률",
          "this year KR response rate in SDTP"
        ],
        "keywords": [
          "올해",
          "SDTP",
          "한국선급",
          "응답률"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT \n                    strftime('%Y', a.sent_time) as year,\n                    COUNT(DISTINCT a.agenda_code) as total_sdtp_agendas,\n                    COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN a.agenda_code END) as kr_responded,\n                    ROUND(CAST(COUNT(DISTINCT CASE WHEN arc.KR IS NOT NULL THEN a.agenda_code END) AS FLOAT) / \n                          COUNT(DISTINCT a.agenda_code) * 100, 2) as kr_response_rate\n                FROM agenda_all a\n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.agenda_panel = 'SDTP'\n                AND a.sender_type = 'CHAIR'\n                AND {period_condition}\n                GROUP BY year\n                ORDER BY year DESC",
        "system": "올해 SDTP에서 발행된 의제에 대한 KR의 응답률을 계산합니다.",
        "user": "올해 SDTP에서 KR의 응답률을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "recent_sdtp_keywords_v2",
      "template_version": "1.0.0",
      "template_category": "keyword_analysis",
      "query_info": {
        "natural_questions": [
          "최근 SDTP 패널에서 논의되었던 의제의 주요 키워드 출력 해줘",
          "최근 SDTP 주요 키워드",
          "recent SDTP main keywords"
        ],
        "keywords": [
          "최근",
          "SDTP",
          "키워드"
        ]
      },
      "target_scope": {
        "scope_type": "specific_panel",
        "target_organizations": [],
        "target_panels": [
          "SDTP"
        ]
      },
      "sql_template": {
        "query": "SELECT a.keywords, COUNT(*) as frequency \n                FROM agenda_all a \n                WHERE a.agenda_panel = 'SDTP' \n                AND a.sent_time >= DATE('now', '-30 days')\n                AND a.keywords IS NOT NULL \n                GROUP BY a.keywords \n                ORDER BY frequency DESC",
        "system": "최근 30일간 SDTP에서 논의된 의제들의 주요 키워드를 분석합니다.",
        "user": "최근 SDTP에서 어떤 키워드들이 주로 논의되었는지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "kr_no_response_chair_attachment_v2",
      "template_version": "1.0.0",
      "template_category": "organization_response",
      "query_info": {
        "natural_questions": [
          "최근 마감되지 않거나 KR이 응답하지 않은 의제 중에서 의장에 첨부파일을 송부한 의제",
          "KR 미응답 의장 첨부파일 의제",
          "KR no response chair attachment agendas"
        ],
        "keywords": [
          "KR",
          "미응답",
          "의장",
          "첨부파일"
        ]
      },
      "target_scope": {
        "scope_type": "specific_organization",
        "target_organizations": [
          "KR"
        ],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT a.agenda_code, a.subject, a.sender, a.hasAttachments, a.sent_time, a.deadline \n                FROM agenda_all a \n                LEFT JOIN agenda_responses_content arc ON a.agenda_base_version = arc.agenda_base_version\n                WHERE a.sender_type = 'CHAIR' \n                AND (a.response_org = 'KR' OR a.response_org = 'ALL')\n                AND (arc.agenda_base_version IS NULL OR arc.KR IS NULL)\n                AND a.hasAttachments = 1 \n                AND {period_condition} \n                ORDER BY a.deadline ASC",
        "system": "KR이 응답하지 않은 의제 중 의장이 첨부파일과 함께 보낸 것들을 찾습니다.",
        "user": "KR이 아직 응답하지 않은 의제 중에서 의장이 첨부파일을 포함해서 보낸 것들을 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": []
        }
      ]
    },
    {
      "template_id": "agenda_ongoing_status_check_v2",
      "template_version": "1.0.0",
      "template_category": "agenda_status",
      "query_info": {
        "natural_questions": [
          "PL25016 의제가 현재 진행 중인가?",
          "{agenda} 의제가 현재 진행 중인가?",
          "is {agenda} currently ongoing?"
        ],
        "keywords": [
          "진행중",
          "ongoing",
          "상태"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT \n                    agenda_code,\n                    subject,\n                    decision_status,\n                    deadline,\n                    CASE \n                        WHEN deadline < DATE('now') THEN 'Overdue'\n                        WHEN deadline < DATE('now', '+7 days') THEN 'Due Soon'\n                        ELSE 'On Track'\n                    END as deadline_status\n                FROM agenda_all a\n                WHERE a.agenda_code = {agenda}\n                AND decision_status IN ('ongoing', 'created', 'comment')",
        "system": "특정 의제의 현재 진행 상태를 확인합니다.",
        "user": "특정 의제가 현재 진행 중인지 확인하고 싶습니다."
      },
      "parameters": [
        {
          "name": "agenda",
          "type": "string",
          "required": true,
          "description": "Agenda code"
        },
        {
          "name": "period",
          "type": "period",
          "required": false,
          "default": {
            "type": "relative",
            "days": 30
          },
          "sql_builder": {
            "type": "period",
            "field": "sent_time",
            "placeholder": "{period_condition}"
          },
          "mcp_format": "extracted_period"
        }
      ],
      "routing_type": "sql",
      "fix_notes": [
        {
          "date": "2025-01-26",
          "fixes": [
            "Fixed placeholder: {agenda}"
          ]
        }
      ]
    },
    {
      "template_id": "test_upload_functionality_v2",
      "template_version": "1.0.0",
      "template_category": "system_config",
      "query_info": {
        "natural_questions": [
          "템플릿 업로드 테스트",
          "시스템 테스트 템플릿",
          "업로드 기능 검증용 템플릿"
        ],
        "keywords": [
          "테스트",
          "업로드",
          "시스템",
          "검증",
          "test",
          "upload"
        ]
      },
      "target_scope": {
        "scope_type": "all",
        "target_organizations": [],
        "target_panels": "all"
      },
      "sql_template": {
        "query": "SELECT 'Template upload test at 2025-07-25T16:59:20.364115' as test_result",
        "system": "템플릿 업로드 기능을 테스트하기 위한 쿼리입니다.",
        "user": "시스템 테스트를 위한 템플릿입니다."
      },
      "parameters": [],
      "routing_type": "sql"
    }
  ]
}